<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 R Regression Models | IQSS Workshops</title>
  <meta name="description" content="IQSS Data Science Workshops" />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="2 R Regression Models | IQSS Workshops" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="IQSS Data Science Workshops" />
  <meta name="github-repo" content="IQSS/dss-workshops-redux" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 R Regression Models | IQSS Workshops" />
  
  <meta name="twitter:description" content="IQSS Data Science Workshops" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="Rintro.html"/>
<link rel="next" href="Rgraphics.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">IQSS Workshop Materials</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#table-of-contents"><i class="fa fa-check"></i>Table of Contents</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#authors-and-sources"><i class="fa fa-check"></i>Authors and Sources</a></li>
</ul></li>
<li class="part"><span><b>I R</b></span></li>
<li class="chapter" data-level="1" data-path="Rintro.html"><a href="Rintro.html"><i class="fa fa-check"></i><b>1</b> R Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="Rintro.html"><a href="Rintro.html#setup"><i class="fa fa-check"></i><b>1.1</b> Setup</a><ul>
<li class="chapter" data-level="1.1.1" data-path="Rintro.html"><a href="Rintro.html#software-materials"><i class="fa fa-check"></i><b>1.1.1</b> Software &amp; Materials</a></li>
<li class="chapter" data-level="1.1.2" data-path="Rintro.html"><a href="Rintro.html#goals"><i class="fa fa-check"></i><b>1.1.2</b> Goals</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="Rintro.html"><a href="Rintro.html#r-interfaces"><i class="fa fa-check"></i><b>1.2</b> R Interfaces</a></li>
<li class="chapter" data-level="1.3" data-path="Rintro.html"><a href="Rintro.html#exercise-0"><i class="fa fa-check"></i><b>1.3</b> Exercise 0</a></li>
<li class="chapter" data-level="1.4" data-path="Rintro.html"><a href="Rintro.html#r-basics"><i class="fa fa-check"></i><b>1.4</b> R basics</a><ul>
<li class="chapter" data-level="1.4.1" data-path="Rintro.html"><a href="Rintro.html#function-calls"><i class="fa fa-check"></i><b>1.4.1</b> Function calls</a></li>
<li class="chapter" data-level="1.4.2" data-path="Rintro.html"><a href="Rintro.html#assignment"><i class="fa fa-check"></i><b>1.4.2</b> Assignment</a></li>
<li class="chapter" data-level="1.4.3" data-path="Rintro.html"><a href="Rintro.html#asking-r-for-help"><i class="fa fa-check"></i><b>1.4.3</b> Asking R for help</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="Rintro.html"><a href="Rintro.html#getting-data-into-r"><i class="fa fa-check"></i><b>1.5</b> Getting data into R</a><ul>
<li class="chapter" data-level="1.5.1" data-path="Rintro.html"><a href="Rintro.html#installing-and-using-r-packages"><i class="fa fa-check"></i><b>1.5.1</b> Installing and using R packages</a></li>
<li class="chapter" data-level="1.5.2" data-path="Rintro.html"><a href="Rintro.html#readers-for-common-file-types"><i class="fa fa-check"></i><b>1.5.2</b> Readers for common file types</a></li>
<li class="chapter" data-level="1.5.3" data-path="Rintro.html"><a href="Rintro.html#baby-names-data"><i class="fa fa-check"></i><b>1.5.3</b> Baby names data</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="Rintro.html"><a href="Rintro.html#exercise-1"><i class="fa fa-check"></i><b>1.6</b> Exercise 1</a></li>
<li class="chapter" data-level="1.7" data-path="Rintro.html"><a href="Rintro.html#popularity-of-your-name"><i class="fa fa-check"></i><b>1.7</b> Popularity of your name</a></li>
<li class="chapter" data-level="1.8" data-path="Rintro.html"><a href="Rintro.html#filtering-and-arranging-data"><i class="fa fa-check"></i><b>1.8</b> Filtering and arranging data</a></li>
<li class="chapter" data-level="1.9" data-path="Rintro.html"><a href="Rintro.html#other-logical-operators"><i class="fa fa-check"></i><b>1.9</b> Other logical operators</a></li>
<li class="chapter" data-level="1.10" data-path="Rintro.html"><a href="Rintro.html#exercise-2"><i class="fa fa-check"></i><b>1.10</b> Exercise 2</a></li>
<li class="chapter" data-level="1.11" data-path="Rintro.html"><a href="Rintro.html#plotting-baby-name-trends-over-time"><i class="fa fa-check"></i><b>1.11</b> Plotting baby name trends over time</a></li>
<li class="chapter" data-level="1.12" data-path="Rintro.html"><a href="Rintro.html#exercise-3"><i class="fa fa-check"></i><b>1.12</b> Exercise 3</a></li>
<li class="chapter" data-level="1.13" data-path="Rintro.html"><a href="Rintro.html#finding-the-most-popular-names"><i class="fa fa-check"></i><b>1.13</b> Finding the most popular names</a><ul>
<li class="chapter" data-level="1.13.1" data-path="Rintro.html"><a href="Rintro.html#computing-better-measures-of-popularity"><i class="fa fa-check"></i><b>1.13.1</b> Computing better measures of popularity</a></li>
<li class="chapter" data-level="1.13.2" data-path="Rintro.html"><a href="Rintro.html#operating-by-group"><i class="fa fa-check"></i><b>1.13.2</b> Operating by group</a></li>
</ul></li>
<li class="chapter" data-level="1.14" data-path="Rintro.html"><a href="Rintro.html#exercise-4"><i class="fa fa-check"></i><b>1.14</b> Exercise 4</a></li>
<li class="chapter" data-level="1.15" data-path="Rintro.html"><a href="Rintro.html#percent-choosing-one-of-the-top-10-names"><i class="fa fa-check"></i><b>1.15</b> Percent choosing one of the top 10 names</a></li>
<li class="chapter" data-level="1.16" data-path="Rintro.html"><a href="Rintro.html#exercise-5"><i class="fa fa-check"></i><b>1.16</b> Exercise 5</a></li>
<li class="chapter" data-level="1.17" data-path="Rintro.html"><a href="Rintro.html#saving-our-work"><i class="fa fa-check"></i><b>1.17</b> Saving our Work</a><ul>
<li class="chapter" data-level="1.17.1" data-path="Rintro.html"><a href="Rintro.html#saving-individual-datasets"><i class="fa fa-check"></i><b>1.17.1</b> Saving individual datasets</a></li>
<li class="chapter" data-level="1.17.2" data-path="Rintro.html"><a href="Rintro.html#saving-and-loading-r-workspaces"><i class="fa fa-check"></i><b>1.17.2</b> Saving and loading R workspaces</a></li>
</ul></li>
<li class="chapter" data-level="1.18" data-path="Rintro.html"><a href="Rintro.html#exercise-solutions"><i class="fa fa-check"></i><b>1.18</b> Exercise solutions</a><ul>
<li class="chapter" data-level="1.18.1" data-path="Rintro.html"><a href="Rintro.html#ex-0-prototype"><i class="fa fa-check"></i><b>1.18.1</b> Ex 0: prototype</a></li>
<li class="chapter" data-level="1.18.2" data-path="Rintro.html"><a href="Rintro.html#ex-1-prototype"><i class="fa fa-check"></i><b>1.18.2</b> Ex 1: prototype</a></li>
<li class="chapter" data-level="1.18.3" data-path="Rintro.html"><a href="Rintro.html#ex-2-prototype"><i class="fa fa-check"></i><b>1.18.3</b> Ex 2: prototype</a></li>
<li class="chapter" data-level="1.18.4" data-path="Rintro.html"><a href="Rintro.html#ex-3-prototype"><i class="fa fa-check"></i><b>1.18.4</b> Ex 3: prototype</a></li>
<li class="chapter" data-level="1.18.5" data-path="Rintro.html"><a href="Rintro.html#ex-4-prototype"><i class="fa fa-check"></i><b>1.18.5</b> Ex 4: prototype</a></li>
<li class="chapter" data-level="1.18.6" data-path="Rintro.html"><a href="Rintro.html#ex-5-prototype"><i class="fa fa-check"></i><b>1.18.6</b> Ex 5: prototype</a></li>
</ul></li>
<li class="chapter" data-level="1.19" data-path="Rintro.html"><a href="Rintro.html#wrap-up"><i class="fa fa-check"></i><b>1.19</b> Wrap-up</a><ul>
<li class="chapter" data-level="1.19.1" data-path="Rintro.html"><a href="Rintro.html#feedback"><i class="fa fa-check"></i><b>1.19.1</b> Feedback</a></li>
<li class="chapter" data-level="1.19.2" data-path="Rintro.html"><a href="Rintro.html#resources"><i class="fa fa-check"></i><b>1.19.2</b> Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Rmodels.html"><a href="Rmodels.html"><i class="fa fa-check"></i><b>2</b> R Regression Models</a><ul>
<li class="chapter" data-level="2.1" data-path="Rmodels.html"><a href="Rmodels.html#setup-1"><i class="fa fa-check"></i><b>2.1</b> Setup</a><ul>
<li class="chapter" data-level="2.1.1" data-path="Rmodels.html"><a href="Rmodels.html#software-materials-1"><i class="fa fa-check"></i><b>2.1.1</b> Software &amp; Materials</a></li>
<li class="chapter" data-level="2.1.2" data-path="Rmodels.html"><a href="Rmodels.html#goals-1"><i class="fa fa-check"></i><b>2.1.2</b> Goals</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="Rmodels.html"><a href="Rmodels.html#ordinary-least-squares-ols-regression"><i class="fa fa-check"></i><b>2.2</b> Ordinary least squares (OLS) regression</a><ul>
<li class="chapter" data-level="2.2.1" data-path="Rmodels.html"><a href="Rmodels.html#inspect-and-load-data"><i class="fa fa-check"></i><b>2.2.1</b> Inspect and load data</a></li>
<li class="chapter" data-level="2.2.2" data-path="Rmodels.html"><a href="Rmodels.html#examine-the-data-before-fitting-models"><i class="fa fa-check"></i><b>2.2.2</b> Examine the data before fitting models</a></li>
<li class="chapter" data-level="2.2.3" data-path="Rmodels.html"><a href="Rmodels.html#plot-the-data-before-fitting-models"><i class="fa fa-check"></i><b>2.2.3</b> Plot the data before fitting models</a></li>
<li class="chapter" data-level="2.2.4" data-path="Rmodels.html"><a href="Rmodels.html#ols-example"><i class="fa fa-check"></i><b>2.2.4</b> OLS example</a></li>
<li class="chapter" data-level="2.2.5" data-path="Rmodels.html"><a href="Rmodels.html#why-is-the-association-between-expense-and-sat-scores-negative"><i class="fa fa-check"></i><b>2.2.5</b> Why is the association between expense and SAT scores <em>negative</em>?</a></li>
<li class="chapter" data-level="2.2.6" data-path="Rmodels.html"><a href="Rmodels.html#the-lm-class-and-methods"><i class="fa fa-check"></i><b>2.2.6</b> The lm class and methods</a></li>
<li class="chapter" data-level="2.2.7" data-path="Rmodels.html"><a href="Rmodels.html#ols-regression-assumptions"><i class="fa fa-check"></i><b>2.2.7</b> OLS Regression Assumptions</a></li>
<li class="chapter" data-level="2.2.8" data-path="Rmodels.html"><a href="Rmodels.html#comparing-models"><i class="fa fa-check"></i><b>2.2.8</b> Comparing models</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="Rmodels.html"><a href="Rmodels.html#exercise-0-1"><i class="fa fa-check"></i><b>2.3</b> Exercise 0</a></li>
<li class="chapter" data-level="2.4" data-path="Rmodels.html"><a href="Rmodels.html#interactions-and-factors"><i class="fa fa-check"></i><b>2.4</b> Interactions and factors</a><ul>
<li class="chapter" data-level="2.4.1" data-path="Rmodels.html"><a href="Rmodels.html#modeling-interactions"><i class="fa fa-check"></i><b>2.4.1</b> Modeling interactions</a></li>
<li class="chapter" data-level="2.4.2" data-path="Rmodels.html"><a href="Rmodels.html#regression-with-categorical-predictors"><i class="fa fa-check"></i><b>2.4.2</b> Regression with categorical predictors</a></li>
<li class="chapter" data-level="2.4.3" data-path="Rmodels.html"><a href="Rmodels.html#setting-factor-reference-groups-and-contrasts"><i class="fa fa-check"></i><b>2.4.3</b> Setting factor reference groups and contrasts</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="Rmodels.html"><a href="Rmodels.html#exercise-1-1"><i class="fa fa-check"></i><b>2.5</b> Exercise 1</a></li>
<li class="chapter" data-level="2.6" data-path="Rmodels.html"><a href="Rmodels.html#regression-with-binary-outcomes"><i class="fa fa-check"></i><b>2.6</b> Regression with binary outcomes</a><ul>
<li class="chapter" data-level="2.6.1" data-path="Rmodels.html"><a href="Rmodels.html#logistic-regression"><i class="fa fa-check"></i><b>2.6.1</b> Logistic regression</a></li>
<li class="chapter" data-level="2.6.2" data-path="Rmodels.html"><a href="Rmodels.html#logistic-regression-example"><i class="fa fa-check"></i><b>2.6.2</b> Logistic regression example</a></li>
<li class="chapter" data-level="2.6.3" data-path="Rmodels.html"><a href="Rmodels.html#logistic-regression-coefficients"><i class="fa fa-check"></i><b>2.6.3</b> Logistic regression coefficients</a></li>
<li class="chapter" data-level="2.6.4" data-path="Rmodels.html"><a href="Rmodels.html#packages-for-computing-and-graphing-predicted-values"><i class="fa fa-check"></i><b>2.6.4</b> Packages for computing and graphing predicted values</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="Rmodels.html"><a href="Rmodels.html#exercise-2-1"><i class="fa fa-check"></i><b>2.7</b> Exercise 2</a></li>
<li class="chapter" data-level="2.8" data-path="Rmodels.html"><a href="Rmodels.html#multilevel-modeling"><i class="fa fa-check"></i><b>2.8</b> Multilevel Modeling</a><ul>
<li class="chapter" data-level="2.8.1" data-path="Rmodels.html"><a href="Rmodels.html#multilevel-modeling-overview"><i class="fa fa-check"></i><b>2.8.1</b> Multilevel modeling overview</a></li>
<li class="chapter" data-level="2.8.2" data-path="Rmodels.html"><a href="Rmodels.html#the-exam-data"><i class="fa fa-check"></i><b>2.8.2</b> The Exam data</a></li>
<li class="chapter" data-level="2.8.3" data-path="Rmodels.html"><a href="Rmodels.html#the-null-model-and-icc"><i class="fa fa-check"></i><b>2.8.3</b> The null model and ICC</a></li>
<li class="chapter" data-level="2.8.4" data-path="Rmodels.html"><a href="Rmodels.html#adding-fixed-effects-predictors"><i class="fa fa-check"></i><b>2.8.4</b> Adding fixed-effects predictors</a></li>
<li class="chapter" data-level="2.8.5" data-path="Rmodels.html"><a href="Rmodels.html#multiple-degree-of-freedom-comparisons"><i class="fa fa-check"></i><b>2.8.5</b> Multiple degree of freedom comparisons</a></li>
<li class="chapter" data-level="2.8.6" data-path="Rmodels.html"><a href="Rmodels.html#random-slopes"><i class="fa fa-check"></i><b>2.8.6</b> Random slopes</a></li>
<li class="chapter" data-level="2.8.7" data-path="Rmodels.html"><a href="Rmodels.html#test-the-significance-of-the-random-slope"><i class="fa fa-check"></i><b>2.8.7</b> Test the significance of the random slope</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="Rmodels.html"><a href="Rmodels.html#exercise-3-1"><i class="fa fa-check"></i><b>2.9</b> Exercise 3</a></li>
<li class="chapter" data-level="2.10" data-path="Rmodels.html"><a href="Rmodels.html#exercise-solutions-1"><i class="fa fa-check"></i><b>2.10</b> Exercise solutions</a><ul>
<li class="chapter" data-level="2.10.1" data-path="Rmodels.html"><a href="Rmodels.html#ex-0-prototype-1"><i class="fa fa-check"></i><b>2.10.1</b> Ex 0: prototype</a></li>
<li class="chapter" data-level="2.10.2" data-path="Rmodels.html"><a href="Rmodels.html#ex-1-prototype-1"><i class="fa fa-check"></i><b>2.10.2</b> Ex 1: prototype</a></li>
<li class="chapter" data-level="2.10.3" data-path="Rmodels.html"><a href="Rmodels.html#ex-2-prototype-1"><i class="fa fa-check"></i><b>2.10.3</b> Ex 2: prototype</a></li>
<li class="chapter" data-level="2.10.4" data-path="Rmodels.html"><a href="Rmodels.html#ex-3-prototype-1"><i class="fa fa-check"></i><b>2.10.4</b> Ex 3: prototype</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="Rmodels.html"><a href="Rmodels.html#wrap-up-1"><i class="fa fa-check"></i><b>2.11</b> Wrap-up</a><ul>
<li class="chapter" data-level="2.11.1" data-path="Rmodels.html"><a href="Rmodels.html#feedback-1"><i class="fa fa-check"></i><b>2.11.1</b> Feedback</a></li>
<li class="chapter" data-level="2.11.2" data-path="Rmodels.html"><a href="Rmodels.html#resources-1"><i class="fa fa-check"></i><b>2.11.2</b> Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Rgraphics.html"><a href="Rgraphics.html"><i class="fa fa-check"></i><b>3</b> R Graphics</a><ul>
<li class="chapter" data-level="3.1" data-path="Rgraphics.html"><a href="Rgraphics.html#setup-2"><i class="fa fa-check"></i><b>3.1</b> Setup</a><ul>
<li class="chapter" data-level="3.1.1" data-path="Rgraphics.html"><a href="Rgraphics.html#software-materials-2"><i class="fa fa-check"></i><b>3.1.1</b> Software &amp; Materials</a></li>
<li class="chapter" data-level="3.1.2" data-path="Rgraphics.html"><a href="Rgraphics.html#goals-2"><i class="fa fa-check"></i><b>3.1.2</b> Goals</a></li>
<li class="chapter" data-level="3.1.3" data-path="Rgraphics.html"><a href="Rgraphics.html#starting-at-the-end"><i class="fa fa-check"></i><b>3.1.3</b> Starting At The End</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="Rgraphics.html"><a href="Rgraphics.html#why-ggplot2"><i class="fa fa-check"></i><b>3.2</b> Why <code>ggplot2</code>?</a><ul>
<li class="chapter" data-level="3.2.1" data-path="Rgraphics.html"><a href="Rgraphics.html#what-is-the-grammar-of-graphics"><i class="fa fa-check"></i><b>3.2.1</b> What Is The Grammar Of Graphics?</a></li>
<li class="chapter" data-level="3.2.2" data-path="Rgraphics.html"><a href="Rgraphics.html#example-data-housing-prices"><i class="fa fa-check"></i><b>3.2.2</b> Example Data: <code>Housing prices</code></a></li>
<li class="chapter" data-level="3.2.3" data-path="Rgraphics.html"><a href="Rgraphics.html#ggplot2-vs-base-graphics"><i class="fa fa-check"></i><b>3.2.3</b> <code>ggplot2</code> VS Base Graphics</a></li>
<li class="chapter" data-level="3.2.4" data-path="Rgraphics.html"><a href="Rgraphics.html#ggplot2-vs-base-for-simple-graphs"><i class="fa fa-check"></i><b>3.2.4</b> <code>ggplot2</code> VS Base for simple graphs</a></li>
<li class="chapter" data-level="3.2.5" data-path="Rgraphics.html"><a href="Rgraphics.html#ggplot2-base-graphics-vs-ggplot-for-more-complex-graphs"><i class="fa fa-check"></i><b>3.2.5</b> <code>ggplot2</code> Base graphics VS <code>ggplot</code> for more complex graphs:</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="Rgraphics.html"><a href="Rgraphics.html#geometric-objects-and-aesthetics"><i class="fa fa-check"></i><b>3.3</b> Geometric Objects And Aesthetics</a><ul>
<li class="chapter" data-level="3.3.1" data-path="Rgraphics.html"><a href="Rgraphics.html#aesthetic-mapping"><i class="fa fa-check"></i><b>3.3.1</b> Aesthetic Mapping</a></li>
<li class="chapter" data-level="3.3.2" data-path="Rgraphics.html"><a href="Rgraphics.html#geometic-objects-geom"><i class="fa fa-check"></i><b>3.3.2</b> Geometic Objects (<code>geom</code>)</a></li>
<li class="chapter" data-level="3.3.3" data-path="Rgraphics.html"><a href="Rgraphics.html#points-scatterplot"><i class="fa fa-check"></i><b>3.3.3</b> Points (Scatterplot)</a></li>
<li class="chapter" data-level="3.3.4" data-path="Rgraphics.html"><a href="Rgraphics.html#lines-prediction-line"><i class="fa fa-check"></i><b>3.3.4</b> Lines (Prediction Line)</a></li>
<li class="chapter" data-level="3.3.5" data-path="Rgraphics.html"><a href="Rgraphics.html#smoothers"><i class="fa fa-check"></i><b>3.3.5</b> Smoothers</a></li>
<li class="chapter" data-level="3.3.6" data-path="Rgraphics.html"><a href="Rgraphics.html#text-label-points"><i class="fa fa-check"></i><b>3.3.6</b> Text (Label Points)</a></li>
<li class="chapter" data-level="3.3.7" data-path="Rgraphics.html"><a href="Rgraphics.html#aesthetic-mapping-vs-assignment"><i class="fa fa-check"></i><b>3.3.7</b> Aesthetic Mapping VS Assignment</a></li>
<li class="chapter" data-level="3.3.8" data-path="Rgraphics.html"><a href="Rgraphics.html#mapping-variables-to-other-aesthetics"><i class="fa fa-check"></i><b>3.3.8</b> Mapping Variables To Other Aesthetics</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="Rgraphics.html"><a href="Rgraphics.html#exercise-0-2"><i class="fa fa-check"></i><b>3.4</b> Exercise 0</a></li>
<li class="chapter" data-level="3.5" data-path="Rgraphics.html"><a href="Rgraphics.html#statistical-transformations"><i class="fa fa-check"></i><b>3.5</b> Statistical Transformations</a><ul>
<li class="chapter" data-level="3.5.1" data-path="Rgraphics.html"><a href="Rgraphics.html#statistical-transformations-1"><i class="fa fa-check"></i><b>3.5.1</b> Statistical Transformations</a></li>
<li class="chapter" data-level="3.5.2" data-path="Rgraphics.html"><a href="Rgraphics.html#setting-statistical-transformation-arguments"><i class="fa fa-check"></i><b>3.5.2</b> Setting Statistical Transformation Arguments</a></li>
<li class="chapter" data-level="3.5.3" data-path="Rgraphics.html"><a href="Rgraphics.html#changing-the-statistical-transformation"><i class="fa fa-check"></i><b>3.5.3</b> Changing The Statistical Transformation</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="Rgraphics.html"><a href="Rgraphics.html#exercise-1-2"><i class="fa fa-check"></i><b>3.6</b> Exercise 1</a></li>
<li class="chapter" data-level="3.7" data-path="Rgraphics.html"><a href="Rgraphics.html#scales"><i class="fa fa-check"></i><b>3.7</b> Scales</a><ul>
<li class="chapter" data-level="3.7.1" data-path="Rgraphics.html"><a href="Rgraphics.html#scales-controlling-aesthetic-mapping"><i class="fa fa-check"></i><b>3.7.1</b> Scales: Controlling Aesthetic Mapping</a></li>
<li class="chapter" data-level="3.7.2" data-path="Rgraphics.html"><a href="Rgraphics.html#common-scale-arguments"><i class="fa fa-check"></i><b>3.7.2</b> Common Scale Arguments</a></li>
<li class="chapter" data-level="3.7.3" data-path="Rgraphics.html"><a href="Rgraphics.html#scale-modification-examples"><i class="fa fa-check"></i><b>3.7.3</b> Scale Modification Examples</a></li>
<li class="chapter" data-level="3.7.4" data-path="Rgraphics.html"><a href="Rgraphics.html#using-different-color-scales"><i class="fa fa-check"></i><b>3.7.4</b> Using different color scales</a></li>
<li class="chapter" data-level="3.7.5" data-path="Rgraphics.html"><a href="Rgraphics.html#available-scales"><i class="fa fa-check"></i><b>3.7.5</b> Available Scales</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="Rgraphics.html"><a href="Rgraphics.html#exercise-2-2"><i class="fa fa-check"></i><b>3.8</b> Exercise 2</a></li>
<li class="chapter" data-level="3.9" data-path="Rgraphics.html"><a href="Rgraphics.html#faceting"><i class="fa fa-check"></i><b>3.9</b> Faceting</a><ul>
<li class="chapter" data-level="3.9.1" data-path="Rgraphics.html"><a href="Rgraphics.html#faceting-1"><i class="fa fa-check"></i><b>3.9.1</b> Faceting</a></li>
<li class="chapter" data-level="3.9.2" data-path="Rgraphics.html"><a href="Rgraphics.html#what-is-the-trend-in-housing-prices-in-each-state"><i class="fa fa-check"></i><b>3.9.2</b> What is the trend in housing prices in each state?</a></li>
<li class="chapter" data-level="3.9.3" data-path="Rgraphics.html"><a href="Rgraphics.html#faceting-to-the-rescue"><i class="fa fa-check"></i><b>3.9.3</b> Faceting to the rescue</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="Rgraphics.html"><a href="Rgraphics.html#themes"><i class="fa fa-check"></i><b>3.10</b> Themes</a><ul>
<li class="chapter" data-level="3.10.1" data-path="Rgraphics.html"><a href="Rgraphics.html#themes-1"><i class="fa fa-check"></i><b>3.10.1</b> Themes</a></li>
<li class="chapter" data-level="3.10.2" data-path="Rgraphics.html"><a href="Rgraphics.html#overriding-theme-defaults"><i class="fa fa-check"></i><b>3.10.2</b> Overriding theme defaults</a></li>
<li class="chapter" data-level="3.10.3" data-path="Rgraphics.html"><a href="Rgraphics.html#creating-and-saving-new-themes"><i class="fa fa-check"></i><b>3.10.3</b> Creating and saving new themes</a></li>
</ul></li>
<li class="chapter" data-level="3.11" data-path="Rgraphics.html"><a href="Rgraphics.html#the-1-faq"><i class="fa fa-check"></i><b>3.11</b> The #1 FAQ</a><ul>
<li class="chapter" data-level="3.11.1" data-path="Rgraphics.html"><a href="Rgraphics.html#map-aesthetic-to-different-columns"><i class="fa fa-check"></i><b>3.11.1</b> Map Aesthetic To Different Columns</a></li>
</ul></li>
<li class="chapter" data-level="3.12" data-path="Rgraphics.html"><a href="Rgraphics.html#putting-it-all-together"><i class="fa fa-check"></i><b>3.12</b> Putting It All Together</a><ul>
<li class="chapter" data-level="3.12.1" data-path="Rgraphics.html"><a href="Rgraphics.html#challenge-recreate-this-economist-graph"><i class="fa fa-check"></i><b>3.12.1</b> Challenge: Recreate This <code>Economist</code> Graph</a></li>
<li class="chapter" data-level="3.12.2" data-path="Rgraphics.html"><a href="Rgraphics.html#challenge-solution"><i class="fa fa-check"></i><b>3.12.2</b> Challenge Solution:</a></li>
</ul></li>
<li class="chapter" data-level="3.13" data-path="Rgraphics.html"><a href="Rgraphics.html#exercise-solutions-2"><i class="fa fa-check"></i><b>3.13</b> Exercise solutions</a><ul>
<li class="chapter" data-level="3.13.1" data-path="Rgraphics.html"><a href="Rgraphics.html#ex-0-prototype-2"><i class="fa fa-check"></i><b>3.13.1</b> Ex 0 prototype:</a></li>
<li class="chapter" data-level="3.13.2" data-path="Rgraphics.html"><a href="Rgraphics.html#ex-1-prototype-2"><i class="fa fa-check"></i><b>3.13.2</b> Ex 1 prototype:</a></li>
<li class="chapter" data-level="3.13.3" data-path="Rgraphics.html"><a href="Rgraphics.html#ex-2-prototype-2"><i class="fa fa-check"></i><b>3.13.3</b> Ex 2 prototype</a></li>
</ul></li>
<li class="chapter" data-level="3.14" data-path="Rgraphics.html"><a href="Rgraphics.html#wrap-up-2"><i class="fa fa-check"></i><b>3.14</b> Wrap-up</a><ul>
<li class="chapter" data-level="3.14.1" data-path="Rgraphics.html"><a href="Rgraphics.html#feedback-2"><i class="fa fa-check"></i><b>3.14.1</b> Feedback</a></li>
<li class="chapter" data-level="3.14.2" data-path="Rgraphics.html"><a href="Rgraphics.html#resources-2"><i class="fa fa-check"></i><b>3.14.2</b> Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="RDataWrangling.html"><a href="RDataWrangling.html"><i class="fa fa-check"></i><b>4</b> R Data Wrangling</a><ul>
<li class="chapter" data-level="4.1" data-path="RDataWrangling.html"><a href="RDataWrangling.html#setup-3"><i class="fa fa-check"></i><b>4.1</b> Setup</a><ul>
<li class="chapter" data-level="4.1.1" data-path="RDataWrangling.html"><a href="RDataWrangling.html#software-materials-3"><i class="fa fa-check"></i><b>4.1.1</b> Software &amp; Materials</a></li>
<li class="chapter" data-level="4.1.2" data-path="RDataWrangling.html"><a href="RDataWrangling.html#goals-3"><i class="fa fa-check"></i><b>4.1.2</b> Goals</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="RDataWrangling.html"><a href="RDataWrangling.html#example-project"><i class="fa fa-check"></i><b>4.2</b> Example project</a><ul>
<li class="chapter" data-level="4.2.1" data-path="RDataWrangling.html"><a href="RDataWrangling.html#problems-with-the-data"><i class="fa fa-check"></i><b>4.2.1</b> Problems with the data</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="RDataWrangling.html"><a href="RDataWrangling.html#exercise-0-3"><i class="fa fa-check"></i><b>4.3</b> Exercise 0</a></li>
<li class="chapter" data-level="4.4" data-path="RDataWrangling.html"><a href="RDataWrangling.html#useful-data-manipulation-packages"><i class="fa fa-check"></i><b>4.4</b> Useful data manipulation packages</a></li>
<li class="chapter" data-level="4.5" data-path="RDataWrangling.html"><a href="RDataWrangling.html#working-with-excel-worksheets"><i class="fa fa-check"></i><b>4.5</b> Working with Excel worksheets</a><ul>
<li class="chapter" data-level="4.5.1" data-path="RDataWrangling.html"><a href="RDataWrangling.html#iterating-over-file-names-with-map"><i class="fa fa-check"></i><b>4.5.1</b> Iterating over file names with <code>map</code></a></li>
<li class="chapter" data-level="4.5.2" data-path="RDataWrangling.html"><a href="RDataWrangling.html#filtering-strings-using-regular-expressions"><i class="fa fa-check"></i><b>4.5.2</b> Filtering strings using regular expressions</a></li>
<li class="chapter" data-level="4.5.3" data-path="RDataWrangling.html"><a href="RDataWrangling.html#writing-your-own-functions"><i class="fa fa-check"></i><b>4.5.3</b> Writing your own functions</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="RDataWrangling.html"><a href="RDataWrangling.html#reading-excel-data-files"><i class="fa fa-check"></i><b>4.6</b> Reading Excel data files</a></li>
<li class="chapter" data-level="4.7" data-path="RDataWrangling.html"><a href="RDataWrangling.html#exercise-1-3"><i class="fa fa-check"></i><b>4.7</b> Exercise 1</a></li>
<li class="chapter" data-level="4.8" data-path="RDataWrangling.html"><a href="RDataWrangling.html#data-cleanup"><i class="fa fa-check"></i><b>4.8</b> Data cleanup</a><ul>
<li class="chapter" data-level="4.8.1" data-path="RDataWrangling.html"><a href="RDataWrangling.html#selecting-columns"><i class="fa fa-check"></i><b>4.8.1</b> Selecting columns</a></li>
<li class="chapter" data-level="4.8.2" data-path="RDataWrangling.html"><a href="RDataWrangling.html#dropping-missing-values"><i class="fa fa-check"></i><b>4.8.2</b> Dropping missing values</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="RDataWrangling.html"><a href="RDataWrangling.html#exercise-2-3"><i class="fa fa-check"></i><b>4.9</b> Exercise 2</a><ul>
<li class="chapter" data-level="4.9.1" data-path="RDataWrangling.html"><a href="RDataWrangling.html#re-arranging-into-a-single-table"><i class="fa fa-check"></i><b>4.9.1</b> Re-arranging into a single table</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="RDataWrangling.html"><a href="RDataWrangling.html#exercise-3-2"><i class="fa fa-check"></i><b>4.10</b> Exercise 3</a></li>
<li class="chapter" data-level="4.11" data-path="RDataWrangling.html"><a href="RDataWrangling.html#data-organization-and-storage"><i class="fa fa-check"></i><b>4.11</b> Data organization and storage</a><ul>
<li class="chapter" data-level="4.11.1" data-path="RDataWrangling.html"><a href="RDataWrangling.html#one-table-for-each-year"><i class="fa fa-check"></i><b>4.11.1</b> One table for each year</a></li>
<li class="chapter" data-level="4.11.2" data-path="RDataWrangling.html"><a href="RDataWrangling.html#one-big-table"><i class="fa fa-check"></i><b>4.11.2</b> One big table</a></li>
</ul></li>
<li class="chapter" data-level="4.12" data-path="RDataWrangling.html"><a href="RDataWrangling.html#exercise-4-1"><i class="fa fa-check"></i><b>4.12</b> Exercise 4</a></li>
<li class="chapter" data-level="4.13" data-path="RDataWrangling.html"><a href="RDataWrangling.html#exercise-solutions-3"><i class="fa fa-check"></i><b>4.13</b> Exercise solutions</a><ul>
<li class="chapter" data-level="4.13.1" data-path="RDataWrangling.html"><a href="RDataWrangling.html#ex-0-prototype-3"><i class="fa fa-check"></i><b>4.13.1</b> Ex 0: prototype</a></li>
<li class="chapter" data-level="4.13.2" data-path="RDataWrangling.html"><a href="RDataWrangling.html#ex-1-prototype-3"><i class="fa fa-check"></i><b>4.13.2</b> Ex 1: prototype</a></li>
<li class="chapter" data-level="4.13.3" data-path="RDataWrangling.html"><a href="RDataWrangling.html#ex-2-prototype-3"><i class="fa fa-check"></i><b>4.13.3</b> Ex 2: prototype</a></li>
<li class="chapter" data-level="4.13.4" data-path="RDataWrangling.html"><a href="RDataWrangling.html#ex-3-prototype-2"><i class="fa fa-check"></i><b>4.13.4</b> Ex 3: prototype</a></li>
<li class="chapter" data-level="4.13.5" data-path="RDataWrangling.html"><a href="RDataWrangling.html#ex-4-prototype-1"><i class="fa fa-check"></i><b>4.13.5</b> Ex 4: prototype</a></li>
</ul></li>
<li class="chapter" data-level="4.14" data-path="RDataWrangling.html"><a href="RDataWrangling.html#wrap-up-3"><i class="fa fa-check"></i><b>4.14</b> Wrap-up</a><ul>
<li class="chapter" data-level="4.14.1" data-path="RDataWrangling.html"><a href="RDataWrangling.html#feedback-3"><i class="fa fa-check"></i><b>4.14.1</b> Feedback</a></li>
<li class="chapter" data-level="4.14.2" data-path="RDataWrangling.html"><a href="RDataWrangling.html#resources-3"><i class="fa fa-check"></i><b>4.14.2</b> Resources</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Python</b></span></li>
<li class="chapter" data-level="5" data-path="PythonIntro.html"><a href="PythonIntro.html"><i class="fa fa-check"></i><b>5</b> Python Introduction</a><ul>
<li class="chapter" data-level="5.1" data-path="PythonIntro.html"><a href="PythonIntro.html#setup-4"><i class="fa fa-check"></i><b>5.1</b> Setup</a><ul>
<li class="chapter" data-level="5.1.1" data-path="PythonIntro.html"><a href="PythonIntro.html#software-materials-4"><i class="fa fa-check"></i><b>5.1.1</b> Software &amp; Materials</a></li>
<li class="chapter" data-level="5.1.2" data-path="PythonIntro.html"><a href="PythonIntro.html#goals-4"><i class="fa fa-check"></i><b>5.1.2</b> Goals</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="PythonIntro.html"><a href="PythonIntro.html#what-is-python"><i class="fa fa-check"></i><b>5.2</b> What is Python?</a></li>
<li class="chapter" data-level="5.3" data-path="PythonIntro.html"><a href="PythonIntro.html#how-can-i-interact-with-python"><i class="fa fa-check"></i><b>5.3</b> How can I interact with Python?</a></li>
<li class="chapter" data-level="5.4" data-path="PythonIntro.html"><a href="PythonIntro.html#reading-the-text-of-alice-in-wonderland-from-a-file"><i class="fa fa-check"></i><b>5.4</b> Reading the text of Alice in Wonderland from a file</a></li>
<li class="chapter" data-level="5.5" data-path="PythonIntro.html"><a href="PythonIntro.html#counting-chapters-lines-and-words"><i class="fa fa-check"></i><b>5.5</b> Counting chapters, lines, and words</a><ul>
<li class="chapter" data-level="5.5.1" data-path="PythonIntro.html"><a href="PythonIntro.html#splitting-a-string-into-a-list-of-words"><i class="fa fa-check"></i><b>5.5.1</b> Splitting a string into a list of words</a></li>
<li class="chapter" data-level="5.5.2" data-path="PythonIntro.html"><a href="PythonIntro.html#using-sets-to-calculate-the-number-of-unique-words"><i class="fa fa-check"></i><b>5.5.2</b> Using sets to calculate the number of unique words</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="PythonIntro.html"><a href="PythonIntro.html#exercise-reading-text-from-a-file-and-splitting"><i class="fa fa-check"></i><b>5.6</b> Exercise: Reading text from a file and splitting</a><ul>
<li class="chapter" data-level="5.6.1" data-path="PythonIntro.html"><a href="PythonIntro.html#working-with-lists"><i class="fa fa-check"></i><b>5.6.1</b> Working with lists</a></li>
<li class="chapter" data-level="5.6.2" data-path="PythonIntro.html"><a href="PythonIntro.html#counting-chapters-and-paragraphs"><i class="fa fa-check"></i><b>5.6.2</b> Counting chapters and paragraphs</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="PythonIntro.html"><a href="PythonIntro.html#exercise-count-the-number-of-main-characters"><i class="fa fa-check"></i><b>5.7</b> Exercise: count the number of main characters</a></li>
<li class="chapter" data-level="5.8" data-path="PythonIntro.html"><a href="PythonIntro.html#working-with-nested-structures-words-within-paragraphs-within-chapters"><i class="fa fa-check"></i><b>5.8</b> Working with nested structures: words within paragraphs within chapters</a><ul>
<li class="chapter" data-level="5.8.1" data-path="PythonIntro.html"><a href="PythonIntro.html#iterating-over-paragraphs-using-for-loops"><i class="fa fa-check"></i><b>5.8.1</b> Iterating over paragraphs using for-loops</a></li>
<li class="chapter" data-level="5.8.2" data-path="PythonIntro.html"><a href="PythonIntro.html#iterating-and-collecting-paragraphs-per-chapter-using-list-comprehension"><i class="fa fa-check"></i><b>5.8.2</b> Iterating and collecting paragraphs per chapter using list comprehension</a></li>
<li class="chapter" data-level="5.8.3" data-path="PythonIntro.html"><a href="PythonIntro.html#organizing-results-in-dictionaries"><i class="fa fa-check"></i><b>5.8.3</b> Organizing results in dictionaries</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="PythonIntro.html"><a href="PythonIntro.html#exercise-iterating-and-counting-things"><i class="fa fa-check"></i><b>5.9</b> Exercise: Iterating and counting things</a></li>
<li class="chapter" data-level="5.10" data-path="PythonIntro.html"><a href="PythonIntro.html#importing-numpy-and-calculating-simple-statistics"><i class="fa fa-check"></i><b>5.10</b> Importing numpy and calculating simple statistics</a></li>
<li class="chapter" data-level="5.11" data-path="PythonIntro.html"><a href="PythonIntro.html#wrap-up-4"><i class="fa fa-check"></i><b>5.11</b> Wrap-up</a><ul>
<li class="chapter" data-level="5.11.1" data-path="PythonIntro.html"><a href="PythonIntro.html#feedback-4"><i class="fa fa-check"></i><b>5.11.1</b> Feedback</a></li>
<li class="chapter" data-level="5.11.2" data-path="PythonIntro.html"><a href="PythonIntro.html#resources-4"><i class="fa fa-check"></i><b>5.11.2</b> Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html"><i class="fa fa-check"></i><b>6</b> Python Web-Scraping</a><ul>
<li class="chapter" data-level="6.1" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#setup-5"><i class="fa fa-check"></i><b>6.1</b> Setup</a><ul>
<li class="chapter" data-level="6.1.1" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#software-materials-5"><i class="fa fa-check"></i><b>6.1.1</b> Software &amp; Materials</a></li>
<li class="chapter" data-level="6.1.2" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#goals-5"><i class="fa fa-check"></i><b>6.1.2</b> Goals</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#preliminary-questions"><i class="fa fa-check"></i><b>6.2</b> Preliminary questions</a><ul>
<li class="chapter" data-level="6.2.1" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#what-is-web-scraping"><i class="fa fa-check"></i><b>6.2.1</b> What is web scraping?</a></li>
<li class="chapter" data-level="6.2.2" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#is-web-scraping-legal-is-it-ethical"><i class="fa fa-check"></i><b>6.2.2</b> Is web scraping legal? Is it ethical?</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#example-project-1"><i class="fa fa-check"></i><b>6.3</b> Example project</a></li>
<li class="chapter" data-level="6.4" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#take-shortcuts-if-you-can"><i class="fa fa-check"></i><b>6.4</b> Take shortcuts if you can</a><ul>
<li class="chapter" data-level="6.4.1" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#examining-the-structure-of-our-target-web-service"><i class="fa fa-check"></i><b>6.4.1</b> Examining the structure of our target web service</a></li>
<li class="chapter" data-level="6.4.2" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#making-requests-using-python"><i class="fa fa-check"></i><b>6.4.2</b> Making requests using python</a></li>
<li class="chapter" data-level="6.4.3" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#organizing-and-saving-the-data"><i class="fa fa-check"></i><b>6.4.3</b> Organizing and saving the data</a></li>
<li class="chapter" data-level="6.4.4" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#iterating-to-retrieve-all-the-data"><i class="fa fa-check"></i><b>6.4.4</b> Iterating to retrieve all the data</a></li>
<li class="chapter" data-level="6.4.5" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#exercise-retrieve-exhibits-data"><i class="fa fa-check"></i><b>6.4.5</b> Exercise: Retrieve exhibits data</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#parse-html-if-you-have-to"><i class="fa fa-check"></i><b>6.5</b> Parse html if you have to</a><ul>
<li class="chapter" data-level="6.5.1" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#retrieving-html"><i class="fa fa-check"></i><b>6.5.1</b> Retrieving HTML</a></li>
<li class="chapter" data-level="6.5.2" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#parsing-html-using-the-lxml-library"><i class="fa fa-check"></i><b>6.5.2</b> Parsing HTML using the lxml library</a></li>
<li class="chapter" data-level="6.5.3" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#using-xpath-to-extract-content-from-html"><i class="fa fa-check"></i><b>6.5.3</b> Using xpath to extract content from HTML</a></li>
<li class="chapter" data-level="6.5.4" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#iterating-to-retrieve-content-from-a-list-of-html-elements"><i class="fa fa-check"></i><b>6.5.4</b> Iterating to retrieve content from a list of HTML elements</a></li>
<li class="chapter" data-level="6.5.5" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#exercise-parsing-html"><i class="fa fa-check"></i><b>6.5.5</b> Exercise: parsing HTML</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#use-scrapy-for-large-or-complicated-projects"><i class="fa fa-check"></i><b>6.6</b> Use Scrapy for large or complicated projects</a></li>
<li class="chapter" data-level="6.7" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#use-a-browser-driver-as-a-last-resort"><i class="fa fa-check"></i><b>6.7</b> Use a browser driver as a last resort</a></li>
<li class="chapter" data-level="6.8" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#wrap-up-5"><i class="fa fa-check"></i><b>6.8</b> Wrap-up</a><ul>
<li class="chapter" data-level="6.8.1" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#feedback-5"><i class="fa fa-check"></i><b>6.8.1</b> Feedback</a></li>
<li class="chapter" data-level="6.8.2" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#resources-5"><i class="fa fa-check"></i><b>6.8.2</b> Resources</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Stata</b></span></li>
<li class="chapter" data-level="7" data-path="StataIntro.html"><a href="StataIntro.html"><i class="fa fa-check"></i><b>7</b> Stata Introduction</a><ul>
<li class="chapter" data-level="7.1" data-path="StataIntro.html"><a href="StataIntro.html#setup-6"><i class="fa fa-check"></i><b>7.1</b> Setup</a><ul>
<li class="chapter" data-level="7.1.1" data-path="StataIntro.html"><a href="StataIntro.html#software-materials-6"><i class="fa fa-check"></i><b>7.1.1</b> Software &amp; Materials</a></li>
<li class="chapter" data-level="7.1.2" data-path="StataIntro.html"><a href="StataIntro.html#organization"><i class="fa fa-check"></i><b>7.1.2</b> Organization</a></li>
<li class="chapter" data-level="7.1.3" data-path="StataIntro.html"><a href="StataIntro.html#goals-6"><i class="fa fa-check"></i><b>7.1.3</b> Goals</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="StataIntro.html"><a href="StataIntro.html#why-stata"><i class="fa fa-check"></i><b>7.2</b> Why stata?</a><ul>
<li class="chapter" data-level="7.2.1" data-path="StataIntro.html"><a href="StataIntro.html#stata-interface"><i class="fa fa-check"></i><b>7.2.1</b> Stata interface</a></li>
<li class="chapter" data-level="7.2.2" data-path="StataIntro.html"><a href="StataIntro.html#do-files"><i class="fa fa-check"></i><b>7.2.2</b> Do-files</a></li>
<li class="chapter" data-level="7.2.3" data-path="StataIntro.html"><a href="StataIntro.html#stata-help"><i class="fa fa-check"></i><b>7.2.3</b> Stata help</a></li>
<li class="chapter" data-level="7.2.4" data-path="StataIntro.html"><a href="StataIntro.html#general-stata-command-syntax"><i class="fa fa-check"></i><b>7.2.4</b> General Stata command syntax</a></li>
<li class="chapter" data-level="7.2.5" data-path="StataIntro.html"><a href="StataIntro.html#commenting-and-formatting-syntax"><i class="fa fa-check"></i><b>7.2.5</b> Commenting and formatting syntax</a></li>
<li class="chapter" data-level="7.2.6" data-path="StataIntro.html"><a href="StataIntro.html#lets-get-started"><i class="fa fa-check"></i><b>7.2.6</b> Let’s get started</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="StataIntro.html"><a href="StataIntro.html#getting-data-into-stata"><i class="fa fa-check"></i><b>7.3</b> Getting data into Stata</a><ul>
<li class="chapter" data-level="7.3.1" data-path="StataIntro.html"><a href="StataIntro.html#data-file-commands"><i class="fa fa-check"></i><b>7.3.1</b> Data file commands</a></li>
<li class="chapter" data-level="7.3.2" data-path="StataIntro.html"><a href="StataIntro.html#a-note-about-path-names"><i class="fa fa-check"></i><b>7.3.2</b> A note about path names</a></li>
<li class="chapter" data-level="7.3.3" data-path="StataIntro.html"><a href="StataIntro.html#wheres-my-data"><i class="fa fa-check"></i><b>7.3.3</b> Where’s my data?</a></li>
<li class="chapter" data-level="7.3.4" data-path="StataIntro.html"><a href="StataIntro.html#what-if-my-data-is-not-a-stata-file"><i class="fa fa-check"></i><b>7.3.4</b> What if my data is not a Stata file?</a></li>
<li class="chapter" data-level="7.3.5" data-path="StataIntro.html"><a href="StataIntro.html#what-if-my-data-is-from-another-statistical-software-program"><i class="fa fa-check"></i><b>7.3.5</b> What if my data is from another statistical software program?</a></li>
<li class="chapter" data-level="7.3.6" data-path="StataIntro.html"><a href="StataIntro.html#exercise-1-importing-data"><i class="fa fa-check"></i><b>7.3.6</b> Exercise 1: Importing data</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="StataIntro.html"><a href="StataIntro.html#statistics-and-graphs"><i class="fa fa-check"></i><b>7.4</b> Statistics and graphs</a><ul>
<li class="chapter" data-level="7.4.1" data-path="StataIntro.html"><a href="StataIntro.html#frequently-used-commands"><i class="fa fa-check"></i><b>7.4.1</b> Frequently used commands</a></li>
<li class="chapter" data-level="7.4.2" data-path="StataIntro.html"><a href="StataIntro.html#basic-graphing-commands"><i class="fa fa-check"></i><b>7.4.2</b> Basic graphing commands</a></li>
<li class="chapter" data-level="7.4.3" data-path="StataIntro.html"><a href="StataIntro.html#the-by-command"><i class="fa fa-check"></i><b>7.4.3</b> The “by” command</a></li>
<li class="chapter" data-level="7.4.4" data-path="StataIntro.html"><a href="StataIntro.html#exercise-2-descriptive-statistics"><i class="fa fa-check"></i><b>7.4.4</b> Exercise 2: Descriptive statistics</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="StataIntro.html"><a href="StataIntro.html#basic-data-management"><i class="fa fa-check"></i><b>7.5</b> Basic data management</a><ul>
<li class="chapter" data-level="7.5.1" data-path="StataIntro.html"><a href="StataIntro.html#labels"><i class="fa fa-check"></i><b>7.5.1</b> Labels</a></li>
<li class="chapter" data-level="7.5.2" data-path="StataIntro.html"><a href="StataIntro.html#variable-and-value-labels"><i class="fa fa-check"></i><b>7.5.2</b> Variable and value labels</a></li>
<li class="chapter" data-level="7.5.3" data-path="StataIntro.html"><a href="StataIntro.html#exercise-3-variable-labels-and-value-labels"><i class="fa fa-check"></i><b>7.5.3</b> Exercise 3: Variable labels and value labels</a></li>
<li class="chapter" data-level="7.5.4" data-path="StataIntro.html"><a href="StataIntro.html#working-on-subsets"><i class="fa fa-check"></i><b>7.5.4</b> Working on subsets</a></li>
<li class="chapter" data-level="7.5.5" data-path="StataIntro.html"><a href="StataIntro.html#generating-and-replacing-variables"><i class="fa fa-check"></i><b>7.5.5</b> Generating and replacing variables</a></li>
<li class="chapter" data-level="7.5.6" data-path="StataIntro.html"><a href="StataIntro.html#exercise-4-manipulating-variables"><i class="fa fa-check"></i><b>7.5.6</b> Exercise 4: Manipulating variables</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="StataIntro.html"><a href="StataIntro.html#wrap-up-6"><i class="fa fa-check"></i><b>7.6</b> Wrap-up</a><ul>
<li class="chapter" data-level="7.6.1" data-path="StataIntro.html"><a href="StataIntro.html#feedback-6"><i class="fa fa-check"></i><b>7.6.1</b> Feedback</a></li>
<li class="chapter" data-level="7.6.2" data-path="StataIntro.html"><a href="StataIntro.html#resources-6"><i class="fa fa-check"></i><b>7.6.2</b> Resources</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">IQSS Workshops</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-regression-models" class="section level1">
<h1><span class="header-section-number">2</span> R Regression Models</h1>
<p><strong>Topics</strong></p>
<ul>
<li>R formula interface</li>
<li>Run and interpret variety of regression models in R</li>
<li>Factor contrasts to test specific hypotheses</li>
<li>Model comparisons</li>
<li>Predicted marginal effects</li>
</ul>
<div id="setup-1" class="section level2">
<h2><span class="header-section-number">2.1</span> Setup</h2>
<div id="software-materials-1" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Software &amp; Materials</h3>
<p>You should have R and RStudio installed — if not:</p>
<ul>
<li>Download and install <a href="http://cran.r-project.org">R</a></li>
<li>Download and install <a href="https://www.rstudio.com/products/rstudio/download/#download">RStudio</a></li>
</ul>
<p>Download materials:</p>
<ul>
<li><a href="http://tutorials.iq.harvard.edu/R/Rmodels.zip">Download workshop materials</a></li>
<li>Extract materials from <code>Rmodels.zip</code> and move to your desktop.</li>
</ul>
<p>Start RStudio and create a new project:</p>
<ul>
<li>On Windows click the start button and search for RStudio. On Mac RStudio will be in your applications folder.</li>
<li>In Rstudio go to <code>File -&gt; New Project</code>.</li>
<li>Choose <code>Existing Directory</code> and browse to the <code>Rmodels</code> directory.</li>
<li>Choose <code>File -&gt; Open File</code> and select the blank version of the <code>.Rmd</code> file.</li>
</ul>
<p>Install the <a href="https://www.tidyverse.org/">tidyverse</a> suite of packages:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages(&quot;tidyverse&quot;)</span>
<span class="kw">library</span>(tidyverse)</code></pre></div>
<p>Set your working directory so you don’t have to type the full path names to your data and other files</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="co"># set the working directory</span>
  <span class="co"># setwd(&quot;~/Desktop/Rmodels&quot;) # UNIX-based</span>
  <span class="co"># setwd(&quot;C:/Users/dataclass/Desktop/Rmodels&quot;) # MS Windows</span></code></pre></div>
</div>
<div id="goals-1" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Goals</h3>
<p>Class Structure and Organization:</p>
<ul>
<li>Ask questions at any time. Really!</li>
<li>Collaboration is encouraged - please spend a minute introducing yourself to your neighbors!</li>
</ul>
<p>This is an intermediate R course:</p>
<ul>
<li>Assumes working knowledge of R</li>
<li>Relatively fast-paced</li>
<li>This is not a statistics course! We assume you know the theory behind the models</li>
</ul>
</div>
</div>
<div id="ordinary-least-squares-ols-regression" class="section level2">
<h2><span class="header-section-number">2.2</span> Ordinary least squares (OLS) regression</h2>
<div id="inspect-and-load-data" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Inspect and load data</h3>
<p>List the data files we’re going to work with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">list.files</span>(<span class="st">&quot;dataSets/&quot;</span>)</code></pre></div>
<p>We’re going to use the <code>states</code> data first. The <em>states.dta</em> data comes from <a href="http://anawida.de/teach/SS14/anawida/4.linReg/data/states.dta.txt" class="uri">http://anawida.de/teach/SS14/anawida/4.linReg/data/states.dta.txt</a> and appears to have originally appeared in <em>Statistics with Stata</em> by Lawrence C. Hamilton.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="co"># read the states data</span>
  states.data &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;dataSets/states.rds&quot;</span>) 
  <span class="co">#get labels</span>
  states.info &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">attributes</span>(states.data)[<span class="kw">c</span>(<span class="st">&quot;names&quot;</span>, <span class="st">&quot;var.labels&quot;</span>)])
  <span class="co">#look at last few labels</span>
  <span class="kw">tail</span>(states.info, <span class="dv">8</span>)</code></pre></div>
</div>
<div id="examine-the-data-before-fitting-models" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Examine the data before fitting models</h3>
<p>Start by examining the data to check for problems.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="co"># summary of expense and csat columns, all rows</span>
  sts.ex.sat &lt;-<span class="st"> </span><span class="kw">subset</span>(states.data, <span class="dt">select =</span> <span class="kw">c</span>(<span class="st">&quot;expense&quot;</span>, <span class="st">&quot;csat&quot;</span>))
  <span class="kw">summary</span>(sts.ex.sat)
  <span class="co"># correlation between expense and csat</span>
  <span class="kw">cor</span>(sts.ex.sat) </code></pre></div>
</div>
<div id="plot-the-data-before-fitting-models" class="section level3">
<h3><span class="header-section-number">2.2.3</span> Plot the data before fitting models</h3>
<p>Plot the data to look for multivariate outliers, non-linear relationships etc.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="co"># scatter plot of expense vs csat</span>
  <span class="kw">plot</span>(sts.ex.sat)</code></pre></div>
<div class="figure">
<img src="R/Rmodels/images/statesCorr1.png" />

</div>
</div>
<div id="ols-example" class="section level3">
<h3><span class="header-section-number">2.2.4</span> OLS example</h3>
<ul>
<li>OLS regression models can be fit with the <code>lm()</code> function</li>
<li>For example, we can use <code>lm</code> to predict SAT scores based on per-pupal expenditures:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="co"># Fit our regression model</span>
  sat.mod &lt;-<span class="st"> </span><span class="kw">lm</span>(csat <span class="op">~</span><span class="st"> </span>expense, <span class="co"># regression formula</span>
                <span class="dt">data=</span>states.data) <span class="co"># data set</span>
  <span class="co"># Summarize and print the results</span>
  <span class="kw">summary</span>(sat.mod) <span class="co"># show regression coefficients table</span></code></pre></div>
</div>
<div id="why-is-the-association-between-expense-and-sat-scores-negative" class="section level3">
<h3><span class="header-section-number">2.2.5</span> Why is the association between expense and SAT scores <em>negative</em>?</h3>
<p>Many people find it surprising that the per-capita expenditure on students is negatively related to SAT scores. The beauty of multiple regression is that we can try to pull these apart. What would the association between expense and SAT scores be if there were no difference among the states in the percentage of students taking the SAT?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">summary</span>(<span class="kw">lm</span>(csat <span class="op">~</span><span class="st"> </span>expense <span class="op">+</span><span class="st"> </span>percent, <span class="dt">data =</span> states.data))</code></pre></div>
</div>
<div id="the-lm-class-and-methods" class="section level3">
<h3><span class="header-section-number">2.2.6</span> The lm class and methods</h3>
<p>OK, we fit our model. Now what?</p>
<ul>
<li>Examine the model object:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">class</span>(sat.mod)
  <span class="kw">names</span>(sat.mod)
  <span class="kw">methods</span>(<span class="dt">class =</span> <span class="kw">class</span>(sat.mod))[<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>]</code></pre></div>
<ul>
<li>Use function methods to get more information about the fit</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">confint</span>(sat.mod)
  <span class="co"># hist(residuals(sat.mod))</span></code></pre></div>
</div>
<div id="ols-regression-assumptions" class="section level3">
<h3><span class="header-section-number">2.2.7</span> OLS Regression Assumptions</h3>
<ul>
<li>OLS regression relies on several assumptions, including that the residuals are normally distributed and homoscedastic, the errors are independent and the relationships are linear.</li>
<li>Investigate these assumptions visually by plotting your model:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">2</span>), <span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)) <span class="co">#optional</span>
  <span class="kw">plot</span>(sat.mod, <span class="dt">which =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)) <span class="co"># &quot;which&quot; argument optional</span></code></pre></div>
</div>
<div id="comparing-models" class="section level3">
<h3><span class="header-section-number">2.2.8</span> Comparing models</h3>
<p>Do congressional voting patterns predict SAT scores over and above expense? Fit two models and compare them:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="co"># fit another model, adding house and senate as predictors</span>
  sat.voting.mod &lt;-<span class="st">  </span><span class="kw">lm</span>(csat <span class="op">~</span><span class="st"> </span>expense <span class="op">+</span><span class="st"> </span>house <span class="op">+</span><span class="st"> </span>senate,
                        <span class="dt">data =</span> <span class="kw">na.omit</span>(states.data))
  sat.mod &lt;-<span class="st"> </span><span class="kw">update</span>(sat.mod, <span class="dt">data=</span><span class="kw">na.omit</span>(states.data))
  <span class="co"># compare using the anova() function</span>
  <span class="kw">anova</span>(sat.mod, sat.voting.mod)
  <span class="kw">coef</span>(<span class="kw">summary</span>(sat.voting.mod))</code></pre></div>
</div>
</div>
<div id="exercise-0-1" class="section level2">
<h2><span class="header-section-number">2.3</span> Exercise 0</h2>
<p><strong>Ordinary least squares regression</strong></p>
<p>Use the <em>states.rds</em> data set. Fit a model predicting energy consumed per capita (energy) from the percentage of residents living in metropolitan areas (metro). Be sure to</p>
<ol style="list-style-type: decimal">
<li>Examine/plot the data before fitting the model</li>
<li>Print and interpret the model <code>summary</code></li>
<li><code>plot</code> the model to look for deviations from modeling assumptions</li>
</ol>
<p>Select one or more additional predictors to add to your model and repeat steps 1-3. Is this model significantly better than the model with <em>metro</em> as the only predictor?</p>
</div>
<div id="interactions-and-factors" class="section level2">
<h2><span class="header-section-number">2.4</span> Interactions and factors</h2>
<div id="modeling-interactions" class="section level3">
<h3><span class="header-section-number">2.4.1</span> Modeling interactions</h3>
<p>Interactions allow us assess the extent to which the association between one predictor and the outcome depends on a second predictor. For example: Does the association between expense and SAT scores depend on the median income in the state?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">    <span class="co">#Add the interaction to the model</span>
  sat.expense.by.percent &lt;-<span class="st"> </span><span class="kw">lm</span>(csat <span class="op">~</span><span class="st"> </span>expense<span class="op">*</span>income,
                               <span class="dt">data=</span>states.data) 
  <span class="co">#Show the results</span>
    <span class="kw">coef</span>(<span class="kw">summary</span>(sat.expense.by.percent)) <span class="co"># show regression coefficients table</span></code></pre></div>
</div>
<div id="regression-with-categorical-predictors" class="section level3">
<h3><span class="header-section-number">2.4.2</span> Regression with categorical predictors</h3>
<p>Let’s try to predict SAT scores from region, a categorical variable. Note that you must make sure R does not think your categorical variable is numeric.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="co"># make sure R knows region is categorical</span>
  <span class="kw">str</span>(states.data<span class="op">$</span>region)
  states.data<span class="op">$</span>region &lt;-<span class="st"> </span><span class="kw">factor</span>(states.data<span class="op">$</span>region)
  <span class="co">#Add region to the model</span>
  sat.region &lt;-<span class="st"> </span><span class="kw">lm</span>(csat <span class="op">~</span><span class="st"> </span>region,
                   <span class="dt">data=</span>states.data) 
  <span class="co">#Show the results</span>
  <span class="kw">coef</span>(<span class="kw">summary</span>(sat.region)) <span class="co"># show regression coefficients table</span>
  <span class="kw">anova</span>(sat.region) <span class="co"># show ANOVA table</span></code></pre></div>
<p>Again, <strong>make sure to tell R which variables are categorical by converting them to factors!</strong></p>
</div>
<div id="setting-factor-reference-groups-and-contrasts" class="section level3">
<h3><span class="header-section-number">2.4.3</span> Setting factor reference groups and contrasts</h3>
<p>In the previous example we use the default contrasts for region. The default in R is treatment contrasts, with the first level as the reference. We can change the reference group or use another coding scheme using the <code>C</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="co"># print default contrasts</span>
  <span class="kw">contrasts</span>(states.data<span class="op">$</span>region)

  <span class="co"># change the reference group</span>
  states.data<span class="op">$</span>region &lt;-<span class="st"> </span><span class="kw">relevel</span>(states.data<span class="op">$</span>region, <span class="dt">ref =</span> <span class="st">&quot;NorthEast&quot;</span>)
  m1 &lt;-<span class="st"> </span><span class="kw">lm</span>(csat <span class="op">~</span><span class="st"> </span>region, <span class="dt">data=</span>states.data)
  <span class="kw">coef</span>(<span class="kw">summary</span>(m1))

  <span class="co"># drop the intercept to get group means</span>
  <span class="kw">coef</span>(<span class="kw">summary</span>(<span class="kw">lm</span>(csat <span class="op">~</span><span class="st"> </span><span class="dv">0</span> <span class="op">+</span><span class="st"> </span>region, <span class="dt">data=</span>states.data)))

  <span class="co"># get all pairwise contrasts between means</span>
  <span class="co"># install.packages(&quot;emmeans&quot;)</span>
  <span class="kw">library</span>(emmeans)
  means &lt;-<span class="st"> </span><span class="kw">emmeans</span>(m1, <span class="dt">specs =</span> <span class="op">~</span><span class="st"> </span>region)
  <span class="kw">contrast</span>(means, <span class="dt">method =</span> <span class="st">&quot;pairwise&quot;</span>)

  <span class="co"># change the coding scheme</span>
  <span class="kw">coef</span>(<span class="kw">summary</span>(<span class="kw">lm</span>(csat <span class="op">~</span><span class="st"> </span><span class="kw">C</span>(region, contr.helmert), <span class="dt">data=</span>states.data)))</code></pre></div>
<p>See also <code>?contrasts</code>, <code>?contr.treatment</code>, and <code>?relevel</code>.</p>
</div>
</div>
<div id="exercise-1-1" class="section level2">
<h2><span class="header-section-number">2.5</span> Exercise 1</h2>
<p><strong>Interactions and factors</strong></p>
<p>Use the states data set.</p>
<ol style="list-style-type: decimal">
<li><p>Add on to the regression equation that you created in exercise 1 by generating an interaction term and testing the interaction.</p></li>
<li><p>Try adding region to the model. Are there significant differences across the four regions?</p></li>
</ol>
</div>
<div id="regression-with-binary-outcomes" class="section level2">
<h2><span class="header-section-number">2.6</span> Regression with binary outcomes</h2>
<div id="logistic-regression" class="section level3">
<h3><span class="header-section-number">2.6.1</span> Logistic regression</h3>
<p>This far we have used the <code>lm</code> function to fit our regression models. <code>lm</code> is great, but limited–in particular it only fits models for continuous dependent variables. For categorical dependent variables we can use the <code>glm()</code> function.</p>
<p>For these models we will use a different dataset, drawn from the National Health Interview Survey. From the <a href="http://www.cdc.gov/nchs/nhis.htm">CDC website</a>:</p>
<blockquote>
<p>The National Health Interview Survey (NHIS) has monitored the health of the nation since 1957. NHIS data on a broad range of health topics are collected through personal household interviews. For over 50 years, the U.S. Census Bureau has been the data collection agent for the National Health Interview Survey. Survey results have been instrumental in providing data to track health status, health care access, and progress toward achieving national health objectives.</p>
</blockquote>
<p>Load the National Health Interview Survey data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  NH11 &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;dataSets/NatHealth2011.rds&quot;</span>)
  labs &lt;-<span class="st"> </span><span class="kw">attributes</span>(NH11)<span class="op">$</span>labels</code></pre></div>
</div>
<div id="logistic-regression-example" class="section level3">
<h3><span class="header-section-number">2.6.2</span> Logistic regression example</h3>
<p>Let’s predict the probability of being diagnosed with hypertension based on age, sex, sleep, and bmi</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">str</span>(NH11<span class="op">$</span>hypev) <span class="co"># check stucture of hypev</span>
  <span class="kw">levels</span>(NH11<span class="op">$</span>hypev) <span class="co"># check levels of hypev</span>
  <span class="co"># collapse all missing values to NA</span>
  NH11<span class="op">$</span>hypev &lt;-<span class="st"> </span><span class="kw">factor</span>(NH11<span class="op">$</span>hypev, <span class="dt">levels=</span><span class="kw">c</span>(<span class="st">&quot;2 No&quot;</span>, <span class="st">&quot;1 Yes&quot;</span>))
  <span class="co"># run our regression model</span>
  hyp.out &lt;-<span class="st"> </span><span class="kw">glm</span>(hypev<span class="op">~</span>age_p<span class="op">+</span>sex<span class="op">+</span>sleep<span class="op">+</span>bmi,
                <span class="dt">data=</span>NH11, <span class="dt">family=</span><span class="st">&quot;binomial&quot;</span>)
  <span class="kw">coef</span>(<span class="kw">summary</span>(hyp.out))</code></pre></div>
</div>
<div id="logistic-regression-coefficients" class="section level3">
<h3><span class="header-section-number">2.6.3</span> Logistic regression coefficients</h3>
<p>Generalized linear models use link functions, so raw coefficients are difficult to interpret. For example, the age coefficient of .06 in the previous model tells us that for every one unit increase in age, the log odds of hypertension diagnosis increases by 0.06. Since most of us are not used to thinking in log odds this is not too helpful!</p>
<p>One solution is to transform the coefficients to make them easier to interpret</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  hyp.out.tab &lt;-<span class="st"> </span><span class="kw">coef</span>(<span class="kw">summary</span>(hyp.out))
  hyp.out.tab[, <span class="st">&quot;Estimate&quot;</span>] &lt;-<span class="st"> </span><span class="kw">exp</span>(<span class="kw">coef</span>(hyp.out))
  hyp.out.tab</code></pre></div>
</div>
<div id="packages-for-computing-and-graphing-predicted-values" class="section level3">
<h3><span class="header-section-number">2.6.4</span> Packages for computing and graphing predicted values</h3>
<p>Instead of doing all this ourselves, we can use the effects package to compute quantities of interest for us (cf. the Zelig package).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">library</span>(effects)
  eff &lt;-<span class="st"> </span><span class="kw">allEffects</span>(hyp.out)
  eff2 &lt;-<span class="st"> </span><span class="kw">allEffects</span>(hyp.out, <span class="dt">xlevels =</span> <span class="kw">list</span>(age_b, <span class="kw">seq</span>(<span class="dv">20</span>, <span class="dv">80</span>, <span class="dt">by =</span> <span class="dv">5</span>)))
  <span class="kw">plot</span>(eff)
  <span class="kw">as.data.frame</span>(eff) <span class="co"># confidence intervals</span></code></pre></div>
<div class="figure">
<img src="R/Rmodels/images/effects1.png" />

</div>
</div>
</div>
<div id="exercise-2-1" class="section level2">
<h2><span class="header-section-number">2.7</span> Exercise 2</h2>
<p><strong>Logistic regression</strong></p>
<p>Use the NH11 data set that we loaded earlier.</p>
<ol style="list-style-type: decimal">
<li>Use glm to conduct a logistic regression to predict ever worked (everwrk) using age (age_p) and marital status (r_maritl).</li>
<li>Predict the probability of working for each level of marital status.</li>
</ol>
<p>Note that the data is not perfectly clean and ready to be modeled. You will need to clean up at least some of the variables before fitting the model.</p>
</div>
<div id="multilevel-modeling" class="section level2">
<h2><span class="header-section-number">2.8</span> Multilevel Modeling</h2>
<div id="multilevel-modeling-overview" class="section level3">
<h3><span class="header-section-number">2.8.1</span> Multilevel modeling overview</h3>
<ul>
<li>Multi-level (AKA hierarchical) models are a type of mixed-effects models</li>
<li>Used to model variation due to group membership where the goal is to generalize to a population of groups</li>
<li>Can model different intercepts and/or slopes for each group</li>
<li>Mixed-effecs models include two types of predictors: fixed-effects and random effects</li>
<li>Fixed-effects – observed levels are of direct interest (.e.g, sex, political party…)</li>
<li>Random-effects – observed levels not of direct interest: goal is to make inferences to a population represented by observed levels</li>
<li>In R the lme4 package is the most popular for mixed effects models</li>
<li>Use the <code>lmer</code> function for liner mixed models, <code>glmer</code> for generalized mixed models</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">library</span>(lme4)</code></pre></div>
</div>
<div id="the-exam-data" class="section level3">
<h3><span class="header-section-number">2.8.2</span> The Exam data</h3>
<p>The Exam data set contans exam scores of 4,059 students from 65 schools in Inner London. The variable names are as follows:</p>
<table>
<colgroup>
<col width="9%" />
<col width="90%" />
</colgroup>
<thead>
<tr class="header">
<th>variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>school</td>
<td>School ID - a factor.</td>
</tr>
<tr class="even">
<td>normexam</td>
<td>Normalized exam score.</td>
</tr>
<tr class="odd">
<td>schgend</td>
<td>School gender - a factor. Levels are ‘mixed’, ‘boys’, and ‘girls’.</td>
</tr>
<tr class="even">
<td>schavg</td>
<td>School average of intake score.</td>
</tr>
<tr class="odd">
<td>vr</td>
<td>Student level Verbal Reasoning (VR) score band at intake - ‘bottom 25%’, ‘mid 50%’, and ‘top 25%’.</td>
</tr>
<tr class="even">
<td>intake</td>
<td>Band of student’s intake score - a factor. Levels are ‘bottom 25%’, ‘mid 50%’ and ‘top 25%’./</td>
</tr>
<tr class="odd">
<td>standLRT</td>
<td>Standardised LR test score.</td>
</tr>
<tr class="even">
<td>sex</td>
<td>Sex of the student - levels are ‘F’ and ‘M’.</td>
</tr>
<tr class="odd">
<td>type</td>
<td>School type - levels are ‘Mxd’ and ‘Sngl’.</td>
</tr>
<tr class="even">
<td>student</td>
<td>Student id (within school) - a factor</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  Exam &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;dataSets/Exam.rds&quot;</span>)</code></pre></div>
</div>
<div id="the-null-model-and-icc" class="section level3">
<h3><span class="header-section-number">2.8.3</span> The null model and ICC</h3>
<p>As a preliminary step it is often useful to partition the variance in the dependent variable into the various levels. This can be accomplished by running a null model (i.e., a model with a random effects grouping structure, but no fixed-effects predictors).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="co"># null model, grouping by school but not fixed effects.</span>
  Norm1 &lt;-<span class="kw">lmer</span>(normexam <span class="op">~</span><span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">|</span>school),
                <span class="dt">data=</span><span class="kw">na.omit</span>(Exam), <span class="dt">REML =</span> <span class="ot">FALSE</span>)
  <span class="kw">summary</span>(Norm1)</code></pre></div>
<p>The is .169/(.169 + .848) = .17: 17% of the variance is at the school level.</p>
</div>
<div id="adding-fixed-effects-predictors" class="section level3">
<h3><span class="header-section-number">2.8.4</span> Adding fixed-effects predictors</h3>
<p>Predict exam scores from student’s standardized tests scores</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  Norm2 &lt;-<span class="kw">lmer</span>(normexam<span class="op">~</span>standLRT <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">|</span>school),
               <span class="dt">data=</span><span class="kw">na.omit</span>(Exam), <span class="dt">REML =</span> <span class="ot">FALSE</span>) 
  <span class="kw">summary</span>(Norm2) </code></pre></div>
</div>
<div id="multiple-degree-of-freedom-comparisons" class="section level3">
<h3><span class="header-section-number">2.8.5</span> Multiple degree of freedom comparisons</h3>
<p>As with <code>lm</code> and <code>glm</code> models, you can compare the two <code>lmer</code> models using the <code>anova</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">anova</span>(Norm1, Norm2)</code></pre></div>
</div>
<div id="random-slopes" class="section level3">
<h3><span class="header-section-number">2.8.6</span> Random slopes</h3>
<p>Add a random effect of students’ standardized test scores as well. Now in addition to estimating the distribution of intercepts across schools, we also estimate the distribution of the slope of exam on standardized test.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  Norm3 &lt;-<span class="st"> </span><span class="kw">lmer</span>(normexam<span class="op">~</span>standLRT <span class="op">+</span><span class="st"> </span>(standLRT<span class="op">|</span>school), 
                <span class="dt">data =</span> <span class="kw">na.omit</span>(Exam), <span class="dt">REML =</span> <span class="ot">FALSE</span>) 
  <span class="kw">summary</span>(Norm3) </code></pre></div>
</div>
<div id="test-the-significance-of-the-random-slope" class="section level3">
<h3><span class="header-section-number">2.8.7</span> Test the significance of the random slope</h3>
<p>To test the significance of a random slope just compare models with and without the random slope term</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">anova</span>(Norm2, Norm3) </code></pre></div>
</div>
</div>
<div id="exercise-3-1" class="section level2">
<h2><span class="header-section-number">2.9</span> Exercise 3</h2>
<p><strong>Multilevel modeling</strong></p>
<p>Use the dataset, bh1996: <code>data(bh1996, package=&quot;multilevel&quot;)</code></p>
<p>From the data documentation:</p>
<blockquote>
<p>Variables are Leadership Climate (LEAD), Well-Being (WBEING), Work Hours (HRS), and group (GRP). Each of these variables has two variants - a group mean version that replicates each group mean for every individual, and a within-group version where the group mean is subtracted from each individual response. The group mean version is designated with a G. (e.g., G.HRS), and the within-group version is designated with a W. (e.g., W.HRS).</p>
</blockquote>
<ol style="list-style-type: decimal">
<li>Create a null model predicting wellbeing (“WBEING”)</li>
<li>Calculate the ICC for your null model</li>
<li>Run a second multi-level model that adds two individual-level predictors, average number of hours worked (“HRS”) and leadership skills (“LEAD”) to the model and interpret your output.</li>
<li>Now, add a random effect of average number of hours worked (“HRS”) to the model and interpret your output. Test the significance of this random term.</li>
</ol>
</div>
<div id="exercise-solutions-1" class="section level2">
<h2><span class="header-section-number">2.10</span> Exercise solutions</h2>
<div id="ex-0-prototype-1" class="section level3">
<h3><span class="header-section-number">2.10.1</span> Ex 0: prototype</h3>
<p>Use the <em>states.rds</em> data set.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  states &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;dataSets/states.rds&quot;</span>)</code></pre></div>
<p>Fit a model predicting energy consumed per capita (energy) from the percentage of residents living in metropolitan areas (metro). Be sure to</p>
<ol style="list-style-type: decimal">
<li>Examine/plot the data before fitting the model</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  states.en.met &lt;-<span class="st"> </span><span class="kw">subset</span>(states, <span class="dt">select =</span> <span class="kw">c</span>(<span class="st">&quot;metro&quot;</span>, <span class="st">&quot;energy&quot;</span>))
  <span class="kw">summary</span>(states.en.met)
  <span class="kw">plot</span>(states.en.met)
  <span class="kw">cor</span>(states.en.met, <span class="dt">use=</span><span class="st">&quot;pairwise&quot;</span>)</code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Print and interpret the model <code>summary</code></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  mod.en.met &lt;-<span class="st"> </span><span class="kw">lm</span>(energy <span class="op">~</span><span class="st"> </span>metro, <span class="dt">data =</span> states)
  <span class="kw">summary</span>(mod.en.met)</code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li><code>plot</code> the model to look for deviations from modeling assumptions</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">plot</span>(mod.en.met)</code></pre></div>
<p>Select one or more additional predictors to add to your model and repeat steps 1-3. Is this model significantly better than the model with <em>metro</em> as the only predictor?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  states.en.met.pop.wst &lt;-<span class="st"> </span><span class="kw">subset</span>(states, <span class="dt">select =</span> <span class="kw">c</span>(<span class="st">&quot;energy&quot;</span>, <span class="st">&quot;metro&quot;</span>, <span class="st">&quot;pop&quot;</span>, <span class="st">&quot;waste&quot;</span>))
  <span class="kw">summary</span>(states.en.met.pop.wst)
  <span class="kw">plot</span>(states.en.met.pop.wst)
  <span class="kw">cor</span>(states.en.met.pop.wst, <span class="dt">use =</span> <span class="st">&quot;pairwise&quot;</span>)
  mod.en.met.pop.waste &lt;-<span class="st"> </span><span class="kw">lm</span>(energy <span class="op">~</span><span class="st"> </span>metro <span class="op">+</span><span class="st"> </span>pop <span class="op">+</span><span class="st"> </span>waste, <span class="dt">data =</span> states)
  <span class="kw">summary</span>(mod.en.met.pop.waste)
  <span class="kw">anova</span>(mod.en.met, mod.en.met.pop.waste)</code></pre></div>
</div>
<div id="ex-1-prototype-1" class="section level3">
<h3><span class="header-section-number">2.10.2</span> Ex 1: prototype</h3>
<p>Use the states data set.</p>
<ol style="list-style-type: decimal">
<li>Add on to the regression equation that you created in exercise 1 by generating an interaction term and testing the interaction.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  mod.en.metro.by.waste &lt;-<span class="st"> </span><span class="kw">lm</span>(energy <span class="op">~</span><span class="st"> </span>metro <span class="op">*</span><span class="st"> </span>waste, <span class="dt">data =</span> states)</code></pre></div>
<ol style="list-style-type: decimal">
<li>Try adding a region to the model. Are there significant differences across the four regions?</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  mod.en.region &lt;-<span class="st"> </span><span class="kw">lm</span>(energy <span class="op">~</span><span class="st"> </span>metro <span class="op">*</span><span class="st"> </span>waste <span class="op">+</span><span class="st"> </span>region, <span class="dt">data =</span> states)
  <span class="kw">anova</span>(mod.en.region)</code></pre></div>
</div>
<div id="ex-2-prototype-1" class="section level3">
<h3><span class="header-section-number">2.10.3</span> Ex 2: prototype</h3>
<p>Use the NH11 data set that we loaded earlier. Note that the data is not perfectly clean and ready to be modeled. You will need to clean up at least some of the variables before fitting the model.</p>
<ol style="list-style-type: decimal">
<li>Use glm to conduct a logistic regression to predict ever worked (everwrk) using age (age_p) and marital status (r_maritl).</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  nh11.wrk.age.mar &lt;-<span class="st"> </span><span class="kw">subset</span>(NH11, <span class="dt">select =</span> <span class="kw">c</span>(<span class="st">&quot;everwrk&quot;</span>, <span class="st">&quot;age_p&quot;</span>, <span class="st">&quot;r_maritl&quot;</span>))
  <span class="kw">summary</span>(nh11.wrk.age.mar)
  NH11 &lt;-<span class="st"> </span><span class="kw">transform</span>(NH11,
                    <span class="dt">everwrk =</span> <span class="kw">factor</span>(everwrk,
                        <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;1 Yes&quot;</span>, <span class="st">&quot;2 No&quot;</span>)),
                    <span class="dt">r_maritl =</span> <span class="kw">droplevels</span>(r_maritl))

  mod.wk.age.mar &lt;-<span class="st"> </span><span class="kw">glm</span>(everwrk <span class="op">~</span><span class="st"> </span>age_p <span class="op">+</span><span class="st"> </span>r_maritl, <span class="dt">data =</span> NH11,
                        <span class="dt">family =</span> <span class="st">&quot;binomial&quot;</span>)

  <span class="kw">summary</span>(mod.wk.age.mar)</code></pre></div>
<ol style="list-style-type: decimal">
<li>Predict the probability of working for each level of marital status.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">library</span>(effects)
  <span class="kw">data.frame</span>(<span class="kw">Effect</span>(<span class="st">&quot;r_maritl&quot;</span>, mod.wk.age.mar))</code></pre></div>
</div>
<div id="ex-3-prototype-1" class="section level3">
<h3><span class="header-section-number">2.10.4</span> Ex 3: prototype</h3>
<p>Use the dataset, bh1996:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">data</span>(bh1996, <span class="dt">package=</span><span class="st">&quot;multilevel&quot;</span>)</code></pre></div>
<p>From the data documentation:</p>
<blockquote>
<p>Variables are Cohesion (COHES), Leadership Climate (LEAD), Well-Being (WBEING) and Work Hours (HRS). Each of these variables has two variants - a group mean version that replicates each group mean for every individual, and a within-group version where the group mean is subtracted from each individual response. The group mean version is designated with a G. (e.g., G.HRS), and the within-group version is designated with a W. (e.g., W.HRS).</p>
</blockquote>
<p>Note that the group identifier is named “GRP”.</p>
<ol style="list-style-type: decimal">
<li>Create a null model predicting wellbeing (“WBEING”)</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">library</span>(lme4)
  mod.grp0 &lt;-<span class="st"> </span><span class="kw">lmer</span>(WBEING <span class="op">~</span><span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">|</span><span class="st"> </span>GRP), <span class="dt">data =</span> bh1996)
  <span class="kw">summary</span>(mod.grp0)</code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Run a second multi-level model that adds two individual-level predictors, average number of hours worked (“HRS”) and leadership skills (“LEAD”) to the model and interpret your output.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  mod.grp1 &lt;-<span class="st"> </span><span class="kw">lmer</span>(WBEING <span class="op">~</span><span class="st"> </span>HRS <span class="op">+</span><span class="st"> </span>LEAD <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">|</span><span class="st"> </span>GRP), <span class="dt">data =</span> bh1996)
  <span class="kw">summary</span>(mod.grp1)</code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Now, add a random effect of average number of hours worked (“HRS”) to the model and interpret your output. Test the significance of this random term.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  mod.grp2 &lt;-<span class="st"> </span><span class="kw">lmer</span>(WBEING <span class="op">~</span><span class="st"> </span>HRS <span class="op">+</span><span class="st"> </span>LEAD <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">+</span><span class="st"> </span>HRS <span class="op">|</span><span class="st"> </span>GRP), <span class="dt">data =</span> bh1996)
  <span class="kw">anova</span>(mod.grp1, mod.grp2)</code></pre></div>
</div>
</div>
<div id="wrap-up-1" class="section level2">
<h2><span class="header-section-number">2.11</span> Wrap-up</h2>
<div id="feedback-1" class="section level3">
<h3><span class="header-section-number">2.11.1</span> Feedback</h3>
<p>These workshops are a work in progress, please provide any feedback to: <a href="mailto:help@iq.harvard.edu">help@iq.harvard.edu</a></p>
</div>
<div id="resources-1" class="section level3">
<h3><span class="header-section-number">2.11.2</span> Resources</h3>
<ul>
<li>IQSS
<ul>
<li><a href="https://dss.iq.harvard.edu/workshop-materials">Workshops</a></li>
<li><a href="https://dss.iq.harvard.edu/">Data Science Services</a></li>
<li><a href="https://iqss.github.io/dss-rce/">Research Computing Environment</a></li>
</ul></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Rintro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="Rgraphics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/IQSS/dss-workshops-redux/edit/master/R/Rmodels/Rmodels.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["IQSS_Workshops.pdf", "IQSS_Workshops.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
