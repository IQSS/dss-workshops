<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Stata Modeling | Data Science Workshops</title>
  <meta name="description" content="Stata Modeling | Data Science Workshops" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Stata Modeling | Data Science Workshops" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Stata Modeling | Data Science Workshops" />
  <meta name="github-repo" content="IQSS/dss-workshops" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Stata Modeling | Data Science Workshops" />
  
  <meta name="twitter:description" content="Stata Modeling | Data Science Workshops" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="StataDatMan.html"/>
<link rel="next" href="StataGraph.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science Workshop Materials</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Table of Contents</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
</ul></li>
<li class="part"><span><b>I General</b></span></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html"><i class="fa fa-check"></i>Data Science Tools</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#tools-for-working-with-data"><i class="fa fa-check"></i>Tools for working with data</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#the-puzzle-pieces"><i class="fa fa-check"></i>The puzzle pieces</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#data-analysis-building-blocks"><i class="fa fa-check"></i>Data analysis building blocks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#examples"><i class="fa fa-check"></i>Examples</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#old-school-example"><i class="fa fa-check"></i>Old-school example</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#something-old-something-new"><i class="fa fa-check"></i>Something old &amp; something new</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#a-modern-version"><i class="fa fa-check"></i>A modern version</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#data-storage-retrieval"><i class="fa fa-check"></i>Data storage &amp; retrieval</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#text-files"><i class="fa fa-check"></i>Text files</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#binary-files"><i class="fa fa-check"></i>Binary files</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#databases"><i class="fa fa-check"></i>Databases</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#distributed-file-storage"><i class="fa fa-check"></i>Distributed file storage</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#programming-languages-statistics-packages"><i class="fa fa-check"></i>Programming languages &amp; statistics packages</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#programming-language-features"><i class="fa fa-check"></i>Programming language features</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#program-comparison"><i class="fa fa-check"></i>Program comparison</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#examples-read-data-from-a-file-summarize"><i class="fa fa-check"></i>Examples: Read data from a file &amp; summarize</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#examples-fit-a-linear-regression"><i class="fa fa-check"></i>Examples: Fit a linear regression</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#examples-extract-links-for-.html-file"><i class="fa fa-check"></i>Examples: Extract links for .html file</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#creating-reports"><i class="fa fa-check"></i>Creating reports</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#markup-languages"><i class="fa fa-check"></i>Markup languages</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#word-processors"><i class="fa fa-check"></i>Word processors</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#text-editors-integrated-development-environments"><i class="fa fa-check"></i>Text editors &amp; Integrated Development Environments</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#language-specific-editors-ides"><i class="fa fa-check"></i>Language specific editors &amp; IDEs</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#general-purpose-editors-ides"><i class="fa fa-check"></i>General purpose editors &amp; IDEs</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#literate-programming-notebooks"><i class="fa fa-check"></i>Literate programming &amp; notebooks</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#literate-programming"><i class="fa fa-check"></i>Literate programming</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#notebooks"><i class="fa fa-check"></i>Notebooks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#big-data-annoying-data-computationally-intensive-methods"><i class="fa fa-check"></i>Big data, annoying data, &amp; computationally intensive methods</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#computing-clusters-at-harvard"><i class="fa fa-check"></i>Computing clusters at Harvard</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#wrap-up"><i class="fa fa-check"></i>Wrap up</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#feedback"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#resources"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II R</b></span></li>
<li class="chapter" data-level="" data-path="Rinstall.html"><a href="Rinstall.html"><i class="fa fa-check"></i>R Installation</a>
<ul>
<li class="chapter" data-level="" data-path="Rinstall.html"><a href="Rinstall.html#troubleshooting-session"><i class="fa fa-check"></i>Troubleshooting session</a></li>
<li class="chapter" data-level="" data-path="Rinstall.html"><a href="Rinstall.html#materials"><i class="fa fa-check"></i>Materials</a></li>
<li class="chapter" data-level="" data-path="Rinstall.html"><a href="Rinstall.html#software"><i class="fa fa-check"></i>Software</a></li>
<li><a href="Rinstall.html#installing-the-tidyverse">Installing the <code>tidyverse</code></a>
<ul>
<li><a href="Rinstall.html#troubleshooting-tidyverse-installation">Troubleshooting <code>tidyverse</code> installation</a></li>
</ul></li>
<li><a href="Rinstall.html#installing-rmarkdown-optional">Installing <code>rmarkdown</code> (optional)</a></li>
<li class="chapter" data-level="" data-path="Rinstall.html"><a href="Rinstall.html#resources-1"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html"><i class="fa fa-check"></i>R Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#setup"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#software-and-materials"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#class-structure"><i class="fa fa-check"></i>Class Structure</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#goals"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#r-basics"><i class="fa fa-check"></i>R basics</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#what-is-r"><i class="fa fa-check"></i>What is R?</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#why-use-r"><i class="fa fa-check"></i>Why use R?</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#how-does-r-work"><i class="fa fa-check"></i>How does R work?</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#interfaces"><i class="fa fa-check"></i>Interfaces</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#launch-a-session"><i class="fa fa-check"></i>Launch a session</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#exercise-0"><i class="fa fa-check"></i>Exercise 0</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#syntax-rules"><i class="fa fa-check"></i>Syntax rules</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#function-calls"><i class="fa fa-check"></i>Function calls</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#assignment"><i class="fa fa-check"></i>Assignment</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#asking-for-help"><i class="fa fa-check"></i>Asking for help</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#reading-data"><i class="fa fa-check"></i>Reading data</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#installing-using-packages"><i class="fa fa-check"></i>Installing &amp; using packages</a></li>
<li><a href="Rintro.html#the-tidyverse">The <code>tidyverse</code></a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#readers-for-common-file-types"><i class="fa fa-check"></i>Readers for common file types</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#baby-names-data"><i class="fa fa-check"></i>Baby names data</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#manipulating-data"><i class="fa fa-check"></i>Manipulating data</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#filter-select-arrange"><i class="fa fa-check"></i>Filter, select, &amp; arrange</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#logical-relational-operators"><i class="fa fa-check"></i>Logical &amp; relational operators</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#exercise-2.1"><i class="fa fa-check"></i>Exercise 2.1</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#pipe-operator"><i class="fa fa-check"></i>Pipe operator</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#exercise-2.2"><i class="fa fa-check"></i>Exercise 2.2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#plotting-data"><i class="fa fa-check"></i>Plotting data</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#exercise-3"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#creating-variables"><i class="fa fa-check"></i>Creating variables</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#create-or-modify-columns"><i class="fa fa-check"></i>Create or modify columns</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#operating-by-group"><i class="fa fa-check"></i>Operating by group</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#recoding-variables"><i class="fa fa-check"></i>Recoding variables</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#exercise-4"><i class="fa fa-check"></i>Exercise 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#aggregating-variables"><i class="fa fa-check"></i>Aggregating variables</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#exercise-5"><i class="fa fa-check"></i>Exercise 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#saving-work"><i class="fa fa-check"></i>Saving work</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#saving-individual-datasets"><i class="fa fa-check"></i>Saving individual datasets</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#saving-multiple-datasets"><i class="fa fa-check"></i>Saving multiple datasets</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#wrap-up-1"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#feedback-1"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#resources-2"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html"><i class="fa fa-check"></i>R Regression Models</a>
<ul>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#setup-1"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#software-and-materials-1"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#class-structure-1"><i class="fa fa-check"></i>Class Structure</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#prerequisites-1"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#goals-1"><i class="fa fa-check"></i>Goals</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#launch-an-r-session"><i class="fa fa-check"></i>Launch an R session</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#packages"><i class="fa fa-check"></i>Packages</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#modeling-workflow"><i class="fa fa-check"></i>Modeling workflow</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#r-modeling-ecosystem"><i class="fa fa-check"></i>R modeling ecosystem</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#before-fitting-a-model"><i class="fa fa-check"></i>Before fitting a model</a>
<ul>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#load-the-data"><i class="fa fa-check"></i>Load the data</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#examine-the-data"><i class="fa fa-check"></i>Examine the data</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#plot-the-data"><i class="fa fa-check"></i>Plot the data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#models-with-continuous-outcomes"><i class="fa fa-check"></i>Models with continuous outcomes</a>
<ul>
<li><a href="Rmodels.html#why-is-the-association-between-expense-sat-scores-negative">Why is the association between expense &amp; SAT scores <em>negative</em>?</a></li>
<li><a href="Rmodels.html#the-lm-class-methods">The <code>lm</code> class &amp; methods</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#ols-regression-assumptions"><i class="fa fa-check"></i>OLS regression assumptions</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#comparing-models"><i class="fa fa-check"></i>Comparing models</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#exercise-0-1"><i class="fa fa-check"></i>Exercise 0</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#interactions-factors"><i class="fa fa-check"></i>Interactions &amp; factors</a>
<ul>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#modeling-interactions"><i class="fa fa-check"></i>Modeling interactions</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#regression-with-categorical-predictors"><i class="fa fa-check"></i>Regression with categorical predictors</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#setting-factor-reference-groups-contrasts"><i class="fa fa-check"></i>Setting factor reference groups &amp; contrasts</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#exercise-1-1"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#models-with-binary-outcomes"><i class="fa fa-check"></i>Models with binary outcomes</a>
<ul>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#logistic-regression"><i class="fa fa-check"></i>Logistic regression</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#logistic-regression-example"><i class="fa fa-check"></i>Logistic regression example</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#odds-ratios"><i class="fa fa-check"></i>Odds ratios</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#predicted-marginal-means"><i class="fa fa-check"></i>Predicted marginal means</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#multilevel-modeling"><i class="fa fa-check"></i>Multilevel modeling</a>
<ul>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#multilevel-modeling-overview"><i class="fa fa-check"></i>Multilevel modeling overview</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#the-exam-data"><i class="fa fa-check"></i>The Exam data</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#the-null-model-icc"><i class="fa fa-check"></i>The null model &amp; ICC</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#adding-fixed-effects-predictors"><i class="fa fa-check"></i>Adding fixed-effects predictors</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#multiple-degree-of-freedom-comparisons"><i class="fa fa-check"></i>Multiple degree of freedom comparisons</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#random-slopes"><i class="fa fa-check"></i>Random slopes</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#test-the-significance-of-the-random-slope"><i class="fa fa-check"></i>Test the significance of the random slope</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#exercise-3-1"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#wrap-up-2"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#feedback-2"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#resources-3"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html"><i class="fa fa-check"></i>R Graphics</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#setup-2"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#software-and-materials-2"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#class-structure-2"><i class="fa fa-check"></i>Class Structure</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#prerequisites-2"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#launch-an-r-session-1"><i class="fa fa-check"></i>Launch an R session</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#packages-1"><i class="fa fa-check"></i>Packages</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#goals-2"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li><a href="Rgraphics.html#why-ggplot2">Why <code>ggplot2</code>?</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#what-is-the-grammar-of-graphics"><i class="fa fa-check"></i>What is the Grammar Of Graphics?</a></li>
<li><a href="Rgraphics.html#ggplot2-vs-base-graphics"><code>ggplot2</code> VS base graphics</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#geometric-objects-aesthetics"><i class="fa fa-check"></i>Geometric objects &amp; aesthetics</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#aesthetic-mapping"><i class="fa fa-check"></i>Aesthetic mapping</a></li>
<li><a href="Rgraphics.html#geometric-objects-geom">Geometric objects (<code>geom</code>)</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#aesthetic-mapping-vs-assignment"><i class="fa fa-check"></i>Aesthetic mapping VS assignment</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#mapping-variables-to-other-aesthetics"><i class="fa fa-check"></i>Mapping variables to other aesthetics</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#exercise-0-2"><i class="fa fa-check"></i>Exercise 0</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#statistical-transformations"><i class="fa fa-check"></i>Statistical transformations</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#why-transform-data"><i class="fa fa-check"></i>Why transform data?</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#setting-arguments"><i class="fa fa-check"></i>Setting arguments</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#changing-the-transformation"><i class="fa fa-check"></i>Changing the transformation</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#exercise-1-2"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#scales"><i class="fa fa-check"></i>Scales</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#controlling-aesthetic-mapping"><i class="fa fa-check"></i>Controlling aesthetic mapping</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#common-scale-arguments"><i class="fa fa-check"></i>Common scale arguments</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#scale-modification-examples"><i class="fa fa-check"></i>Scale modification examples</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#using-different-color-scales"><i class="fa fa-check"></i>Using different color scales</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#available-scales"><i class="fa fa-check"></i>Available scales</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#exercise-2-1"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#faceting"><i class="fa fa-check"></i>Faceting</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#what-is-faceting"><i class="fa fa-check"></i>What is faceting?</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#what-is-the-trend-in-housing-prices-in-each-state"><i class="fa fa-check"></i>What is the trend in housing prices in each state?</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#faceting-to-the-rescue"><i class="fa fa-check"></i>Faceting to the rescue</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#themes"><i class="fa fa-check"></i>Themes</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#what-are-themes"><i class="fa fa-check"></i>What are themes?</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#overriding-theme-defaults"><i class="fa fa-check"></i>Overriding theme defaults</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#creating-saving-new-themes"><i class="fa fa-check"></i>Creating &amp; saving new themes</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#saving-plots"><i class="fa fa-check"></i>Saving plots</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#the-1-faq"><i class="fa fa-check"></i>The #1 FAQ</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#map-aesthetic-to-different-columns"><i class="fa fa-check"></i>Map aesthetic to different columns</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#exercise-3-2"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#wrap-up-3"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#feedback-3"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#resources-4"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html"><i class="fa fa-check"></i>R Data Wrangling</a>
<ul>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#setup-3"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#software-and-materials-3"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#class-structure-3"><i class="fa fa-check"></i>Class Structure</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#prerequisites-3"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#launch-an-r-session-2"><i class="fa fa-check"></i>Launch an R session</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#packages-2"><i class="fa fa-check"></i>Packages</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#workshop-outline"><i class="fa fa-check"></i>Workshop Outline</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#working-with-excel-worksheets"><i class="fa fa-check"></i>Working with Excel worksheets</a>
<ul>
<li><a href="RDataWrangling.html#iterating-with-map">Iterating with <code>map()</code></a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#filtering-strings-using-regex"><i class="fa fa-check"></i>Filtering strings using regex</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#writing-your-own-functions"><i class="fa fa-check"></i>Writing your own functions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#reading-excel-data-files"><i class="fa fa-check"></i>Reading Excel data files</a>
<ul>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#exercise-1-3"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#data-cleanup"><i class="fa fa-check"></i>Data cleanup</a>
<ul>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#selecting-columns"><i class="fa fa-check"></i>Selecting columns</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#data-types-and-structures"><i class="fa fa-check"></i>Data types and structures</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#list-indexing"><i class="fa fa-check"></i>List indexing</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#dropping-missing-values"><i class="fa fa-check"></i>Dropping missing values</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#exercise-2-2"><i class="fa fa-check"></i>Exercise 2</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#reshaping-from-wide-to-long"><i class="fa fa-check"></i>Reshaping from wide to long</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#exercise-3-3"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#data-organization-storage"><i class="fa fa-check"></i>Data organization &amp; storage</a>
<ul>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#a-list-of-data-frames"><i class="fa fa-check"></i>A list of data frames</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#one-big-data-frame"><i class="fa fa-check"></i>One big data frame</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#exercise-4-1"><i class="fa fa-check"></i>Exercise 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#complete-code"><i class="fa fa-check"></i>Complete code</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#wrap-up-4"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#feedback-4"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#resources-5"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Python</b></span></li>
<li class="chapter" data-level="" data-path="PythonInstall.html"><a href="PythonInstall.html"><i class="fa fa-check"></i>Python Installation</a>
<ul>
<li class="chapter" data-level="" data-path="PythonInstall.html"><a href="PythonInstall.html#troubleshooting-session-1"><i class="fa fa-check"></i>Troubleshooting session</a></li>
<li class="chapter" data-level="" data-path="PythonInstall.html"><a href="PythonInstall.html#materials-1"><i class="fa fa-check"></i>Materials</a></li>
<li class="chapter" data-level="" data-path="PythonInstall.html"><a href="PythonInstall.html#software-1"><i class="fa fa-check"></i>Software</a></li>
<li class="chapter" data-level="" data-path="PythonInstall.html"><a href="PythonInstall.html#jupyter-notebook-interfaces"><i class="fa fa-check"></i>Jupyter notebook interfaces</a>
<ul>
<li class="chapter" data-level="" data-path="PythonInstall.html"><a href="PythonInstall.html#launch-jupyterlab"><i class="fa fa-check"></i>Launch JupyterLab</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonInstall.html"><a href="PythonInstall.html#resources-6"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html"><i class="fa fa-check"></i>Python Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#setup-4"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#software-and-materials-4"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#class-structure-4"><i class="fa fa-check"></i>Class Structure</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#prerequisites-4"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#goals-3"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#python-basics"><i class="fa fa-check"></i>Python basics</a>
<ul>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#what-is-python"><i class="fa fa-check"></i>What is Python?</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#why-use-python"><i class="fa fa-check"></i>Why use Python?</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#how-does-python-work"><i class="fa fa-check"></i>How does Python work?</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#interfaces-1"><i class="fa fa-check"></i>Interfaces</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#launch-jupyterlab-1"><i class="fa fa-check"></i>Launch JupyterLab</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#syntax-rules-1"><i class="fa fa-check"></i>Syntax rules</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#function-calls-1"><i class="fa fa-check"></i>Function calls</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#assignment-1"><i class="fa fa-check"></i>Assignment</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#reading-data-1"><i class="fa fa-check"></i>Reading data</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#object-methods"><i class="fa fa-check"></i>Object methods</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#using-object-methods-lists"><i class="fa fa-check"></i>Using object methods &amp; lists</a>
<ul>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#splitting-a-string-into-a-list-of-words"><i class="fa fa-check"></i>Splitting a string into a list of words</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#working-with-lists"><i class="fa fa-check"></i>Working with lists</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#extracting-subsets-from-lists"><i class="fa fa-check"></i>Extracting subsets from lists</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#using-sets-to-count-unique-items"><i class="fa fa-check"></i>Using sets to count unique items</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#exercise-0-3"><i class="fa fa-check"></i>Exercise 0</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#control-flow"><i class="fa fa-check"></i>Control flow</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#logical-relational-operators-1"><i class="fa fa-check"></i>Logical &amp; relational operators</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#counting-list-elements"><i class="fa fa-check"></i>Counting list elements</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#exercise-1-4"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#iterating-over-collections-of-data"><i class="fa fa-check"></i>Iterating over collections of data</a>
<ul>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#iterating-over-lists-using-for-loops"><i class="fa fa-check"></i>Iterating over lists using for-loops</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#organizing-results-in-dictionaries"><i class="fa fa-check"></i>Organizing results in dictionaries</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#exercise-2-3"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#importing-packages"><i class="fa fa-check"></i>Importing packages</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#wrap-up-5"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#feedback-5"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#resources-7"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html"><i class="fa fa-check"></i>Python Web-Scraping</a>
<ul>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#setup-5"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#software-and-materials-5"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#class-structure-5"><i class="fa fa-check"></i>Class Structure</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#prerequisites-5"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#goals-4"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#web-scraping-background"><i class="fa fa-check"></i>Web scraping background</a>
<ul>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#what-is-web-scraping"><i class="fa fa-check"></i>What is web scraping?</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#is-web-scraping-legal-is-it-ethical"><i class="fa fa-check"></i>Is web scraping legal? Is it ethical?</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#web-scraping-approaches"><i class="fa fa-check"></i>Web scraping approaches</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#how-does-the-web-work"><i class="fa fa-check"></i>How does the web work?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#retrieve-data-in-json-format-if-you-can"><i class="fa fa-check"></i>Retrieve data in JSON format if you can</a>
<ul>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#examine-the-websites-structure"><i class="fa fa-check"></i>Examine the website’s structure</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#launch-jupyterlab-2"><i class="fa fa-check"></i>Launch JupyterLab</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#making-requests"><i class="fa fa-check"></i>Making requests</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#parsing-json-data"><i class="fa fa-check"></i>Parsing JSON data</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#organizing-saving-the-data"><i class="fa fa-check"></i>Organizing &amp; saving the data</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#iterating-to-retrieve-all-the-data"><i class="fa fa-check"></i>Iterating to retrieve all the data</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#exercise-0-4"><i class="fa fa-check"></i>Exercise 0</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#parsing-html-if-you-have-to"><i class="fa fa-check"></i>Parsing HTML if you have to</a>
<ul>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#document-object-model-dom"><i class="fa fa-check"></i>Document Object Model (DOM)</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#retrieving-html"><i class="fa fa-check"></i>Retrieving HTML</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#parsing-html-using-the-lxml-library"><i class="fa fa-check"></i>Parsing HTML using the lxml library</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#using-xpath-to-extract-content-from-html"><i class="fa fa-check"></i>Using XPath to extract content from HTML</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#iterating-to-retrieve-content-from-a-list-of-html-elements"><i class="fa fa-check"></i>Iterating to retrieve content from a list of HTML elements</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#exercise-1-5"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li><a href="PythonWebScrape.html#scrapy-for-large-complex-projects"><code>Scrapy</code>: for large / complex projects</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#browser-drivers-a-last-resort"><i class="fa fa-check"></i>Browser drivers: a last resort</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#wrap-up-6"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#feedback-6"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#resources-8"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Stata</b></span></li>
<li class="chapter" data-level="" data-path="StataInstall.html"><a href="StataInstall.html"><i class="fa fa-check"></i>Stata Installation</a>
<ul>
<li class="chapter" data-level="" data-path="StataInstall.html"><a href="StataInstall.html#troubleshooting"><i class="fa fa-check"></i>Troubleshooting</a></li>
<li class="chapter" data-level="" data-path="StataInstall.html"><a href="StataInstall.html#software-2"><i class="fa fa-check"></i>Software</a></li>
<li class="chapter" data-level="" data-path="StataInstall.html"><a href="StataInstall.html#materials-2"><i class="fa fa-check"></i>Materials</a></li>
<li class="chapter" data-level="" data-path="StataInstall.html"><a href="StataInstall.html#resources-9"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html"><i class="fa fa-check"></i>Stata Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#setup-6"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#class-structure-and-organization"><i class="fa fa-check"></i>Class Structure and organization</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#prerequisites-6"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#goals-5"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#stata-basics"><i class="fa fa-check"></i>Stata basics</a>
<ul>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#what-is-stata"><i class="fa fa-check"></i>What is Stata?</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#why-use-stata"><i class="fa fa-check"></i>Why use Stata?</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#how-does-stata-work"><i class="fa fa-check"></i>How does Stata work?</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#interfaces-2"><i class="fa fa-check"></i>Interfaces</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#stata-help"><i class="fa fa-check"></i>Stata help</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#syntax-rules-2"><i class="fa fa-check"></i>Syntax rules</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#exercise-0-5"><i class="fa fa-check"></i>Exercise 0</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#working-directory"><i class="fa fa-check"></i>Working directory</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#reading-data-2"><i class="fa fa-check"></i>Reading data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#statistics-graphs"><i class="fa fa-check"></i>Statistics &amp; graphs</a>
<ul>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#basic-graphing-commands"><i class="fa fa-check"></i>Basic graphing commands</a></li>
<li><a href="StataIntro.html#the-by-command">The <code>by</code> command</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#exercise-1-6"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#basic-data-management"><i class="fa fa-check"></i>Basic data management</a>
<ul>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#variable-value-labels"><i class="fa fa-check"></i>Variable &amp; value labels</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#working-on-subsets"><i class="fa fa-check"></i>Working on subsets</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#generating-replacing-variables"><i class="fa fa-check"></i>Generating &amp; replacing variables</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#exercise-2-4"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#bivariate-analyses"><i class="fa fa-check"></i>Bivariate analyses</a>
<ul>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#chi-squared-test"><i class="fa fa-check"></i>Chi-squared test</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#t-test"><i class="fa fa-check"></i>t-test</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#one-way-anova"><i class="fa fa-check"></i>One-way ANOVA</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#exercise-3-4"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#wrap-up-7"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#feedback-7"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#resources-10"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html"><i class="fa fa-check"></i>Stata Data Management</a>
<ul>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#setup-7"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#class-structure-and-organization-1"><i class="fa fa-check"></i>Class structure and organization</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#prerequisites-7"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#goals-6"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#opening-files"><i class="fa fa-check"></i>Opening Files</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#generating-replacing-variables-1"><i class="fa fa-check"></i>Generating &amp; replacing variables</a>
<ul>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#generate-replace"><i class="fa fa-check"></i>Generate &amp; Replace</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#recode"><i class="fa fa-check"></i>Recode</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#egen"><i class="fa fa-check"></i>egen</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#exercise-0-6"><i class="fa fa-check"></i>Exercise 0</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#missing-values"><i class="fa fa-check"></i>Missing values</a>
<ul>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#making-sure-missingness-is-preserved"><i class="fa fa-check"></i>Making sure missingness is preserved</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#bulk-conversion-to-missing-values"><i class="fa fa-check"></i>Bulk Conversion to missing values</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#variable-types"><i class="fa fa-check"></i>Variable types</a>
<ul>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#converting-to-from-strings"><i class="fa fa-check"></i>Converting to &amp; from Strings</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#converting-strings-to-date-time"><i class="fa fa-check"></i>Converting strings to date / time</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#formatting-numbers-as-dates"><i class="fa fa-check"></i>Formatting numbers as dates</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#exercise-1-7"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#merging-appending-collapsing"><i class="fa fa-check"></i>Merging, appending, &amp; collapsing</a>
<ul>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#appending-datasets"><i class="fa fa-check"></i>Appending datasets</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#merging-datasets"><i class="fa fa-check"></i>Merging datasets</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#merge-options"><i class="fa fa-check"></i>Merge Options</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#many-to-many-merges---joinby-command"><i class="fa fa-check"></i>Many-to-many merges - joinby command</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#collapse"><i class="fa fa-check"></i>Collapse</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#exercise-2-5"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#wrap-up-8"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#feedback-8"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="StataDatMan.html"><a href="StataDatMan.html#resources-11"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html"><i class="fa fa-check"></i>Stata Modeling</a>
<ul>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#setup-8"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#class-structure-and-organization-2"><i class="fa fa-check"></i>Class structure and organization</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#prerequisites-8"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#goals-7"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#modeling-workflow-1"><i class="fa fa-check"></i>Modeling workflow</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#before-fitting-a-model-1"><i class="fa fa-check"></i>Before fitting a model</a>
<ul>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#the-dataset"><i class="fa fa-check"></i>The dataset</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#set-working-directory"><i class="fa fa-check"></i>Set working directory</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#load-the-data-1"><i class="fa fa-check"></i>Load the data</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#examine-descriptive-statistics"><i class="fa fa-check"></i>Examine descriptive statistics</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#visualize-the-data"><i class="fa fa-check"></i>Visualize the data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#models-with-continuous-outcomes-1"><i class="fa fa-check"></i>Models with continuous outcomes</a>
<ul>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#fit-the-model"><i class="fa fa-check"></i>Fit the model</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#ols-assumptions"><i class="fa fa-check"></i>OLS assumptions</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#interactions"><i class="fa fa-check"></i>Interactions</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#categorical-predictors"><i class="fa fa-check"></i>Categorical predictors</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#exercise-0-7"><i class="fa fa-check"></i>Exercise 0</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#models-with-binary-outcomes-1"><i class="fa fa-check"></i>Models with binary outcomes</a>
<ul>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#the-dataset-1"><i class="fa fa-check"></i>The Dataset</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#load-the-dataset"><i class="fa fa-check"></i>Load the dataset</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#recode-the-outcome-variable"><i class="fa fa-check"></i>Recode the outcome variable</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#run-summary-statistics"><i class="fa fa-check"></i>Run summary statistics</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#run-the-logistic-model"><i class="fa fa-check"></i>Run the logistic model</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#exercise-1-8"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#exporting-saving-results"><i class="fa fa-check"></i>Exporting &amp; saving results</a>
<ul>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#storing-results"><i class="fa fa-check"></i>Storing results</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#comparing-models-1"><i class="fa fa-check"></i>Comparing models</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#exporting-to-excel"><i class="fa fa-check"></i>Exporting to Excel</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#exercise-2-6"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#obtaining-quantities-of-interest"><i class="fa fa-check"></i>Obtaining quantities of interest</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#margins-of-responses"><i class="fa fa-check"></i>Margins of responses</a>
<ul>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#the-dataset-2"><i class="fa fa-check"></i>The dataset</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#fit-a-model"><i class="fa fa-check"></i>Fit a model</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#apm-average-predictive-margins"><i class="fa fa-check"></i>APM: Average Predictive Margins</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#pmm-predictive-margins-at-the-means"><i class="fa fa-check"></i>PMM: Predictive Margins at the Means</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#pmr-predictive-margins-at-representative-values"><i class="fa fa-check"></i>PMR: Predictive Margins at Representative values</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#graph-margins-of-responses"><i class="fa fa-check"></i>Graph margins of responses</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#exercise-3-5"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#margins-of-changes-in-responses"><i class="fa fa-check"></i>Margins of changes in responses</a>
<ul>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#the-dataset-3"><i class="fa fa-check"></i>The dataset</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#fit-a-model-1"><i class="fa fa-check"></i>Fit a model</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#ame-average-marginal-effects"><i class="fa fa-check"></i>AME: Average Marginal Effects</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#mem-marginal-effects-at-the-mean"><i class="fa fa-check"></i>MEM: Marginal Effects at the Mean</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#mer-marginal-effects-at-representative-values"><i class="fa fa-check"></i>MER: Marginal Effects at Representative values</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#graph-margins-of-changes-in-responses"><i class="fa fa-check"></i>Graph margins of changes in responses</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#exercise-4-2"><i class="fa fa-check"></i>Exercise 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#wrap-up-9"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#feedback-9"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="StataMod.html"><a href="StataMod.html#resources-12"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html"><i class="fa fa-check"></i>Stata Graphing</a>
<ul>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#setup-9"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#class-structure-and-organization-3"><i class="fa fa-check"></i>Class structure and organization</a></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#prerequisites-9"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#goals-8"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#graphing-in-stata"><i class="fa fa-check"></i>Graphing in Stata</a>
<ul>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#graphing-strategies"><i class="fa fa-check"></i>Graphing strategies</a></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#terrible-graph"><i class="fa fa-check"></i>Terrible graph</a></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#much-better-graph"><i class="fa fa-check"></i>Much better graph</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#univariate-graphics"><i class="fa fa-check"></i>Univariate graphics</a>
<ul>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#our-first-dataset"><i class="fa fa-check"></i>Our first dataset</a></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#single-continuous-variable"><i class="fa fa-check"></i>Single continuous variable</a></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#single-categorical-variable"><i class="fa fa-check"></i>Single categorical variable</a></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#exercise-0-8"><i class="fa fa-check"></i>Exercise 0</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#bivariate-graphics"><i class="fa fa-check"></i>Bivariate graphics</a>
<ul>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#next-dataset"><i class="fa fa-check"></i>Next dataset</a></li>
<li><a href="StataGraph.html#the-twoway-family">The <code>twoway</code> family</a></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#overlaying-twoway-graphs"><i class="fa fa-check"></i>Overlaying twoway graphs</a></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#twoway-line-graphs"><i class="fa fa-check"></i>Twoway line graphs</a></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#stata-graphing-lines"><i class="fa fa-check"></i>Stata graphing lines</a></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#exercise-1-9"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#exporting-graphs"><i class="fa fa-check"></i>Exporting graphs</a></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#wrap-up-10"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#feedback-10"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="StataGraph.html"><a href="StataGraph.html#resources-13"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science Workshops</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="stata-modeling" class="section level1">
<h1>Stata Modeling</h1>
<p><strong>Topics</strong></p>
<ul>
<li>Models with continuous outcomes
<ul>
<li>OLS regression</li>
<li>OLS model assumptions and diagnostics</li>
<li>Including interaction terms</li>
<li>Including categorical predictors</li>
</ul></li>
<li>Models with binary outcomes
<ul>
<li>Logistic regression</li>
<li>Obtaining odds ratios</li>
</ul></li>
<li>Exporting &amp; saving results
<ul>
<li>Regression tables</li>
<li>Model comparison</li>
</ul></li>
<li>Obtaining quantities of interest
<ul>
<li>Margins of responses
<ul>
<li>APM: Average Predictive Margins</li>
<li>PMM: Predictive Margins at the Means</li>
<li>PMR: Predictive Margins at Representative values</li>
</ul></li>
<li>Margins of changes in responses
<ul>
<li>AME: Average Marginal Effects</li>
<li>MEM: Marginal Effects at the Means</li>
<li>MER: Marginal Effects at Representative values</li>
</ul></li>
</ul></li>
</ul>
<div id="setup-8" class="section level2">
<h2>Setup</h2>
<div id="class-structure-and-organization-2" class="section level3">
<h3>Class structure and organization</h3>
<ul>
<li>Informal — Ask questions at any time. Really!</li>
<li>Collaboration is encouraged - please spend a minute introducing yourself to your neighbors!</li>
<li>If you are using a laptop, you will need to adjust file paths accordingly</li>
<li>Make comments in your do-file - save on flash drive or email to yourself</li>
</ul>
</div>
<div id="prerequisites-8" class="section level3">
<h3>Prerequisites</h3>
<p>This is an intermediate-level Stata modeling workshop</p>
<ul>
<li>Assumes basic knowledge of Stata</li>
<li>Not appropriate for people already well familiar with modeling in Stata</li>
<li>If you are catching on before the rest of the class, experiment with command features described in help files</li>
</ul>
</div>
<div id="goals-7" class="section level3">
<h3>Goals</h3>
<div class="alert alert-success">
<p><strong>We will learn about the Stata modeling ecosystem by analyzing data from three datasets.</strong> In particular, our goals are to learn about:</p>
<ol style="list-style-type: decimal">
<li>Modeling workflow</li>
<li>Modeling continuous outcomes<br />
</li>
<li>Modeling binary outcomes</li>
<li>Producing regression tables</li>
<li>Obtaining margins of responses</li>
<li>Obtaining margins of changes in responses</li>
</ol>
</div>
</div>
</div>
<div id="modeling-workflow-1" class="section level2">
<h2>Modeling workflow</h2>
<p>Before we delve into the details of how to fit models in Stata, it’s worth taking a step back and thinking more broadly about the components of the modeling process. These can roughly be divided into 3 stages:</p>
<ol style="list-style-type: decimal">
<li>Pre-estimation</li>
<li>Estimation</li>
<li>Post-estimaton</li>
</ol>
<p>At each stage, the goal is to complete a different task (e.g., to clean data, fit a model, test a hypothesis),
but the process is sequential — we move through the stages in order (though often many times in one project!)</p>
<p><img src="Stata/StataMod/images/Stata_model_pipeline.png" /></p>
<p>Throughout this workshop we will go through these stages several times as we fit different types of model.</p>
</div>
<div id="before-fitting-a-model-1" class="section level2">
<h2>Before fitting a model</h2>
<div class="alert alert-info">
<p><strong>GOAL: To learn about the data by creating summaries and visualizations.</strong></p>
</div>
<div id="the-dataset" class="section level3">
<h3>The dataset</h3>
<p>We have a dataset (<code>states.dta</code>) on a variety of variables for all 50 states. Variables include population, density, energy use, voting tendencies, graduation rates, income, etc.</p>
<p>We’re going to ask the question: does the amount of money spent on education (<code>expense</code>), family income(<code>income</code>), and percentage of students taking SATs (<code>percent</code>) affect the mean SAT score (<code>csat</code>) in a state?</p>
</div>
<div id="set-working-directory" class="section level3">
<h3>Set working directory</h3>
<p>Files are located in the <code>dataSets</code> folder in <code>StataMod</code>. Start by telling Stata where to look for these:</p>
<div class="sourceCode" id="cb739"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb739-1"><a href="StataMod.html#cb739-1"></a><span class="co">// change directory</span></span>
<span id="cb739-2"><a href="StataMod.html#cb739-2"></a>cd <span class="st">&quot;~/Desktop/Stata/StataMod&quot;</span></span></code></pre></div>
<p>Use <code>dir</code> to see what is in the directory:</p>
<div class="sourceCode" id="cb740"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb740-1"><a href="StataMod.html#cb740-1"></a><span class="ot">dir</span></span>
<span id="cb740-2"><a href="StataMod.html#cb740-2"></a>cd dataSets</span></code></pre></div>
</div>
<div id="load-the-data-1" class="section level3">
<h3>Load the data</h3>
<div class="sourceCode" id="cb741"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb741-1"><a href="StataMod.html#cb741-1"></a><span class="co">// use the states data set</span></span>
<span id="cb741-2"><a href="StataMod.html#cb741-2"></a><span class="kw">use</span> dataSets/states.dta</span></code></pre></div>
</div>
<div id="examine-descriptive-statistics" class="section level3">
<h3>Examine descriptive statistics</h3>
<div class="sourceCode" id="cb742"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb742-1"><a href="StataMod.html#cb742-1"></a><span class="co">// descriptive statistics </span></span>
<span id="cb742-2"><a href="StataMod.html#cb742-2"></a><span class="kw">sum</span> expense income <span class="kw">percent</span> csat</span></code></pre></div>
</div>
<div id="visualize-the-data" class="section level3">
<h3>Visualize the data</h3>
<div class="sourceCode" id="cb743"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb743-1"><a href="StataMod.html#cb743-1"></a><span class="co">// visualize data </span></span>
<span id="cb743-2"><a href="StataMod.html#cb743-2"></a><span class="kw">scatter</span> expense income</span>
<span id="cb743-3"><a href="StataMod.html#cb743-3"></a><span class="kw">scatter</span> expense <span class="kw">percent</span> </span></code></pre></div>
</div>
</div>
<div id="models-with-continuous-outcomes-1" class="section level2">
<h2>Models with continuous outcomes</h2>
<div class="alert alert-info">
<p><strong>GOAL: To learn about the Stata modeling ecosystem by using the <code>regress</code> command to fit ordinary least squares (OLS) models.</strong> In particular:</p>
<ol style="list-style-type: decimal">
<li>Stata syntax for model specification</li>
<li>Model diagnostics for checking OLS assumptions</li>
<li>Including interaction terms</li>
<li>Including categorical predictors</li>
</ol>
</div>
<div id="fit-the-model" class="section level3">
<h3>Fit the model</h3>
<p>To fit a model in Stata, we first have to convert our theoretical model into
Stata syntax — a symbolic representation of the model:</p>
<div class="sourceCode" id="cb744"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb744-1"><a href="StataMod.html#cb744-1"></a><span class="co">// model specification</span></span>
<span id="cb744-2"><a href="StataMod.html#cb744-2"></a>command outcome pred1 pred2 pred3</span></code></pre></div>
<p>Note that immediately after the modeling command comes the outcome variable, followed by numerous predictors.</p>
<p>For example, the following model predicts SAT scores based on the amount of money spent on education (<code>expense</code>), family income(<code>income</code>), and percentage of students taking SATs (<code>percent</code>) in a state. Here’s the theoretical model:</p>
<div class="alert alert-secondary">
<p><span class="math display">\[
SATscores_i = \beta_01 + \beta_1expenditures_i + \beta_2income_i +\beta_3SATpercent_i + \epsilon_i
\]</span></p>
</div>
<p>And here’s how we use the <code>regress</code> command to fit this model in Stata:</p>
<div class="sourceCode" id="cb745"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb745-1"><a href="StataMod.html#cb745-1"></a><span class="kw">regress</span> csat expense income <span class="kw">percent</span> </span></code></pre></div>
</div>
<div id="ols-assumptions" class="section level3">
<h3>OLS assumptions</h3>
<p>OLS regression relies on several assumptions, including:</p>
<ol style="list-style-type: decimal">
<li>The model includes all relevant variables (i.e., no omitted variable bias).</li>
<li>The model is linear in the parameters (i.e., the coefficients and error term).</li>
<li>The error term has an expected value of zero.</li>
<li>All right-hand-side variables are uncorrelated with the error term.</li>
<li>No right-hand-side variables are a perfect linear function of other RHS variables.</li>
<li>Observations of the error term are uncorrelated with each other.</li>
<li>The error term has constant variance (i.e., homoscedasticity).</li>
<li>(Optional - only needed for inference). The error term is normally distributed.</li>
</ol>
<p>We can investigate assumptions #7 and #8 by plotting model diagnostics. A simple histogram of the residuals can be informative:</p>
<div class="sourceCode" id="cb746"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb746-1"><a href="StataMod.html#cb746-1"></a><span class="co">// graph the residual values of csat</span></span>
<span id="cb746-2"><a href="StataMod.html#cb746-2"></a><span class="kw">predict</span> <span class="kw">resid</span>, residual</span>
<span id="cb746-3"><a href="StataMod.html#cb746-3"></a><span class="kw">histogram</span> <span class="kw">resid</span>, <span class="fu">normal</span> </span></code></pre></div>
<p>We can also examine homoscedasticity:</p>
<div class="sourceCode" id="cb747"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb747-1"><a href="StataMod.html#cb747-1"></a><span class="kw">rvfplot</span>, <span class="kw">yline</span>(0)</span></code></pre></div>
<p>Type <code>-help regress postestimation</code> — for more information about model diagnostics. If assumptions are not met, alter the specification and refit the model.</p>
</div>
<div id="interactions" class="section level3">
<h3>Interactions</h3>
<p>What if we wanted to test an interaction between <code>percent</code> and <code>high</code>?</p>
<p>Option 1: generate product terms by hand:</p>
<div class="sourceCode" id="cb748"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb748-1"><a href="StataMod.html#cb748-1"></a><span class="co">// generate product of percent and high</span></span>
<span id="cb748-2"><a href="StataMod.html#cb748-2"></a><span class="kw">gen</span> percenthigh = <span class="kw">percent</span>*high </span>
<span id="cb748-3"><a href="StataMod.html#cb748-3"></a><span class="kw">regress</span> csat expense income <span class="kw">percent</span> high percenthigh</span></code></pre></div>
<p>Option 2: let Stata do your dirty work:</p>
<div class="sourceCode" id="cb749"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb749-1"><a href="StataMod.html#cb749-1"></a><span class="co">// use the # sign to represent interactions </span></span>
<span id="cb749-2"><a href="StataMod.html#cb749-2"></a><span class="kw">regress</span> csat <span class="kw">percent</span> high c.percent#c.high</span>
<span id="cb749-3"><a href="StataMod.html#cb749-3"></a><span class="co">// same as: regress csat c.percent##c.high</span></span></code></pre></div>
</div>
<div id="categorical-predictors" class="section level3">
<h3>Categorical predictors</h3>
<p>For categorical variables, we first need to dummy code. Let’s use <code>region</code> as an example.</p>
<p>Option 1: create dummy codes before fitting regression model:</p>
<div class="sourceCode" id="cb750"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb750-1"><a href="StataMod.html#cb750-1"></a><span class="co">// create region dummy codes using tab </span></span>
<span id="cb750-2"><a href="StataMod.html#cb750-2"></a><span class="kw">tab</span> region, <span class="kw">gen</span>(region)</span>
<span id="cb750-3"><a href="StataMod.html#cb750-3"></a></span>
<span id="cb750-4"><a href="StataMod.html#cb750-4"></a><span class="co">// regress csat on region</span></span>
<span id="cb750-5"><a href="StataMod.html#cb750-5"></a><span class="kw">regress</span> csat region1 region2 region3</span></code></pre></div>
<p>Option 2: let Stata do it for you:</p>
<div class="sourceCode" id="cb751"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb751-1"><a href="StataMod.html#cb751-1"></a><span class="co">// regress csat on region using fvvarlist syntax</span></span>
<span id="cb751-2"><a href="StataMod.html#cb751-2"></a><span class="co">// see `help fvvarlist` for details</span></span>
<span id="cb751-3"><a href="StataMod.html#cb751-3"></a><span class="kw">regress</span> csat i.region</span></code></pre></div>
</div>
<div id="exercise-0-7" class="section level3">
<h3>Exercise 0</h3>
<p><strong>Regression with continuous outcomes</strong></p>
<p>Open the datafile, <code>gss.dta</code>.</p>
<p>Fit an OLS regression model to predict general happiness (<code>happy</code>) based on respondent’s sex (<code>sex</code>), marital status (<code>marital</code>), highest year of school completed (<code>educ</code>), and respondent’s income for last year (<code>rincome</code>).</p>
<ol style="list-style-type: decimal">
<li>Before running the regression, examine descriptive statistics of the variables and generate a few scatterplots.</li>
</ol>
<div class="sourceCode" id="cb752"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb752-1"><a href="StataMod.html#cb752-1"></a>##</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Run your regression model.</li>
</ol>
<div class="sourceCode" id="cb753"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb753-1"><a href="StataMod.html#cb753-1"></a>##</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Examine the plausibility of the assumptions of normality and homoscedasticity.</li>
</ol>
<div class="sourceCode" id="cb754"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb754-1"><a href="StataMod.html#cb754-1"></a>##</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Add on to the regression equation by generating an interaction term between <code>sex</code> and <code>educ</code> and testing the interaction.</li>
</ol>
<div class="sourceCode" id="cb755"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb755-1"><a href="StataMod.html#cb755-1"></a>##</span></code></pre></div>
<details>
<summary><span style="color:red"><b>Click for Exercise 0 Solution</b></span></summary>
<div class="alert alert-danger">
<div class="sourceCode" id="cb756"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb756-1"><a href="StataMod.html#cb756-1"></a><span class="co">// 1.  Before running the regression, examine descriptive statistics of the variables and generate a few scatterplots.</span></span>
<span id="cb756-2"><a href="StataMod.html#cb756-2"></a></span>
<span id="cb756-3"><a href="StataMod.html#cb756-3"></a><span class="kw">sum</span> happy educ rincome </span>
<span id="cb756-4"><a href="StataMod.html#cb756-4"></a><span class="kw">tab</span> sex </span>
<span id="cb756-5"><a href="StataMod.html#cb756-5"></a><span class="kw">tab</span> marital </span>
<span id="cb756-6"><a href="StataMod.html#cb756-6"></a></span>
<span id="cb756-7"><a href="StataMod.html#cb756-7"></a><span class="kw">scatter</span> happy rincome</span>
<span id="cb756-8"><a href="StataMod.html#cb756-8"></a></span>
<span id="cb756-9"><a href="StataMod.html#cb756-9"></a><span class="co">// 2.  Run your regression model. </span></span>
<span id="cb756-10"><a href="StataMod.html#cb756-10"></a></span>
<span id="cb756-11"><a href="StataMod.html#cb756-11"></a><span class="kw">regress</span> happy i.sex educ i.marital rincome</span>
<span id="cb756-12"><a href="StataMod.html#cb756-12"></a></span>
<span id="cb756-13"><a href="StataMod.html#cb756-13"></a><span class="co">// 3.  Examine the plausibility of the assumptions of normality and homoscedasticity. </span></span>
<span id="cb756-14"><a href="StataMod.html#cb756-14"></a></span>
<span id="cb756-15"><a href="StataMod.html#cb756-15"></a><span class="kw">hist</span> happy, <span class="fu">normal</span> </span>
<span id="cb756-16"><a href="StataMod.html#cb756-16"></a><span class="kw">rvfplot</span>,<span class="kw">yline</span>(0)</span>
<span id="cb756-17"><a href="StataMod.html#cb756-17"></a></span>
<span id="cb756-18"><a href="StataMod.html#cb756-18"></a><span class="co">// 4.  Add on to the regression equation by generating an interaction term between `sex` and `educ` and testing the interaction.</span></span>
<span id="cb756-19"><a href="StataMod.html#cb756-19"></a></span>
<span id="cb756-20"><a href="StataMod.html#cb756-20"></a><span class="kw">regress</span> happy i.sex##c.educ i.marital rincome</span></code></pre></div>
</div>
</details>
</div>
</div>
<div id="models-with-binary-outcomes-1" class="section level2">
<h2>Models with binary outcomes</h2>
<div class="alert alert-info">
<p><strong>GOAL: To learn how to use the <code>logit</code> command to model binary outcomes.</strong> In particular:</p>
<ol style="list-style-type: decimal">
<li>Run the model to obtain estimates on the log odds scale</li>
<li>Transform model coefficients into odds ratios</li>
</ol>
</div>
<div id="the-dataset-1" class="section level3">
<h3>The Dataset</h3>
<p>Using the <code>states.dta</code> data, we’re going to ask the question: does people per square mile (<code>density</code>), percent HS graduates taking SAT (<code>percent</code>), and per pupil expenditures for primary and secondary school (<code>expense</code>) affect the probability of having an SAT score greater than or equal to 1000 (<code>sat_binary</code>)?</p>
</div>
<div id="load-the-dataset" class="section level3">
<h3>Load the dataset</h3>
<div class="sourceCode" id="cb757"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb757-1"><a href="StataMod.html#cb757-1"></a><span class="co">// use the states data set</span></span>
<span id="cb757-2"><a href="StataMod.html#cb757-2"></a><span class="kw">use</span> dataSets/states.dta</span></code></pre></div>
</div>
<div id="recode-the-outcome-variable" class="section level3">
<h3>Recode the outcome variable</h3>
<p>Recode the composite SAT score (<code>csat</code>) into two categories: <strong>whether a region’s mean SAT score is greater than or equal to 1000, or less than 1000.</strong></p>
<div class="sourceCode" id="cb758"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb758-1"><a href="StataMod.html#cb758-1"></a><span class="kw">gen</span> sat_binary = .</span>
<span id="cb758-2"><a href="StataMod.html#cb758-2"></a><span class="kw">replace</span> sat_binary = 0 <span class="kw">if</span> csat &lt; 1000</span>
<span id="cb758-3"><a href="StataMod.html#cb758-3"></a><span class="kw">replace</span> sat_binary = 1 <span class="kw">if</span> csat &gt;= 1000</span></code></pre></div>
</div>
<div id="run-summary-statistics" class="section level3">
<h3>Run summary statistics</h3>
<div class="sourceCode" id="cb759"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb759-1"><a href="StataMod.html#cb759-1"></a><span class="kw">tab</span> sat_binary</span>
<span id="cb759-2"><a href="StataMod.html#cb759-2"></a><span class="kw">sum</span> density <span class="kw">percent</span> expense </span></code></pre></div>
</div>
<div id="run-the-logistic-model" class="section level3">
<h3>Run the logistic model</h3>
<p>Let’s predict the probability of having mean SAT score greater than or equal to 1000 based on <code>density</code>, <code>percent</code>, and <code>expense</code>.</p>
<p>Here’s the theoretical model:</p>
<div class="alert alert-secondary">
<p><span class="math display">\[
logit(p(SAT1000_i = 1)) = \beta_{0}1 + \beta_1density_i + \beta_2SATpercent_i + \beta_3expenditures_i 
\]</span></p>
</div>
<p>where <span class="math inline">\(logit(\cdot)\)</span> is the non-linear link function that relates a linear expression of the predictors to the expectation of the binary response:</p>
<div class="alert alert-secondary">
<p><span class="math display">\[
logit(p(SAT1000_i = 1)) = ln \left( \frac{p(SAT1000_i = 1)}{1-p(SAT1000_i = 1)} \right) = ln \left( \frac{p(SAT1000_i = 1)}{p(SAT1000_i = 0)} \right)
\]</span></p>
</div>
<p>And here’s how we use the <code>logit</code> command to fit this model in Stata:</p>
<div class="sourceCode" id="cb760"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb760-1"><a href="StataMod.html#cb760-1"></a><span class="co">// logit regression with estimates on the log odds scale </span></span>
<span id="cb760-2"><a href="StataMod.html#cb760-2"></a><span class="kw">logit</span> sat_binary density <span class="kw">percent</span> expense</span>
<span id="cb760-3"><a href="StataMod.html#cb760-3"></a></span>
<span id="cb760-4"><a href="StataMod.html#cb760-4"></a><span class="co">// logit regression with estimates on the odds ratio scale </span></span>
<span id="cb760-5"><a href="StataMod.html#cb760-5"></a><span class="kw">logit</span> sat_binary density <span class="kw">percent</span> expense, <span class="kw">or</span> </span></code></pre></div>
</div>
<div id="exercise-1-8" class="section level3">
<h3>Exercise 1</h3>
<p><strong>Regression with binary outcomes</strong></p>
<p>Use the data file, <code>gss.dta</code>. Examine how age of a respondent (<code>age</code>), highest year of school completed (<code>degree</code>), hours per day watching TV (<code>tvhours</code>), and total family income for last year (<code>income</code>) relate to whether someone uses internet (<code>usenet</code>).</p>
<ol style="list-style-type: decimal">
<li>Load the dataset.</li>
</ol>
<div class="sourceCode" id="cb761"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb761-1"><a href="StataMod.html#cb761-1"></a>##</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Run summary statistics, delete subjects who did not provide an answer to the <code>usenet</code> question.</li>
</ol>
<div class="sourceCode" id="cb762"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb762-1"><a href="StataMod.html#cb762-1"></a>##</span></code></pre></div>
<details>
<summary><span style="color:red"><b>Click for Exercise 1 Solution</b></span></summary>
<div class="alert alert-danger">
<div class="sourceCode" id="cb763"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb763-1"><a href="StataMod.html#cb763-1"></a><span class="co">// 1.  Load the dataset. </span></span>
<span id="cb763-2"><a href="StataMod.html#cb763-2"></a></span>
<span id="cb763-3"><a href="StataMod.html#cb763-3"></a><span class="kw">use</span> gss.dta, <span class="kw">clear</span> </span>
<span id="cb763-4"><a href="StataMod.html#cb763-4"></a></span>
<span id="cb763-5"><a href="StataMod.html#cb763-5"></a><span class="co">// 2.  Run summary statistics, delete subjects who did not provide an answer to the `usenet` question.</span></span>
<span id="cb763-6"><a href="StataMod.html#cb763-6"></a></span>
<span id="cb763-7"><a href="StataMod.html#cb763-7"></a><span class="kw">tab</span> usenet </span>
<span id="cb763-8"><a href="StataMod.html#cb763-8"></a><span class="kw">drop</span> <span class="kw">if</span> usenet == 9</span>
<span id="cb763-9"><a href="StataMod.html#cb763-9"></a><span class="kw">tab</span> degree </span>
<span id="cb763-10"><a href="StataMod.html#cb763-10"></a><span class="kw">sum</span> age tvhours income </span></code></pre></div>
</div>
</details>
</div>
</div>
<div id="exporting-saving-results" class="section level2">
<h2>Exporting &amp; saving results</h2>
<div class="alert alert-info">
<p><strong>GOAL: To learn how to store and export Stata models.</strong> In particular:</p>
<ol style="list-style-type: decimal">
<li>How to store results from models</li>
<li>How to compare models</li>
<li>How to export Stata model output to Excel</li>
</ol>
</div>
<div id="storing-results" class="section level3">
<h3>Storing results</h3>
<p>Stata offers several user-friendly options for storing and viewing regression output from multiple models. First, download the necessary packages:</p>
<div class="sourceCode" id="cb764"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb764-1"><a href="StataMod.html#cb764-1"></a><span class="co">// install outreg2 package</span></span>
<span id="cb764-2"><a href="StataMod.html#cb764-2"></a><span class="kw">findit</span> outreg2</span></code></pre></div>
<p>Then store the results of some regression models using the <code>estimates</code> command and <code>store</code> option:</p>
<div class="sourceCode" id="cb765"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb765-1"><a href="StataMod.html#cb765-1"></a><span class="co">// fit two regression models and store the results</span></span>
<span id="cb765-2"><a href="StataMod.html#cb765-2"></a><span class="kw">regress</span> csat expense income <span class="kw">percent</span> high</span>
<span id="cb765-3"><a href="StataMod.html#cb765-3"></a><span class="kw">estimates</span> <span class="kw">store</span> Model1</span>
<span id="cb765-4"><a href="StataMod.html#cb765-4"></a>  </span>
<span id="cb765-5"><a href="StataMod.html#cb765-5"></a><span class="kw">regress</span> csat expense income <span class="kw">percent</span> high i.region</span>
<span id="cb765-6"><a href="StataMod.html#cb765-6"></a><span class="kw">estimates</span> <span class="kw">store</span> Model2</span></code></pre></div>
<p>The stored models can be recalled by name using the <code>estimates</code> command and <code>replay</code> option:</p>
<div class="sourceCode" id="cb766"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb766-1"><a href="StataMod.html#cb766-1"></a><span class="co">// display Model1</span></span>
<span id="cb766-2"><a href="StataMod.html#cb766-2"></a><span class="kw">estimates</span> <span class="fu">replay</span> Model1</span></code></pre></div>
</div>
<div id="comparing-models-1" class="section level3">
<h3>Comparing models</h3>
<p>The stored models can be compared by name using the <code>estimates</code> command and <code>table</code> option. For a more formal comparison, the <code>lrtest</code> command can be used to perform a likelihhod ratio test:</p>
<div class="sourceCode" id="cb767"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb767-1"><a href="StataMod.html#cb767-1"></a><span class="co">// compare Model1 and Model2 coefficients</span></span>
<span id="cb767-2"><a href="StataMod.html#cb767-2"></a><span class="kw">estimates</span> <span class="kw">table</span> Model1 Model2</span>
<span id="cb767-3"><a href="StataMod.html#cb767-3"></a></span>
<span id="cb767-4"><a href="StataMod.html#cb767-4"></a><span class="co">// compare Model1 and Model2 fit </span></span>
<span id="cb767-5"><a href="StataMod.html#cb767-5"></a><span class="kw">lrtest</span> Model1 Model2 </span></code></pre></div>
</div>
<div id="exporting-to-excel" class="section level3">
<h3>Exporting to Excel</h3>
<p>To avoid human error when transferring coefficients into tables, Excel can be used to format publication-ready tables:</p>
<div class="sourceCode" id="cb768"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb768-1"><a href="StataMod.html#cb768-1"></a>outreg2 [Model1 Model2] <span class="kw">using</span> csatprediction.xls, <span class="kw">replace</span></span></code></pre></div>
</div>
<div id="exercise-2-6" class="section level3">
<h3>Exercise 2</h3>
<p><strong>Exporting &amp; saving results</strong></p>
<ol style="list-style-type: decimal">
<li>Fit the logistic model and save it as <code>Model1</code>.</li>
</ol>
<div class="sourceCode" id="cb769"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb769-1"><a href="StataMod.html#cb769-1"></a>##</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Add another predictor (<code>hrs1</code>) in the model and save the new model as <code>Model2</code> and compare between <code>Model1</code> and <code>Model2</code>.</li>
</ol>
<div class="sourceCode" id="cb770"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb770-1"><a href="StataMod.html#cb770-1"></a>##</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Save the output of the better fitted model to a word document.</li>
</ol>
<div class="sourceCode" id="cb771"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb771-1"><a href="StataMod.html#cb771-1"></a>##</span></code></pre></div>
<details>
<summary><span style="color:red"><b>Click for Exercise 2 Solution</b></span></summary>
<div class="alert alert-danger">
<div class="sourceCode" id="cb772"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb772-1"><a href="StataMod.html#cb772-1"></a><span class="co">// 1.  Fit the logistic model and save it as `Model1`.  </span></span>
<span id="cb772-2"><a href="StataMod.html#cb772-2"></a></span>
<span id="cb772-3"><a href="StataMod.html#cb772-3"></a><span class="kw">logit</span> usenet age i.degree tvhours income </span>
<span id="cb772-4"><a href="StataMod.html#cb772-4"></a><span class="kw">est</span> <span class="kw">store</span> Model1</span>
<span id="cb772-5"><a href="StataMod.html#cb772-5"></a></span>
<span id="cb772-6"><a href="StataMod.html#cb772-6"></a><span class="co">// 2.  Add another predictor (`hrs1`) in the model and save the new model as `Model2` and compare between `Model1` and `Model2`. </span></span>
<span id="cb772-7"><a href="StataMod.html#cb772-7"></a></span>
<span id="cb772-8"><a href="StataMod.html#cb772-8"></a><span class="kw">logit</span> usenet age i.degree tvhours income hrs1</span>
<span id="cb772-9"><a href="StataMod.html#cb772-9"></a><span class="kw">est</span> <span class="kw">store</span> Model2 </span>
<span id="cb772-10"><a href="StataMod.html#cb772-10"></a></span>
<span id="cb772-11"><a href="StataMod.html#cb772-11"></a><span class="kw">lrtest</span> Model1 Model2</span>
<span id="cb772-12"><a href="StataMod.html#cb772-12"></a></span>
<span id="cb772-13"><a href="StataMod.html#cb772-13"></a><span class="co">// 3.  Save the better fitted model output to a word document. </span></span>
<span id="cb772-14"><a href="StataMod.html#cb772-14"></a></span>
<span id="cb772-15"><a href="StataMod.html#cb772-15"></a><span class="kw">logit</span> usenet age i.degree tvhours income hrs1</span>
<span id="cb772-16"><a href="StataMod.html#cb772-16"></a>outreg2 <span class="kw">using</span> Mymodel.doc</span></code></pre></div>
</div>
</details>
</div>
</div>
<div id="obtaining-quantities-of-interest" class="section level2">
<h2>Obtaining quantities of interest</h2>
<div class="alert alert-info">
<p><strong>GOAL: To obtain easy to interpret output from regression models.</strong> In particular:</p>
<ol style="list-style-type: decimal">
<li>Margins of responses (a.k.a. predictive margins)</li>
<li>Margins of changes of responses (a.k.a. marginal effects)</li>
<li>Graphs of margins</li>
</ol>
</div>
<p>The default summary model output that Stata produces is useful and intuitive for relatively simple models, especially if the outcome is continuous. For more complex models, especially non-linear models or those with interactions, the default output only reports a small subset of information from the model and/or presents results on an unintuitive scale. For such models, it is often easier to interpret <strong>margins</strong> — specifically, <em>margins of responses</em> or <em>margins of changes in responses</em>. Margins are statistics calculated from predictions of a previously fit model at fixed values of some covariates and averaging over the remaining covariates. Margins answers the question, <strong>“What does my model have to say about such-and-such a group or such-and-such a person?”</strong>. It answers this question:</p>
<ol style="list-style-type: decimal">
<li>Either conditionally –— based on fixed values of covariates (e.g., the mean) -—- or averaged over the observations in the data.</li>
<li>In terms of the response given covariate levels (<strong>margins of responses</strong>), or any other response you can calculate as a function of your estimated parameters -—- linear responses, probabilities, hazards, survival times, odds ratios, risk differences. (a.k.a. <em>predictive margins</em>, or <em>adjusted predictions</em>, or <em>estimated marginal means</em>, or <em>least-squares means</em>).</li>
<li>In terms of the <em>change</em> in the response for a <em>change</em> in covariate levels (<strong>margins of changes in responses</strong>). (a.k.a. <em>marginal effects</em> or <em>partial effects</em>).</li>
<li>Providing standard errors, test statistics, and confidence intervals and those statistics can take the covariates as given or adjust for sampling.</li>
</ol>
<p>To calculate such effects in Stata, we need a flexible way of obtaining quantities of interest from the model. This is generally done using a <a href="https://www.stata.com/manuals13/u20.pdf">post-estimation tool</a>. The main post-estimation tool Stata has in its arsenal is the <code>margins</code> command. This is a very flexible tool for producing a variety of quantities of interest from almost all model types that Stata supports. In particular, <code>margins</code> can calculate:</p>
<ol style="list-style-type: decimal">
<li>Different types of <em>margins of responses</em>:
<ul>
<li><strong>APM: Average Predictive Margins</strong> (average of the responses among actual people in the data)</li>
<li><strong>PMM: Predictive Margins at the Means</strong> (expected response for a person with average characteristics)</li>
<li><strong>PMR: Predictive Margins at Representative values</strong> (expected response across a range of covariate values)</li>
</ul></li>
<li>Difference types of <em>margins of changes in responses</em>:
<ul>
<li><strong>AME: Average Marginal Effects</strong> (average of the changes in responses among actual people in the data)</li>
<li><strong>MEM: Marginal Effects at the Means</strong> (expected change in response for a person with average characteristics)</li>
<li><strong>MER: Marginal Effects at Representative values</strong> (expected change in response across a range of covariate values)</li>
</ul></li>
</ol>
<p>The <code>margins</code> command can only be used <em>after</em> you’ve run a regression and acts on the results of the most recent regression command. The <code>marginsplot</code> command can be used to graph any of these margins or comparisons of margins and acts on the results of the most recent <code>margins</code> command.</p>
</div>
<div id="margins-of-responses" class="section level2">
<h2>Margins of responses</h2>
<div class="alert alert-info">
<p><strong>GOAL: To learn how to produce margins of responses.</strong> In particular:</p>
<ol style="list-style-type: decimal">
<li>APM: Average Predictive Margins<br />
</li>
<li>PMM: Predictive Margins at the Means</li>
<li>PMR: Predictive Margins at Representative values</li>
<li>Graph margins of responses</li>
</ol>
</div>
<div id="the-dataset-2" class="section level3">
<h3>The dataset</h3>
<p>The case study examples use the <code>nhanesII</code> dataset (Second National Health and Nutrition Examination Survey),
which was conducted in the mid to late 1970s. More on the study can be found at <a href="https://wwwn.cdc.gov/nchs/nhanes/nhanes2/" class="uri">https://wwwn.cdc.gov/nchs/nhanes/nhanes2/</a>. Let’s load the data:</p>
<div class="sourceCode" id="cb773"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb773-1"><a href="StataMod.html#cb773-1"></a><span class="kw">use</span> dataSets/nhanesII.dta</span></code></pre></div>
</div>
<div id="fit-a-model" class="section level3">
<h3>Fit a model</h3>
<p>We will examine a continuous measure of systolic blood pressure (<code>bpsystol</code>) as a function of a respondent’s age (<code>age</code>), whether they have diabetes (<code>diabetes</code>), and what geographical region they come from (<code>region</code>), using OLS regression.</p>
<div class="sourceCode" id="cb774"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb774-1"><a href="StataMod.html#cb774-1"></a><span class="kw">regress</span> bpsystol age i.diabetes i.region</span></code></pre></div>
</div>
<div id="apm-average-predictive-margins" class="section level3">
<h3>APM: Average Predictive Margins</h3>
<p>If you just type <code>margins</code> by itself, Stata will calculate the predicted value of the model outcome (<code>bpsystol</code>) for each observation in the data, then report the mean value of those predictions.</p>
<div class="sourceCode" id="cb775"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb775-1"><a href="StataMod.html#cb775-1"></a>margins</span></code></pre></div>
<p>If <code>margins</code> is followed by a categorical variable, for example, <code>region</code>, Stata first identifies all the levels of the categorical variable. Then, it calculates what the mean predicted value of the model outcome (<code>bpsystol</code>) would be if all observations had that value for <code>region</code>. All other variables are left unchanged.</p>
<div class="sourceCode" id="cb776"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb776-1"><a href="StataMod.html#cb776-1"></a><span class="co">// margins for dummy variable </span></span>
<span id="cb776-2"><a href="StataMod.html#cb776-2"></a>margins diabetes</span>
<span id="cb776-3"><a href="StataMod.html#cb776-3"></a></span>
<span id="cb776-4"><a href="StataMod.html#cb776-4"></a><span class="co">// margins for multi-level categorical variable </span></span>
<span id="cb776-5"><a href="StataMod.html#cb776-5"></a>margins region</span></code></pre></div>
</div>
<div id="pmm-predictive-margins-at-the-means" class="section level3">
<h3>PMM: Predictive Margins at the Means</h3>
<p>By default, <code>margins</code> reports the average of the predictions for each person (i.e., observation) in the data. This is the average response among the actual people in the data. But we can also get <code>margins</code> to report the prediction at the average of the covariates by using the <code>atmeans</code> option. This represents the expected response of a person with average characteristics.</p>
<div class="sourceCode" id="cb777"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb777-1"><a href="StataMod.html#cb777-1"></a><span class="co">// margins for dummy variable </span></span>
<span id="cb777-2"><a href="StataMod.html#cb777-2"></a>margins diabetes, atmeans</span></code></pre></div>
</div>
<div id="pmr-predictive-margins-at-representative-values" class="section level3">
<h3>PMR: Predictive Margins at Representative values</h3>
<p>For continuous variables, <code>margins</code> cannot look at all possible values, but we can specify which values we want to examine with the <code>at</code> option:</p>
<div class="sourceCode" id="cb778"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb778-1"><a href="StataMod.html#cb778-1"></a>margins, <span class="fu">at</span>(age = (50 80))</span></code></pre></div>
<p>The previous step calculates the mean predicted value of the model outcome (<code>bpsystol</code>) with <code>age</code> set to 50, and then again with <code>age</code> set to 80. We can also add more values by listing the numbers we want in a <em>numlist</em>:</p>
<div class="sourceCode" id="cb779"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb779-1"><a href="StataMod.html#cb779-1"></a><span class="co">// predicted values for ages 50 to 80 in 5 year increments</span></span>
<span id="cb779-2"><a href="StataMod.html#cb779-2"></a>margins, <span class="fu">at</span>(age=(50(5)80))</span></code></pre></div>
</div>
<div id="graph-margins-of-responses" class="section level3">
<h3>Graph margins of responses</h3>
<p>The previous step calculates the mean predicted value of <code>bpsystol</code> with age set to 50, 55, 60, 65, 70, 75, and 80. We can now use <code>marginsplot</code> to graph the results.</p>
<div class="sourceCode" id="cb780"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb780-1"><a href="StataMod.html#cb780-1"></a>marginsplot</span></code></pre></div>
</div>
<div id="exercise-3-5" class="section level3">
<h3>Exercise 3</h3>
<p><strong>Margins of responses</strong></p>
<p>Open the datafile <code>gss.dta</code></p>
<ol style="list-style-type: decimal">
<li>Fit an OLS regression model to predict general happiness (<code>happy</code>) based on respondent’s sex (<code>sex</code>), marital status (<code>marital</code>), highest year of school completed (<code>educ</code>), and respondent’s income for last year (<code>rincome</code>). Obtain average predictive margins for <code>happy</code>.</li>
</ol>
<div class="sourceCode" id="cb781"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb781-1"><a href="StataMod.html#cb781-1"></a>##</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Obtain predictive margins of <code>sex</code> and <code>marital</code>.</li>
</ol>
<div class="sourceCode" id="cb782"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb782-1"><a href="StataMod.html#cb782-1"></a>##</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Obtain predictive margins of <code>rincome</code> from 10000 to 30000, with an interval of 5000.</li>
</ol>
<div class="sourceCode" id="cb783"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb783-1"><a href="StataMod.html#cb783-1"></a>##</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Create a <code>marginsplot</code> and interpret the results.</li>
</ol>
<div class="sourceCode" id="cb784"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb784-1"><a href="StataMod.html#cb784-1"></a>## </span></code></pre></div>
<details>
<summary><span style="color:red"><b>Click for Exercise 3 Solution</b></span></summary>
<div class="alert alert-danger">
<div class="sourceCode" id="cb785"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb785-1"><a href="StataMod.html#cb785-1"></a><span class="co">// 1. Fit an OLS regression model to predict general happiness (`happy`) based on respondent&#39;s sex (`sex`), marital status (`marital`), highest year of school completed (`educ`), and respondent&#39;s income for last year (`rincome`). Obtain average predictive margins for `happy`.</span></span>
<span id="cb785-2"><a href="StataMod.html#cb785-2"></a></span>
<span id="cb785-3"><a href="StataMod.html#cb785-3"></a><span class="kw">regress</span> happy i.sex educ i.marital rincome</span>
<span id="cb785-4"><a href="StataMod.html#cb785-4"></a>margins </span>
<span id="cb785-5"><a href="StataMod.html#cb785-5"></a></span>
<span id="cb785-6"><a href="StataMod.html#cb785-6"></a><span class="co">// 2. Obtain predictive margins of `sex` and `marital`. </span></span>
<span id="cb785-7"><a href="StataMod.html#cb785-7"></a></span>
<span id="cb785-8"><a href="StataMod.html#cb785-8"></a>margins, sex </span>
<span id="cb785-9"><a href="StataMod.html#cb785-9"></a>margins, marital</span>
<span id="cb785-10"><a href="StataMod.html#cb785-10"></a></span>
<span id="cb785-11"><a href="StataMod.html#cb785-11"></a><span class="co">// 3. Obtain predictive margins of `rincome` from 10000 to 30000, with an interval of 5000. </span></span>
<span id="cb785-12"><a href="StataMod.html#cb785-12"></a></span>
<span id="cb785-13"><a href="StataMod.html#cb785-13"></a>margins, <span class="fu">at</span>(rincome=(10000(5000)30000))</span>
<span id="cb785-14"><a href="StataMod.html#cb785-14"></a></span>
<span id="cb785-15"><a href="StataMod.html#cb785-15"></a><span class="co">// 4. Create a `marginsplot` and interpret the results. </span></span>
<span id="cb785-16"><a href="StataMod.html#cb785-16"></a></span>
<span id="cb785-17"><a href="StataMod.html#cb785-17"></a>marginsplot </span></code></pre></div>
</div>
</details>
</div>
</div>
<div id="margins-of-changes-in-responses" class="section level2">
<h2>Margins of changes in responses</h2>
<div class="alert alert-info">
<p><strong>GOAL: To learn how to produce margins of changes in responses.</strong> In particular:</p>
<ol style="list-style-type: decimal">
<li>AME: Average Marginal Effects</li>
<li>MEM: Marginal Effects at the Means</li>
<li>MER: Marginal Effects at Representative values</li>
<li>Graph margins of changes in responses</li>
</ol>
</div>
<div id="the-dataset-3" class="section level3">
<h3>The dataset</h3>
<p>We will be using the same dataset as the previous example: the Second National Health and Nutrition Examination Survey (NHANES II). Let’s load the data:</p>
<div class="sourceCode" id="cb786"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb786-1"><a href="StataMod.html#cb786-1"></a><span class="kw">use</span> dataSets/nhanesII.dta</span></code></pre></div>
</div>
<div id="fit-a-model-1" class="section level3">
<h3>Fit a model</h3>
<p>We will predict the probability of someone having diabetes (<code>diabetes</code>), as a function of race (<code>black</code>), sex (<code>female</code>), and age (<code>age</code>), using logistic regression.</p>
<div class="sourceCode" id="cb787"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb787-1"><a href="StataMod.html#cb787-1"></a><span class="kw">logit</span> diabetes <span class="bn">black</span> female age, <span class="kw">nolog</span> </span></code></pre></div>
</div>
<div id="ame-average-marginal-effects" class="section level3">
<h3>AME: Average Marginal Effects</h3>
<p>We can first obtain the Average Predictive Margins of race (<code>black</code>) and sex (<code>female</code>). Then, we can use the <code>dydx</code> command to estimate changes in the response when the levels of race and sex change. Since, by default, these changes are averaged over each person in the dataset, we obtain Average Marginal Effects. As the current model is logistic, margins automatically back-transforms the APMs and AMEs from the estimation scale (i.e., the log odds scale) to the response scale (i.e., the probability scale).</p>
<div class="sourceCode" id="cb788"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb788-1"><a href="StataMod.html#cb788-1"></a><span class="co">// obtain Average Predictive Margins </span></span>
<span id="cb788-2"><a href="StataMod.html#cb788-2"></a>margins <span class="bn">black</span> female </span>
<span id="cb788-3"><a href="StataMod.html#cb788-3"></a></span>
<span id="cb788-4"><a href="StataMod.html#cb788-4"></a><span class="co">// calculate the average of all the marginal effects </span></span>
<span id="cb788-5"><a href="StataMod.html#cb788-5"></a>margins, <span class="kw">dydx</span>(<span class="bn">black</span> female)</span></code></pre></div>
</div>
<div id="mem-marginal-effects-at-the-mean" class="section level3">
<h3>MEM: Marginal Effects at the Mean</h3>
<p>By default, <code>margins</code> with the <code>dydx</code> command reports the average of the changes in the probability of the response among actual people in the data. But we can also get margins to report the expected change in the probability of the response for a person with average characteristics by using the <code>atmeans</code> option.</p>
<div class="sourceCode" id="cb789"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb789-1"><a href="StataMod.html#cb789-1"></a><span class="co">// obtain Predictive Margins at the Means</span></span>
<span id="cb789-2"><a href="StataMod.html#cb789-2"></a>margins <span class="bn">black</span> female, atmeans</span>
<span id="cb789-3"><a href="StataMod.html#cb789-3"></a></span>
<span id="cb789-4"><a href="StataMod.html#cb789-4"></a><span class="co">// calculate marginal effects with all other covariates fixed at their sample means </span></span>
<span id="cb789-5"><a href="StataMod.html#cb789-5"></a>margins, <span class="kw">dydx</span>(<span class="bn">black</span> female) atmeans</span></code></pre></div>
</div>
<div id="mer-marginal-effects-at-representative-values" class="section level3">
<h3>MER: Marginal Effects at Representative values</h3>
<p>For continuous variables, <code>margins</code> needs us to specify which values we want to examine using the <code>at</code> option. We can calculate the change in the probability of the model outcome (<code>diabetes</code>) when levels of race (<code>black</code>) and sex (<code>female</code>) change, across a range of values for <code>age</code> by supplying a list of numbers to a <em>numlist</em>:</p>
<div class="sourceCode" id="cb790"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb790-1"><a href="StataMod.html#cb790-1"></a><span class="co">// obtain Predictive Margins at Representative values</span></span>
<span id="cb790-2"><a href="StataMod.html#cb790-2"></a><span class="co">// choose range of values for one or more variables</span></span>
<span id="cb790-3"><a href="StataMod.html#cb790-3"></a><span class="co">// note: the `vsquish` option omits vertical white space between results</span></span>
<span id="cb790-4"><a href="StataMod.html#cb790-4"></a>margins <span class="bn">black</span>, <span class="fu">at</span>(age=(20 30 40 50 60 70)) vsquish </span>
<span id="cb790-5"><a href="StataMod.html#cb790-5"></a></span>
<span id="cb790-6"><a href="StataMod.html#cb790-6"></a><span class="co">// calculate marginal effects across that range </span></span>
<span id="cb790-7"><a href="StataMod.html#cb790-7"></a>margins, <span class="kw">dydx</span>(<span class="bn">black</span> female) <span class="fu">at</span>(age=(20 30 40 50 60 70)) vsquish </span></code></pre></div>
</div>
<div id="graph-margins-of-changes-in-responses" class="section level3">
<h3>Graph margins of changes in responses</h3>
<p>The previous step calculates the average change in the predicted probability of <code>diabetes</code>, when levels of race (<code>black</code>) and sex (<code>female</code>) change, with age set to 20, 30, 40, 50, 60, and 70. We can now use <code>marginsplot</code> to graph the results.</p>
<div class="sourceCode" id="cb791"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb791-1"><a href="StataMod.html#cb791-1"></a>marginsplot</span></code></pre></div>
</div>
<div id="exercise-4-2" class="section level3">
<h3>Exercise 4</h3>
<p><strong>Margins of changes in responses</strong></p>
<p>Open the datafile <code>gss.dta</code></p>
<ol style="list-style-type: decimal">
<li>Fit a logistic model to examine how whether someone uses internet (<code>usenet</code>) is related to age of the respondent (<code>age</code>), highest year of school completed (<code>degree</code>), hours per day watching TV (<code>tvhours</code>), and total family income for last year (<code>income</code>). Obtain Average Predictive Margins and Average Marginal Effects for <code>degree</code>.</li>
</ol>
<div class="sourceCode" id="cb792"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb792-1"><a href="StataMod.html#cb792-1"></a>## </span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Obtain Predictive Margins of <code>degree</code> at Representative values of <code>tvhours</code> from 0 to 10 hours, on a 1 hour interval. Examine how the marginal effect of <code>degree</code> differs across the range of <code>tvhours</code> (i.e., obtain Marginal Effects at Representative values).</li>
</ol>
<div class="sourceCode" id="cb793"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb793-1"><a href="StataMod.html#cb793-1"></a>##</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Create a <code>marginsplot</code> for the marginal effects from #2.</li>
</ol>
<div class="sourceCode" id="cb794"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb794-1"><a href="StataMod.html#cb794-1"></a>##</span></code></pre></div>
<details>
<summary><span style="color:red"><b>Click for Exercise 4 Solution</b></span></summary>
<div class="alert alert-danger">
<div class="sourceCode" id="cb795"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb795-1"><a href="StataMod.html#cb795-1"></a><span class="co">// 1. Fit a logistic model to examine how whether someone uses internet (`usenet`) is related to age of the respondent (`age`), highest year of school completed (`degree`), hours per day watching TV (`tvhours`), and total family income for last year (`income`). Obtain Average Predictive Margins and Average Marginal Effects for `degree`.</span></span>
<span id="cb795-2"><a href="StataMod.html#cb795-2"></a></span>
<span id="cb795-3"><a href="StataMod.html#cb795-3"></a><span class="kw">logit</span> usenet age i.degree tvhours income </span>
<span id="cb795-4"><a href="StataMod.html#cb795-4"></a></span>
<span id="cb795-5"><a href="StataMod.html#cb795-5"></a>margins degree</span>
<span id="cb795-6"><a href="StataMod.html#cb795-6"></a>margins, <span class="kw">dydx</span>(degree)</span>
<span id="cb795-7"><a href="StataMod.html#cb795-7"></a></span>
<span id="cb795-8"><a href="StataMod.html#cb795-8"></a><span class="co">// 2. Obtain Predictive Margins of `degree` at Representative values of `tvhours` from 0 to 10 hours, on a 1 hour interval. Examine how the marginal effect of `degree` differs across the range of `tvhours` (i.e., obtain Marginal Effects at Representative values). </span></span>
<span id="cb795-9"><a href="StataMod.html#cb795-9"></a></span>
<span id="cb795-10"><a href="StataMod.html#cb795-10"></a>margins degree, <span class="fu">at</span>(tvhours=(0 1 2 3 4 5 6 7 8 9 10) vsquish </span>
<span id="cb795-11"><a href="StataMod.html#cb795-11"></a>margins, <span class="kw">dydx</span>(degree) <span class="fu">at</span>(tvhours=(0 1 2 3 4 5 6 7 8 9 10)) vsquish </span>
<span id="cb795-12"><a href="StataMod.html#cb795-12"></a></span>
<span id="cb795-13"><a href="StataMod.html#cb795-13"></a><span class="co">// 3. Create a `marginsplot` for the marginal effects from #2. </span></span>
<span id="cb795-14"><a href="StataMod.html#cb795-14"></a>marginsplot</span></code></pre></div>
</div>
</details>
</div>
</div>
<div id="wrap-up-9" class="section level2">
<h2>Wrap-up</h2>
<div id="feedback-9" class="section level3">
<h3>Feedback</h3>
<p>These workshops are a work in progress, please provide any feedback to: <a href="mailto:help@iq.harvard.edu" class="email">help@iq.harvard.edu</a></p>
</div>
<div id="resources-12" class="section level3">
<h3>Resources</h3>
<ul>
<li>IQSS
<ul>
<li>Workshops: <a href="https://dss.iq.harvard.edu/workshop-materials" class="uri">https://dss.iq.harvard.edu/workshop-materials</a></li>
<li>Data Science Services: <a href="https://dss.iq.harvard.edu/" class="uri">https://dss.iq.harvard.edu/</a></li>
<li>Research Computing Environment: <a href="https://iqss.github.io/dss-rce/" class="uri">https://iqss.github.io/dss-rce/</a></li>
</ul></li>
<li>HBS
<ul>
<li>Research Computing Services workshops: <a href="https://training.rcs.hbs.org/workshops" class="uri">https://training.rcs.hbs.org/workshops</a></li>
<li>Other HBS RCS resources: <a href="https://training.rcs.hbs.org/workshop-materials" class="uri">https://training.rcs.hbs.org/workshop-materials</a></li>
<li>RCS consulting email: <a href="mailto:research@hbs.edu" class="uri">mailto:research@hbs.edu</a></li>
</ul></li>
<li>Stata
<ul>
<li>UCLA website: <a href="http://www.ats.ucla.edu/stat/Stata/" class="uri">http://www.ats.ucla.edu/stat/Stata/</a></li>
<li>Stata website: <a href="http://www.stata.com/help.cgi?contents" class="uri">http://www.stata.com/help.cgi?contents</a></li>
<li>Email list: <a href="http://www.stata.com/statalist/" class="uri">http://www.stata.com/statalist/</a></li>
</ul></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="StataDatMan.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="StataGraph.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/IQSS/dss-workshops/edit/master/Stata/StataMod/StataMod.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Data_Science_Workshops.pdf", "Data_Science_Workshops.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
