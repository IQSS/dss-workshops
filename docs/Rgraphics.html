<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>R Graphics | Data Science Workshops</title>
  <meta name="description" content="R Graphics | Data Science Workshops" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="R Graphics | Data Science Workshops" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="R Graphics | Data Science Workshops" />
  <meta name="github-repo" content="IQSS/dss-workshops" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R Graphics | Data Science Workshops" />
  
  <meta name="twitter:description" content="R Graphics | Data Science Workshops" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="Rmodels.html"/>
<link rel="next" href="RDataWrangling.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science Workshop Materials</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Table of Contents</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
</ul></li>
<li class="part"><span><b>I General</b></span></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html"><i class="fa fa-check"></i>Data Science Tools</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#tools-for-working-with-data"><i class="fa fa-check"></i>Tools for working with data</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#the-puzzle-pieces"><i class="fa fa-check"></i>The puzzle pieces</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#data-analysis-building-blocks"><i class="fa fa-check"></i>Data analysis building blocks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#examples"><i class="fa fa-check"></i>Examples</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#old-school-example"><i class="fa fa-check"></i>Old-school example</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#something-old-something-new"><i class="fa fa-check"></i>Something old &amp; something new</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#a-modern-version"><i class="fa fa-check"></i>A modern version</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#data-storage-retrieval"><i class="fa fa-check"></i>Data storage &amp; retrieval</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#text-files"><i class="fa fa-check"></i>Text files</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#binary-files"><i class="fa fa-check"></i>Binary files</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#databases"><i class="fa fa-check"></i>Databases</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#distributed-file-storage"><i class="fa fa-check"></i>Distributed file storage</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#programming-languages-statistics-packages"><i class="fa fa-check"></i>Programming languages &amp; statistics packages</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#programming-language-features"><i class="fa fa-check"></i>Programming language features</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#program-comparison"><i class="fa fa-check"></i>Program comparison</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#examples-read-data-from-a-file-summarize"><i class="fa fa-check"></i>Examples: Read data from a file &amp; summarize</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#examples-fit-a-linear-regression"><i class="fa fa-check"></i>Examples: Fit a linear regression</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#examples-extract-links-for-.html-file"><i class="fa fa-check"></i>Examples: Extract links for .html file</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#creating-reports"><i class="fa fa-check"></i>Creating reports</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#markup-languages"><i class="fa fa-check"></i>Markup languages</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#word-processors"><i class="fa fa-check"></i>Word processors</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#text-editors-integrated-development-environments"><i class="fa fa-check"></i>Text editors &amp; Integrated Development Environments</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#language-specific-editors-ides"><i class="fa fa-check"></i>Language specific editors &amp; IDEs</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#general-purpose-editors-ides"><i class="fa fa-check"></i>General purpose editors &amp; IDEs</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#literate-programming-notebooks"><i class="fa fa-check"></i>Literate programming &amp; notebooks</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#literate-programming"><i class="fa fa-check"></i>Literate programming</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#notebooks"><i class="fa fa-check"></i>Notebooks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#big-data-annoying-data-computationally-intensive-methods"><i class="fa fa-check"></i>Big data, annoying data, &amp; computationally intensive methods</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#computing-clusters-at-harvard"><i class="fa fa-check"></i>Computing clusters at Harvard</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#wrap-up"><i class="fa fa-check"></i>Wrap up</a>
<ul>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#feedback"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="DataScienceTools.html"><a href="DataScienceTools.html#resources"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II R</b></span></li>
<li class="chapter" data-level="" data-path="Rinstall.html"><a href="Rinstall.html"><i class="fa fa-check"></i>R Installation</a>
<ul>
<li class="chapter" data-level="" data-path="Rinstall.html"><a href="Rinstall.html#troubleshooting-session"><i class="fa fa-check"></i>Troubleshooting session</a></li>
<li class="chapter" data-level="" data-path="Rinstall.html"><a href="Rinstall.html#materials"><i class="fa fa-check"></i>Materials</a></li>
<li class="chapter" data-level="" data-path="Rinstall.html"><a href="Rinstall.html#software"><i class="fa fa-check"></i>Software</a></li>
<li><a href="Rinstall.html#installing-the-tidyverse">Installing the <code>tidyverse</code></a>
<ul>
<li><a href="Rinstall.html#troubleshooting-tidyverse-installation">Troubleshooting <code>tidyverse</code> installation</a></li>
</ul></li>
<li><a href="Rinstall.html#installing-rmarkdown-optional">Installing <code>rmarkdown</code> (optional)</a></li>
<li class="chapter" data-level="" data-path="Rinstall.html"><a href="Rinstall.html#resources-1"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html"><i class="fa fa-check"></i>R Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#setup"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#software-and-materials"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#class-structure"><i class="fa fa-check"></i>Class Structure</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#goals"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#r-basics"><i class="fa fa-check"></i>R basics</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#what-is-r"><i class="fa fa-check"></i>What is R?</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#why-use-r"><i class="fa fa-check"></i>Why use R?</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#how-does-r-work"><i class="fa fa-check"></i>How does R work?</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#interfaces"><i class="fa fa-check"></i>Interfaces</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#launch-a-session"><i class="fa fa-check"></i>Launch a session</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#exercise-0"><i class="fa fa-check"></i>Exercise 0</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#syntax-rules"><i class="fa fa-check"></i>Syntax rules</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#function-calls"><i class="fa fa-check"></i>Function calls</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#assignment"><i class="fa fa-check"></i>Assignment</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#asking-for-help"><i class="fa fa-check"></i>Asking for help</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#reading-data"><i class="fa fa-check"></i>Reading data</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#installing-using-packages"><i class="fa fa-check"></i>Installing &amp; using packages</a></li>
<li><a href="Rintro.html#the-tidyverse">The <code>tidyverse</code></a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#readers-for-common-file-types"><i class="fa fa-check"></i>Readers for common file types</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#baby-names-data"><i class="fa fa-check"></i>Baby names data</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#exercise-1"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#manipulating-data"><i class="fa fa-check"></i>Manipulating data</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#filter-select-arrange"><i class="fa fa-check"></i>Filter, select, &amp; arrange</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#logical-relational-operators"><i class="fa fa-check"></i>Logical &amp; relational operators</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#exercise-2.1"><i class="fa fa-check"></i>Exercise 2.1</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#pipe-operator"><i class="fa fa-check"></i>Pipe operator</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#exercise-2.2"><i class="fa fa-check"></i>Exercise 2.2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#plotting-data"><i class="fa fa-check"></i>Plotting data</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#exercise-3"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#creating-variables"><i class="fa fa-check"></i>Creating variables</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#create-or-modify-columns"><i class="fa fa-check"></i>Create or modify columns</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#operating-by-group"><i class="fa fa-check"></i>Operating by group</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#recoding-variables"><i class="fa fa-check"></i>Recoding variables</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#exercise-4"><i class="fa fa-check"></i>Exercise 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#aggregating-variables"><i class="fa fa-check"></i>Aggregating variables</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#exercise-5"><i class="fa fa-check"></i>Exercise 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#saving-work"><i class="fa fa-check"></i>Saving work</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#saving-individual-datasets"><i class="fa fa-check"></i>Saving individual datasets</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#saving-multiple-datasets"><i class="fa fa-check"></i>Saving multiple datasets</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#wrap-up-1"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#feedback-1"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="Rintro.html"><a href="Rintro.html#resources-2"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html"><i class="fa fa-check"></i>R Regression Models</a>
<ul>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#setup-1"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#software-and-materials-1"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#class-structure-1"><i class="fa fa-check"></i>Class Structure</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#prerequisites-1"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#goals-1"><i class="fa fa-check"></i>Goals</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#launch-an-r-session"><i class="fa fa-check"></i>Launch an R session</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#packages"><i class="fa fa-check"></i>Packages</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#modeling-workflow"><i class="fa fa-check"></i>Modeling workflow</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#r-modeling-ecosystem"><i class="fa fa-check"></i>R modeling ecosystem</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#before-fitting-a-model"><i class="fa fa-check"></i>Before fitting a model</a>
<ul>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#load-the-data"><i class="fa fa-check"></i>Load the data</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#examine-the-data"><i class="fa fa-check"></i>Examine the data</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#plot-the-data"><i class="fa fa-check"></i>Plot the data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#models-with-continuous-outcomes"><i class="fa fa-check"></i>Models with continuous outcomes</a>
<ul>
<li><a href="Rmodels.html#why-is-the-association-between-expense-sat-scores-negative">Why is the association between expense &amp; SAT scores <em>negative</em>?</a></li>
<li><a href="Rmodels.html#the-lm-class-methods">The <code>lm</code> class &amp; methods</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#ols-regression-assumptions"><i class="fa fa-check"></i>OLS regression assumptions</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#comparing-models"><i class="fa fa-check"></i>Comparing models</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#exercise-0-1"><i class="fa fa-check"></i>Exercise 0</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#interactions-factors"><i class="fa fa-check"></i>Interactions &amp; factors</a>
<ul>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#modeling-interactions"><i class="fa fa-check"></i>Modeling interactions</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#regression-with-categorical-predictors"><i class="fa fa-check"></i>Regression with categorical predictors</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#setting-factor-reference-groups-contrasts"><i class="fa fa-check"></i>Setting factor reference groups &amp; contrasts</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#exercise-1-1"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#models-with-binary-outcomes"><i class="fa fa-check"></i>Models with binary outcomes</a>
<ul>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#logistic-regression"><i class="fa fa-check"></i>Logistic regression</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#logistic-regression-example"><i class="fa fa-check"></i>Logistic regression example</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#odds-ratios"><i class="fa fa-check"></i>Odds ratios</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#predicted-marginal-means"><i class="fa fa-check"></i>Predicted marginal means</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#exercise-2"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#multilevel-modeling"><i class="fa fa-check"></i>Multilevel modeling</a>
<ul>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#multilevel-modeling-overview"><i class="fa fa-check"></i>Multilevel modeling overview</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#the-exam-data"><i class="fa fa-check"></i>The Exam data</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#the-null-model-icc"><i class="fa fa-check"></i>The null model &amp; ICC</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#adding-fixed-effects-predictors"><i class="fa fa-check"></i>Adding fixed-effects predictors</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#multiple-degree-of-freedom-comparisons"><i class="fa fa-check"></i>Multiple degree of freedom comparisons</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#random-slopes"><i class="fa fa-check"></i>Random slopes</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#test-the-significance-of-the-random-slope"><i class="fa fa-check"></i>Test the significance of the random slope</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#exercise-3-1"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#wrap-up-2"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#feedback-2"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="Rmodels.html"><a href="Rmodels.html#resources-3"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html"><i class="fa fa-check"></i>R Graphics</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#setup-2"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#software-and-materials-2"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#class-structure-2"><i class="fa fa-check"></i>Class Structure</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#prerequisites-2"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#launch-an-r-session-1"><i class="fa fa-check"></i>Launch an R session</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#packages-1"><i class="fa fa-check"></i>Packages</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#goals-2"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li><a href="Rgraphics.html#why-ggplot2">Why <code>ggplot2</code>?</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#what-is-the-grammar-of-graphics"><i class="fa fa-check"></i>What is the Grammar Of Graphics?</a></li>
<li><a href="Rgraphics.html#ggplot2-vs-base-graphics"><code>ggplot2</code> VS base graphics</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#geometric-objects-aesthetics"><i class="fa fa-check"></i>Geometric objects &amp; aesthetics</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#aesthetic-mapping"><i class="fa fa-check"></i>Aesthetic mapping</a></li>
<li><a href="Rgraphics.html#geometric-objects-geom">Geometric objects (<code>geom</code>)</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#aesthetic-mapping-vs-assignment"><i class="fa fa-check"></i>Aesthetic mapping VS assignment</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#mapping-variables-to-other-aesthetics"><i class="fa fa-check"></i>Mapping variables to other aesthetics</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#exercise-0-2"><i class="fa fa-check"></i>Exercise 0</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#statistical-transformations"><i class="fa fa-check"></i>Statistical transformations</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#why-transform-data"><i class="fa fa-check"></i>Why transform data?</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#setting-arguments"><i class="fa fa-check"></i>Setting arguments</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#changing-the-transformation"><i class="fa fa-check"></i>Changing the transformation</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#exercise-1-2"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#scales"><i class="fa fa-check"></i>Scales</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#controlling-aesthetic-mapping"><i class="fa fa-check"></i>Controlling aesthetic mapping</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#common-scale-arguments"><i class="fa fa-check"></i>Common scale arguments</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#scale-modification-examples"><i class="fa fa-check"></i>Scale modification examples</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#using-different-color-scales"><i class="fa fa-check"></i>Using different color scales</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#available-scales"><i class="fa fa-check"></i>Available scales</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#exercise-2-1"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#faceting"><i class="fa fa-check"></i>Faceting</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#what-is-faceting"><i class="fa fa-check"></i>What is faceting?</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#what-is-the-trend-in-housing-prices-in-each-state"><i class="fa fa-check"></i>What is the trend in housing prices in each state?</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#faceting-to-the-rescue"><i class="fa fa-check"></i>Faceting to the rescue</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#themes"><i class="fa fa-check"></i>Themes</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#what-are-themes"><i class="fa fa-check"></i>What are themes?</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#overriding-theme-defaults"><i class="fa fa-check"></i>Overriding theme defaults</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#creating-saving-new-themes"><i class="fa fa-check"></i>Creating &amp; saving new themes</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#saving-plots"><i class="fa fa-check"></i>Saving plots</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#the-1-faq"><i class="fa fa-check"></i>The #1 FAQ</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#map-aesthetic-to-different-columns"><i class="fa fa-check"></i>Map aesthetic to different columns</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#exercise-3-2"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#wrap-up-3"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#feedback-3"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="Rgraphics.html"><a href="Rgraphics.html#resources-4"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html"><i class="fa fa-check"></i>R Data Wrangling</a>
<ul>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#setup-3"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#software-and-materials-3"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#class-structure-3"><i class="fa fa-check"></i>Class Structure</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#prerequisites-3"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#launch-an-r-session-2"><i class="fa fa-check"></i>Launch an R session</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#packages-2"><i class="fa fa-check"></i>Packages</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#workshop-outline"><i class="fa fa-check"></i>Workshop Outline</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#working-with-excel-worksheets"><i class="fa fa-check"></i>Working with Excel worksheets</a>
<ul>
<li><a href="RDataWrangling.html#iterating-with-map">Iterating with <code>map()</code></a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#filtering-strings-using-regex"><i class="fa fa-check"></i>Filtering strings using regex</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#writing-your-own-functions"><i class="fa fa-check"></i>Writing your own functions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#reading-excel-data-files"><i class="fa fa-check"></i>Reading Excel data files</a>
<ul>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#exercise-1-3"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#data-cleanup"><i class="fa fa-check"></i>Data cleanup</a>
<ul>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#selecting-columns"><i class="fa fa-check"></i>Selecting columns</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#data-types-and-structures"><i class="fa fa-check"></i>Data types and structures</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#list-indexing"><i class="fa fa-check"></i>List indexing</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#dropping-missing-values"><i class="fa fa-check"></i>Dropping missing values</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#exercise-2-2"><i class="fa fa-check"></i>Exercise 2</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#reshaping-from-wide-to-long"><i class="fa fa-check"></i>Reshaping from wide to long</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#exercise-3-3"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#data-organization-storage"><i class="fa fa-check"></i>Data organization &amp; storage</a>
<ul>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#a-list-of-data-frames"><i class="fa fa-check"></i>A list of data frames</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#one-big-data-frame"><i class="fa fa-check"></i>One big data frame</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#exercise-4-1"><i class="fa fa-check"></i>Exercise 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#complete-code"><i class="fa fa-check"></i>Complete code</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#wrap-up-4"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#feedback-4"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="RDataWrangling.html"><a href="RDataWrangling.html#resources-5"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Python</b></span></li>
<li class="chapter" data-level="" data-path="PythonInstall.html"><a href="PythonInstall.html"><i class="fa fa-check"></i>Python Installation</a>
<ul>
<li class="chapter" data-level="" data-path="PythonInstall.html"><a href="PythonInstall.html#troubleshooting-session-1"><i class="fa fa-check"></i>Troubleshooting session</a></li>
<li class="chapter" data-level="" data-path="PythonInstall.html"><a href="PythonInstall.html#materials-1"><i class="fa fa-check"></i>Materials</a></li>
<li class="chapter" data-level="" data-path="PythonInstall.html"><a href="PythonInstall.html#software-1"><i class="fa fa-check"></i>Software</a></li>
<li class="chapter" data-level="" data-path="PythonInstall.html"><a href="PythonInstall.html#jupyter-notebook-interfaces"><i class="fa fa-check"></i>Jupyter notebook interfaces</a>
<ul>
<li class="chapter" data-level="" data-path="PythonInstall.html"><a href="PythonInstall.html#launch-jupyterlab"><i class="fa fa-check"></i>Launch JupyterLab</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonInstall.html"><a href="PythonInstall.html#resources-6"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html"><i class="fa fa-check"></i>Python Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#setup-4"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#software-and-materials-4"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#class-structure-4"><i class="fa fa-check"></i>Class Structure</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#prerequisites-4"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#goals-3"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#python-basics"><i class="fa fa-check"></i>Python basics</a>
<ul>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#what-is-python"><i class="fa fa-check"></i>What is Python?</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#why-use-python"><i class="fa fa-check"></i>Why use Python?</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#how-does-python-work"><i class="fa fa-check"></i>How does Python work?</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#interfaces-1"><i class="fa fa-check"></i>Interfaces</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#launch-jupyterlab-1"><i class="fa fa-check"></i>Launch JupyterLab</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#syntax-rules-1"><i class="fa fa-check"></i>Syntax rules</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#function-calls-1"><i class="fa fa-check"></i>Function calls</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#assignment-1"><i class="fa fa-check"></i>Assignment</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#reading-data-1"><i class="fa fa-check"></i>Reading data</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#object-methods"><i class="fa fa-check"></i>Object methods</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#using-object-methods-lists"><i class="fa fa-check"></i>Using object methods &amp; lists</a>
<ul>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#splitting-a-string-into-a-list-of-words"><i class="fa fa-check"></i>Splitting a string into a list of words</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#working-with-lists"><i class="fa fa-check"></i>Working with lists</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#extracting-subsets-from-lists"><i class="fa fa-check"></i>Extracting subsets from lists</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#using-sets-to-count-unique-items"><i class="fa fa-check"></i>Using sets to count unique items</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#exercise-0-3"><i class="fa fa-check"></i>Exercise 0</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#control-flow"><i class="fa fa-check"></i>Control flow</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#logical-relational-operators-1"><i class="fa fa-check"></i>Logical &amp; relational operators</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#counting-list-elements"><i class="fa fa-check"></i>Counting list elements</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#exercise-1-4"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#iterating-over-collections-of-data"><i class="fa fa-check"></i>Iterating over collections of data</a>
<ul>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#iterating-over-lists-using-for-loops"><i class="fa fa-check"></i>Iterating over lists using for-loops</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#organizing-results-in-dictionaries"><i class="fa fa-check"></i>Organizing results in dictionaries</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#exercise-2-3"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#importing-packages"><i class="fa fa-check"></i>Importing packages</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#wrap-up-5"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#feedback-5"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="PythonIntro.html"><a href="PythonIntro.html#resources-7"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html"><i class="fa fa-check"></i>Python Web-Scraping</a>
<ul>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#setup-5"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#software-and-materials-5"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#class-structure-5"><i class="fa fa-check"></i>Class Structure</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#prerequisites-5"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#goals-4"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#web-scraping-background"><i class="fa fa-check"></i>Web scraping background</a>
<ul>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#what-is-web-scraping"><i class="fa fa-check"></i>What is web scraping?</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#is-web-scraping-legal-is-it-ethical"><i class="fa fa-check"></i>Is web scraping legal? Is it ethical?</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#web-scraping-approaches"><i class="fa fa-check"></i>Web scraping approaches</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#how-does-the-web-work"><i class="fa fa-check"></i>How does the web work?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#retrieve-data-in-json-format-if-you-can"><i class="fa fa-check"></i>Retrieve data in JSON format if you can</a>
<ul>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#examine-the-websites-structure"><i class="fa fa-check"></i>Examine the website’s structure</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#launch-jupyterlab-2"><i class="fa fa-check"></i>Launch JupyterLab</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#making-requests"><i class="fa fa-check"></i>Making requests</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#parsing-json-data"><i class="fa fa-check"></i>Parsing JSON data</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#organizing-saving-the-data"><i class="fa fa-check"></i>Organizing &amp; saving the data</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#iterating-to-retrieve-all-the-data"><i class="fa fa-check"></i>Iterating to retrieve all the data</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#exercise-0-4"><i class="fa fa-check"></i>Exercise 0</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#parsing-html-if-you-have-to"><i class="fa fa-check"></i>Parsing HTML if you have to</a>
<ul>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#document-object-model-dom"><i class="fa fa-check"></i>Document Object Model (DOM)</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#retrieving-html"><i class="fa fa-check"></i>Retrieving HTML</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#parsing-html-using-the-lxml-library"><i class="fa fa-check"></i>Parsing HTML using the lxml library</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#using-xpath-to-extract-content-from-html"><i class="fa fa-check"></i>Using XPath to extract content from HTML</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#iterating-to-retrieve-content-from-a-list-of-html-elements"><i class="fa fa-check"></i>Iterating to retrieve content from a list of HTML elements</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#exercise-1-5"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li><a href="PythonWebScrape.html#scrapy-for-large-complex-projects"><code>Scrapy</code>: for large / complex projects</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#browser-drivers-a-last-resort"><i class="fa fa-check"></i>Browser drivers: a last resort</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#wrap-up-6"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#feedback-6"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="PythonWebScrape.html"><a href="PythonWebScrape.html#resources-8"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Stata</b></span></li>
<li class="chapter" data-level="" data-path="StataInstall.html"><a href="StataInstall.html"><i class="fa fa-check"></i>Stata Installation</a>
<ul>
<li class="chapter" data-level="" data-path="StataInstall.html"><a href="StataInstall.html#troubleshooting"><i class="fa fa-check"></i>Troubleshooting</a></li>
<li class="chapter" data-level="" data-path="StataInstall.html"><a href="StataInstall.html#materials-2"><i class="fa fa-check"></i>Materials</a></li>
<li class="chapter" data-level="" data-path="StataInstall.html"><a href="StataInstall.html#software-2"><i class="fa fa-check"></i>Software</a></li>
<li class="chapter" data-level="" data-path="StataInstall.html"><a href="StataInstall.html#resources-9"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html"><i class="fa fa-check"></i>Stata Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#setup-6"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#software-and-materials-6"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#class-structure-and-organization"><i class="fa fa-check"></i>Class Structure and organization</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#prerequisites-6"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#goals-5"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#stata-basics"><i class="fa fa-check"></i>Stata basics</a>
<ul>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#what-is-stata"><i class="fa fa-check"></i>What is Stata?</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#why-use-stata"><i class="fa fa-check"></i>Why use Stata?</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#how-does-stata-work"><i class="fa fa-check"></i>How does Stata work?</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#interfaces-2"><i class="fa fa-check"></i>Interfaces</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#stata-help"><i class="fa fa-check"></i>Stata help</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#syntax-rules-2"><i class="fa fa-check"></i>Syntax rules</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#exercise-0-5"><i class="fa fa-check"></i>Exercise 0</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#working-directory"><i class="fa fa-check"></i>Working directory</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#reading-data-2"><i class="fa fa-check"></i>Reading data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#statistics-graphs"><i class="fa fa-check"></i>Statistics &amp; graphs</a>
<ul>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#basic-graphing-commands"><i class="fa fa-check"></i>Basic graphing commands</a></li>
<li><a href="StataIntro.html#the-by-command">The <code>by</code> command</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#exercise-1-6"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#basic-data-management"><i class="fa fa-check"></i>Basic data management</a>
<ul>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#variable-value-labels"><i class="fa fa-check"></i>Variable &amp; value labels</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#working-on-subsets"><i class="fa fa-check"></i>Working on subsets</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#generating-replacing-variables"><i class="fa fa-check"></i>Generating &amp; replacing variables</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#exercise-2-4"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#bivariate-analyses"><i class="fa fa-check"></i>Bivariate analyses</a>
<ul>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#chi-squared-test"><i class="fa fa-check"></i>Chi-squared test</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#t-test"><i class="fa fa-check"></i>t-test</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#one-way-anova"><i class="fa fa-check"></i>One-way ANOVA</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#exercise-3-4"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#wrap-up-7"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#feedback-7"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="StataIntro.html"><a href="StataIntro.html#resources-10"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html"><i class="fa fa-check"></i>Stata Data Management</a>
<ul>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#setup-7"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#software-and-materials-7"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#class-structure-and-organization-1"><i class="fa fa-check"></i>Class structure and organization</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#prerequisites-7"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#goals-6"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#opening-files"><i class="fa fa-check"></i>Opening Files</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#generating-replacing-variables-1"><i class="fa fa-check"></i>Generating &amp; replacing variables</a>
<ul>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#generate-replace"><i class="fa fa-check"></i>Generate &amp; Replace</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#recode"><i class="fa fa-check"></i>Recode</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#egen"><i class="fa fa-check"></i>egen</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#exercise-0-6"><i class="fa fa-check"></i>Exercise 0</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#missing-values"><i class="fa fa-check"></i>Missing values</a>
<ul>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#making-sure-missingness-is-preserved"><i class="fa fa-check"></i>Making sure missingness is preserved</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#bulk-conversion-to-missing-values"><i class="fa fa-check"></i>Bulk Conversion to missing values</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#variable-types"><i class="fa fa-check"></i>Variable types</a>
<ul>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#converting-to-from-strings"><i class="fa fa-check"></i>Converting to &amp; from Strings</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#converting-strings-to-date-time"><i class="fa fa-check"></i>Converting strings to date / time</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#formatting-numbers-as-dates"><i class="fa fa-check"></i>Formatting numbers as dates</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#exercise-1-7"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#merging-appending-collapsing"><i class="fa fa-check"></i>Merging, appending, &amp; collapsing</a>
<ul>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#appending-datasets"><i class="fa fa-check"></i>Appending datasets</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#merging-datasets"><i class="fa fa-check"></i>Merging datasets</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#merge-options"><i class="fa fa-check"></i>Merge Options</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#many-to-many-merges---joinby-command"><i class="fa fa-check"></i>Many-to-many merges - joinby command</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#collapse"><i class="fa fa-check"></i>Collapse</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#exercise-2-5"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#wrap-up-8"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#feedback-8"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="StataDataManage.html"><a href="StataDataManage.html#resources-11"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html"><i class="fa fa-check"></i>Stata Regression Models</a>
<ul>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#setup-8"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#software-and-materials-8"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#class-structure-and-organization-2"><i class="fa fa-check"></i>Class structure and organization</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#prerequisites-8"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#goals-7"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#modeling-workflow-1"><i class="fa fa-check"></i>Modeling workflow</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#before-fitting-a-model-1"><i class="fa fa-check"></i>Before fitting a model</a>
<ul>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#the-dataset"><i class="fa fa-check"></i>The dataset</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#set-working-directory"><i class="fa fa-check"></i>Set working directory</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#load-the-data-1"><i class="fa fa-check"></i>Load the data</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#examine-descriptive-statistics"><i class="fa fa-check"></i>Examine descriptive statistics</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#visualize-the-data"><i class="fa fa-check"></i>Visualize the data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#models-with-continuous-outcomes-1"><i class="fa fa-check"></i>Models with continuous outcomes</a>
<ul>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#fit-the-model"><i class="fa fa-check"></i>Fit the model</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#ols-assumptions"><i class="fa fa-check"></i>OLS assumptions</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#interactions"><i class="fa fa-check"></i>Interactions</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#categorical-predictors"><i class="fa fa-check"></i>Categorical predictors</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#exercise-0-7"><i class="fa fa-check"></i>Exercise 0</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#models-with-binary-outcomes-1"><i class="fa fa-check"></i>Models with binary outcomes</a>
<ul>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#the-dataset-1"><i class="fa fa-check"></i>The Dataset</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#load-the-dataset"><i class="fa fa-check"></i>Load the dataset</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#recode-the-outcome-variable"><i class="fa fa-check"></i>Recode the outcome variable</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#run-summary-statistics"><i class="fa fa-check"></i>Run summary statistics</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#run-the-logistic-model"><i class="fa fa-check"></i>Run the logistic model</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#exercise-1-8"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#exporting-saving-results"><i class="fa fa-check"></i>Exporting &amp; saving results</a>
<ul>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#storing-results"><i class="fa fa-check"></i>Storing results</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#comparing-models-1"><i class="fa fa-check"></i>Comparing models</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#exporting-to-excel"><i class="fa fa-check"></i>Exporting to Excel</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#exercise-2-6"><i class="fa fa-check"></i>Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#obtaining-quantities-of-interest"><i class="fa fa-check"></i>Obtaining quantities of interest</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#margins-of-responses"><i class="fa fa-check"></i>Margins of responses</a>
<ul>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#the-dataset-2"><i class="fa fa-check"></i>The dataset</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#fit-a-model"><i class="fa fa-check"></i>Fit a model</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#apm-average-predictive-margins"><i class="fa fa-check"></i>APM: Average Predictive Margins</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#pmm-predictive-margins-at-the-means"><i class="fa fa-check"></i>PMM: Predictive Margins at the Means</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#pmr-predictive-margins-at-representative-values"><i class="fa fa-check"></i>PMR: Predictive Margins at Representative values</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#graph-margins-of-responses"><i class="fa fa-check"></i>Graph margins of responses</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#exercise-3-5"><i class="fa fa-check"></i>Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#margins-of-changes-in-responses"><i class="fa fa-check"></i>Margins of changes in responses</a>
<ul>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#the-dataset-3"><i class="fa fa-check"></i>The dataset</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#fit-a-model-1"><i class="fa fa-check"></i>Fit a model</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#ame-average-marginal-effects"><i class="fa fa-check"></i>AME: Average Marginal Effects</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#mem-marginal-effects-at-the-mean"><i class="fa fa-check"></i>MEM: Marginal Effects at the Mean</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#mer-marginal-effects-at-representative-values"><i class="fa fa-check"></i>MER: Marginal Effects at Representative values</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#graph-margins-of-changes-in-responses"><i class="fa fa-check"></i>Graph margins of changes in responses</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#exercise-4-2"><i class="fa fa-check"></i>Exercise 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#wrap-up-9"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#feedback-9"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="StataModels.html"><a href="StataModels.html#resources-12"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html"><i class="fa fa-check"></i>Stata Graphics</a>
<ul>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#setup-9"><i class="fa fa-check"></i>Setup</a>
<ul>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#software-and-materials-9"><i class="fa fa-check"></i>Software and Materials</a></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#class-structure-and-organization-3"><i class="fa fa-check"></i>Class structure and organization</a></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#prerequisites-9"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#goals-8"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#graphing-in-stata"><i class="fa fa-check"></i>Graphing in Stata</a>
<ul>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#graphing-strategies"><i class="fa fa-check"></i>Graphing strategies</a></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#terrible-graph"><i class="fa fa-check"></i>Terrible graph</a></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#much-better-graph"><i class="fa fa-check"></i>Much better graph</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#univariate-graphics"><i class="fa fa-check"></i>Univariate graphics</a>
<ul>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#our-first-dataset"><i class="fa fa-check"></i>Our first dataset</a></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#single-continuous-variable"><i class="fa fa-check"></i>Single continuous variable</a></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#single-categorical-variable"><i class="fa fa-check"></i>Single categorical variable</a></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#exercise-0-8"><i class="fa fa-check"></i>Exercise 0</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#bivariate-graphics"><i class="fa fa-check"></i>Bivariate graphics</a>
<ul>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#next-dataset"><i class="fa fa-check"></i>Next dataset</a></li>
<li><a href="StataGraphics.html#the-twoway-family">The <code>twoway</code> family</a></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#overlaying-twoway-graphs"><i class="fa fa-check"></i>Overlaying twoway graphs</a></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#twoway-line-graphs"><i class="fa fa-check"></i>Twoway line graphs</a></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#stata-graphing-lines"><i class="fa fa-check"></i>Stata graphing lines</a></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#exercise-1-9"><i class="fa fa-check"></i>Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#exporting-graphs"><i class="fa fa-check"></i>Exporting graphs</a></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#wrap-up-10"><i class="fa fa-check"></i>Wrap-up</a>
<ul>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#feedback-10"><i class="fa fa-check"></i>Feedback</a></li>
<li class="chapter" data-level="" data-path="StataGraphics.html"><a href="StataGraphics.html#resources-13"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science Workshops</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-graphics" class="section level1">
<h1>R Graphics</h1>
<p><strong>Topics</strong></p>
<ul>
<li>R <code>ggplot2</code> package basics</li>
<li>Geometric objects and aesthetics</li>
<li>Aesthetic inheritance</li>
<li>Aesthetic mapping versus assignment</li>
<li>Statistical transformations</li>
<li>Add and modify scales and legends</li>
<li>Statify plots using facets</li>
<li>Manipulate plot labels</li>
<li>Change and create plot themes</li>
</ul>
<div id="setup-2" class="section level2">
<h2>Setup</h2>
<div id="software-and-materials-2" class="section level3">
<h3>Software and Materials</h3>
<p>Follow the <a href="./Rinstall.html">R Installation</a> instructions and ensure that you can successfully start RStudio.</p>
</div>
<div id="class-structure-2" class="section level3">
<h3>Class Structure</h3>
<p>Informal - Ask questions at any time. Really!</p>
<p>Collaboration is encouraged - please spend a minute introducing yourself to your neighbors!</p>
</div>
<div id="prerequisites-2" class="section level3">
<h3>Prerequisites</h3>
<p>This is an intermediate R course:</p>
<ul>
<li>Assumes working knowledge of R</li>
<li>Relatively fast-paced</li>
</ul>
</div>
<div id="launch-an-r-session-1" class="section level3">
<h3>Launch an R session</h3>
<p>Start RStudio and create a new project:</p>
<ul>
<li>On Windows click the start button and search for RStudio. On Mac RStudio will be in your applications folder.</li>
<li>In Rstudio go to <code>File -&gt; New Project</code>.</li>
<li>Choose <code>Existing Directory</code> and browse to the workshop materials directory on your desktop.</li>
<li>Choose <code>File -&gt; Open File</code> and select the file with the word “BLANK” in the name.</li>
</ul>
</div>
<div id="packages-1" class="section level3">
<h3>Packages</h3>
<p>You should have already installed the <code>tidyverse</code> and <code>rmarkdown</code> packages onto your computer before the workshop — see <a href="./Rinstall.html">R Installation</a>. Now let’s load these packages into the search path of our R session.</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="Rgraphics.html#cb288-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb288-2"><a href="Rgraphics.html#cb288-2"></a><span class="kw">library</span>(rmarkdown)</span></code></pre></div>
<p>The <code>ggplot2</code> package is contained within <code>tidyverse</code>, but we also want to install two additional packages, <code>scales</code> and <code>ggrepel</code>, which provide additional functionality.</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="Rgraphics.html#cb289-1"></a><span class="co"># install.packages(&quot;scales&quot;)</span></span>
<span id="cb289-2"><a href="Rgraphics.html#cb289-2"></a><span class="kw">library</span>(scales)</span>
<span id="cb289-3"><a href="Rgraphics.html#cb289-3"></a></span>
<span id="cb289-4"><a href="Rgraphics.html#cb289-4"></a><span class="co"># install.packages(&quot;ggrepel&quot;) </span></span>
<span id="cb289-5"><a href="Rgraphics.html#cb289-5"></a><span class="kw">library</span>(ggrepel)</span></code></pre></div>
<p>You may want to also explore the wider <code>ggplot2</code> ecosystem, which includes 70+ packages that extend the functionality of the base package in many different ways: <a href="https://exts.ggplot2.tidyverse.org/gallery/" class="uri">https://exts.ggplot2.tidyverse.org/gallery/</a>.</p>
</div>
<div id="goals-2" class="section level3">
<h3>Goals</h3>
<div class="alert alert-success">
<p>We will learn about the <code>grammar of graphics</code> — a system for understanding the building blocks of a graph — using the <code>ggplot2</code> package. In particular, we’ll learn about:</p>
<ol style="list-style-type: decimal">
<li>Basic plots, <strong>aesthetic mapping and inheritance</strong></li>
<li>Tailoring <strong>statistical transformations</strong> to particular plots</li>
<li><strong>Modifying scales</strong> to change axes and add labels</li>
<li><strong>Faceting</strong> to create many small plots</li>
<li>Changing plot <strong>themes</strong></li>
</ol>
</div>
</div>
</div>
<div id="why-ggplot2" class="section level2">
<h2>Why <code>ggplot2</code>?</h2>
<p><code>ggplot2</code> is a package within in the <code>tidyverse</code> suite of packages. Advantages of <code>ggplot2</code> include:</p>
<ul>
<li>consistent underlying <code>grammar of graphics</code> (Wilkinson, 2005)</li>
<li>very flexible — plot specification at a high level of abstraction</li>
<li>theme system for polishing plot appearance</li>
<li>many users, active mailing list</li>
</ul>
<p>That said, there are some things you cannot (or should not) do with <code>ggplot2</code>:</p>
<ul>
<li>3-dimensional graphics (see the <code>rgl</code> package)</li>
<li>Graph-theory type graphs (nodes/edges layout; see the <code>igraph</code> package)</li>
<li>Interactive graphics (see the <code>ggvis</code> package)</li>
</ul>
<div id="what-is-the-grammar-of-graphics" class="section level3">
<h3>What is the Grammar Of Graphics?</h3>
<p>The basic idea: independently specify plot building blocks and combine them to create just about any kind of graphical display you want. Building blocks of a graph include the following (<strong>bold denotes essential elements</strong>):</p>
<ul>
<li><strong>data</strong></li>
<li><strong>aesthetic mapping</strong></li>
<li><strong>geometric object</strong></li>
<li>statistical transformations</li>
<li>scales</li>
<li>coordinate system</li>
<li>position adjustments</li>
<li>faceting</li>
<li>themes</li>
</ul>
<p>By the end of this workshop, you should understand what these building blocks do and how to use them to create the following plot:</p>
<p><img src="R/Rgraphics/images/final_plot.png" /></p>
</div>
<div id="ggplot2-vs-base-graphics" class="section level3">
<h3><code>ggplot2</code> VS base graphics</h3>
<p>Compared to base graphics, <code>ggplot2</code></p>
<ul>
<li>is more verbose for simple / canned graphics</li>
<li>is less verbose for complex / custom graphics</li>
<li>does not have methods (data should always be in a <code>data.frame</code>)</li>
<li>has sensible defaults for generating legends</li>
</ul>
</div>
</div>
<div id="geometric-objects-aesthetics" class="section level2">
<h2>Geometric objects &amp; aesthetics</h2>
<div id="aesthetic-mapping" class="section level3">
<h3>Aesthetic mapping</h3>
<p>In ggplot land <em>aesthetic</em> means “something you can see”. Examples include:</p>
<ul>
<li>position (i.e., on the x and y axes)</li>
<li>color (“outside” color)</li>
<li>fill (“inside” color)</li>
<li>shape (of points)</li>
<li>linetype</li>
<li>size</li>
</ul>
<p>Each type of geom accepts only a subset of all aesthetics; refer to the geom help pages to see what mappings each geom accepts. Aesthetic mappings are set with the <code>aes()</code> function.</p>
</div>
<div id="geometric-objects-geom" class="section level3">
<h3>Geometric objects (<code>geom</code>)</h3>
<p>Geometric objects are the actual marks we put on a plot. Examples include:</p>
<ul>
<li>points (<code>geom_point()</code>, for scatter plots, dot plots, etc.)</li>
<li>lines (<code>geom_line()</code>, for time series, trend lines, etc.)</li>
<li>boxplot (<code>geom_boxplot()</code>, for boxplots!)</li>
</ul>
<p>A plot <strong>must have at least one geom</strong>; there is no upper limit. You can add a geom to a plot using the <code>+</code> operator.</p>
<p>Each <code>geom_</code> has a particular set of aesthetic mappings associated with it. Some examples are provided below, with required aesthetics in <strong>bold</strong> and optional aesthetics in plain text:</p>
<table>
<colgroup>
<col width="14%" />
<col width="14%" />
<col width="70%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"><code>geom_</code></th>
<th align="left">Usage</th>
<th align="left">Aesthetics</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>geom_point()</code></td>
<td align="left">Scatter plot</td>
<td align="left"><strong><code>x</code></strong>,<strong><code>y</code></strong>,<code>alpha</code>,<code>color</code>,<code>fill</code>,<code>group</code>,<code>shape</code>,<code>size</code>,<code>stroke</code></td>
</tr>
<tr class="even">
<td align="left"><code>geom_line()</code></td>
<td align="left">Line plot</td>
<td align="left"><strong><code>x</code></strong>,<strong><code>y</code></strong>,<code>alpha</code>,<code>color</code>,<code>linetype</code>,<code>size</code></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_bar()</code></td>
<td align="left">Bar chart</td>
<td align="left"><strong><code>x</code></strong>,<strong><code>y</code></strong>,<code>alpha</code>,<code>color</code>,<code>fill</code>,<code>group</code>,<code>linetype</code>,<code>size</code></td>
</tr>
<tr class="even">
<td align="left"><code>geom_boxplot()</code></td>
<td align="left">Boxplot</td>
<td align="left"><strong><code>x</code></strong>,<strong><code>lower</code></strong>,<strong><code>upper</code></strong>,<strong><code>middle</code></strong>,<strong><code>ymin</code></strong>,<strong><code>ymax</code></strong>,<code>alpha</code>,<code>color</code>,<code>fill</code></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_density()</code></td>
<td align="left">Density plot</td>
<td align="left"><strong><code>x</code></strong>,<strong><code>y</code></strong>,<code>alpha</code>,<code>color</code>,<code>fill</code>,<code>group</code>,<code>linetype</code>,<code>size</code>,<code>weight</code></td>
</tr>
<tr class="even">
<td align="left"><code>geom_smooth()</code></td>
<td align="left">Conditional means</td>
<td align="left"><strong><code>x</code></strong>,<strong><code>y</code></strong>,<code>alpha</code>,<code>color</code>,<code>fill</code>,<code>group</code>,<code>linetype</code>,<code>size</code>,<code>weight</code></td>
</tr>
<tr class="odd">
<td align="left"><code>geom_label()</code></td>
<td align="left">Text</td>
<td align="left"><strong><code>x</code></strong>,<strong><code>y</code></strong>,<strong><code>label</code></strong>,<code>alpha</code>,<code>angle</code>,<code>color</code>,<code>family</code>,<code>fontface</code>,<code>size</code></td>
</tr>
</tbody>
</table>
<p>You can get a list of all available geometric objects and their associated aesthetics at <a href="https://ggplot2.tidyverse.org/reference/" class="uri">https://ggplot2.tidyverse.org/reference/</a>. Or, simply type <code>geom_&lt;tab&gt;</code> in any good R IDE (such as Rstudio) to see a list of functions starting with <code>geom_</code>.</p>
<div id="points-scatterplot" class="section level4">
<h4>Points (scatterplot)</h4>
<p>Now that we know about geometric objects and aesthetic mapping, we can make a ggplot. To add points to a plot, <code>geom_point()</code> requires mappings for x and y, all others are optional.</p>
<p><strong>Example data: housing prices</strong></p>
<p>Let’s look at data on housing prices.</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="Rgraphics.html#cb290-1"></a>housing &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;dataSets/landdata-states.csv&quot;</span>)</span>
<span id="cb290-2"><a href="Rgraphics.html#cb290-2"></a><span class="kw">head</span>(housing[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]) <span class="co"># view first 5 columns</span></span></code></pre></div>
<pre><code>## # A tibble: 6 x 5
##   State Region  Date Home_Value Structure_Cost
##   &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;      &lt;dbl&gt;          &lt;dbl&gt;
## 1 AK    West   2010.     224952         160599
## 2 AK    West   2010.     225511         160252
## 3 AK    West   2010.     225820         163791
## 4 AK    West   2010      224994         161787
## 5 AK    West   2008      234590         155400
## 6 AK    West   2008.     233714         157458</code></pre>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="Rgraphics.html#cb292-1"></a><span class="co"># create a subset for 1st quarter 2001</span></span>
<span id="cb292-2"><a href="Rgraphics.html#cb292-2"></a>hp2001Q1 &lt;-<span class="st"> </span>housing <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(Date <span class="op">==</span><span class="st"> </span><span class="fl">2001.25</span>)</span></code></pre></div>
<p><strong>Step 1:</strong> create a blank canvas by specifying data:</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="Rgraphics.html#cb293-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> hp2001Q1)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-157-1.png" width="672" /></p>
<p><strong>Step 2:</strong> specify aesthetic mappings (how you want to map variables to visual aspects):</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="Rgraphics.html#cb294-1"></a><span class="co"># here we map &quot;Land_Value&quot; and &quot;Structure_Cost&quot; to the x- and y-axes.</span></span>
<span id="cb294-2"><a href="Rgraphics.html#cb294-2"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> hp2001Q1, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> Land_Value, <span class="dt">y =</span> Structure_Cost))</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-158-1.png" width="672" /></p>
<p><strong>Step 3:</strong> add new layers of geometric objects that will show up on the plot:</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="Rgraphics.html#cb295-1"></a><span class="co"># here we use geom_point() to add a layer with point (dot) elements </span></span>
<span id="cb295-2"><a href="Rgraphics.html#cb295-2"></a><span class="co"># as the geometric shapes to represent the data.</span></span>
<span id="cb295-3"><a href="Rgraphics.html#cb295-3"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> hp2001Q1, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> Land_Value, <span class="dt">y =</span> Structure_Cost)) <span class="op">+</span></span>
<span id="cb295-4"><a href="Rgraphics.html#cb295-4"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-159-1.png" width="672" /></p>
</div>
<div id="lines-prediction-line" class="section level4">
<h4>Lines (prediction line)</h4>
<p>A plot constructed with <code>ggplot()</code> can have more than one geom. In that case the mappings established in the <code>ggplot()</code> call are plot defaults that can be added to or overridden — this is referred to as <strong>aesthetic inheritance</strong>. Our plot could use a regression line:</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="Rgraphics.html#cb296-1"></a><span class="co"># get predicted values from a linear regression</span></span>
<span id="cb296-2"><a href="Rgraphics.html#cb296-2"></a>hp2001Q1<span class="op">$</span>pred_SC &lt;-<span class="st"> </span><span class="kw">lm</span>(Structure_Cost <span class="op">~</span><span class="st"> </span><span class="kw">log</span>(Land_Value), <span class="dt">data =</span> hp2001Q1) <span class="op">%&gt;%</span></span>
<span id="cb296-3"><a href="Rgraphics.html#cb296-3"></a><span class="st">  </span><span class="kw">predict</span>()</span>
<span id="cb296-4"><a href="Rgraphics.html#cb296-4"></a></span>
<span id="cb296-5"><a href="Rgraphics.html#cb296-5"></a><span class="co"># here we store the &#39;base plot&#39; - without geometric objects - in the object &#39;p1&#39;</span></span>
<span id="cb296-6"><a href="Rgraphics.html#cb296-6"></a>p1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(hp2001Q1, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">log</span>(Land_Value), <span class="dt">y =</span> Structure_Cost))</span>
<span id="cb296-7"><a href="Rgraphics.html#cb296-7"></a></span>
<span id="cb296-8"><a href="Rgraphics.html#cb296-8"></a><span class="co"># we can then add geometric objects to our base plot &#39;p1&#39;</span></span>
<span id="cb296-9"><a href="Rgraphics.html#cb296-9"></a>p1 <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> Home_Value)) <span class="op">+</span><span class="st"> </span><span class="co"># values for x and y are inherited from the ggplot() call above</span></span>
<span id="cb296-10"><a href="Rgraphics.html#cb296-10"></a><span class="st">     </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> pred_SC)) <span class="co"># add predicted values to the plot overriding the y values from the ggplot() call above</span></span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-160-1.png" width="672" /></p>
</div>
<div id="smoothers" class="section level4">
<h4>Smoothers</h4>
<p>Not all geometric objects are simple shapes; the smooth geom includes a line and a ribbon.</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="Rgraphics.html#cb297-1"></a><span class="co"># add smooth geom to base plot</span></span>
<span id="cb297-2"><a href="Rgraphics.html#cb297-2"></a>p1 <span class="op">+</span></span>
<span id="cb297-3"><a href="Rgraphics.html#cb297-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> Home_Value)) <span class="op">+</span></span>
<span id="cb297-4"><a href="Rgraphics.html#cb297-4"></a><span class="st">  </span><span class="kw">geom_smooth</span>()</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-161-1.png" width="672" /></p>
</div>
<div id="text-label-points" class="section level4">
<h4>Text (label points)</h4>
<p>Each geom accepts a particular set of mappings; for example <code>geom_text()</code> accepts a <code>label</code> mapping.</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="Rgraphics.html#cb298-1"></a><span class="co"># add text geom to base plot</span></span>
<span id="cb298-2"><a href="Rgraphics.html#cb298-2"></a>p1 <span class="op">+</span><span class="st"> </span></span>
<span id="cb298-3"><a href="Rgraphics.html#cb298-3"></a><span class="st">  </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span> State), <span class="dt">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-162-1.png" width="672" /></p>
<p>But what if we want to include points and labels? We can use <code>geom_text_repel()</code> to keep labels from overlapping the points and each other.</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="Rgraphics.html#cb299-1"></a><span class="co"># add points and text geoms to base plot</span></span>
<span id="cb299-2"><a href="Rgraphics.html#cb299-2"></a>p1 <span class="op">+</span><span class="st"> </span></span>
<span id="cb299-3"><a href="Rgraphics.html#cb299-3"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb299-4"><a href="Rgraphics.html#cb299-4"></a><span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="kw">aes</span>(<span class="dt">label =</span> State), <span class="dt">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-163-1.png" width="672" /></p>
</div>
</div>
<div id="aesthetic-mapping-vs-assignment" class="section level3">
<h3>Aesthetic mapping VS assignment</h3>
<ol style="list-style-type: decimal">
<li>Variables are <strong>mapped</strong> to aesthetics inside the <code>aes()</code> function:</li>
</ol>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="Rgraphics.html#cb300-1"></a><span class="co"># map `Home_Value` to point size</span></span>
<span id="cb300-2"><a href="Rgraphics.html#cb300-2"></a>p1 <span class="op">+</span></span>
<span id="cb300-3"><a href="Rgraphics.html#cb300-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">size =</span> Home_Value))</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-164-1.png" width="672" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Constants are <strong>assigned</strong> to aesthetics outside the <code>aes()</code> call:</li>
</ol>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="Rgraphics.html#cb301-1"></a><span class="co"># assign all points a size of 2</span></span>
<span id="cb301-2"><a href="Rgraphics.html#cb301-2"></a>p1 <span class="op">+</span></span>
<span id="cb301-3"><a href="Rgraphics.html#cb301-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-165-1.png" width="672" /></p>
<p>This sometimes leads to confusion, as in this example:</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="Rgraphics.html#cb302-1"></a>p1 <span class="op">+</span></span>
<span id="cb302-2"><a href="Rgraphics.html#cb302-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">size =</span> <span class="dv">2</span>),<span class="co"># incorrect! 2 is not a variable</span></span>
<span id="cb302-3"><a href="Rgraphics.html#cb302-3"></a>             <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>) <span class="co"># this is fine -- all points red</span></span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-166-1.png" width="672" /></p>
</div>
<div id="mapping-variables-to-other-aesthetics" class="section level3">
<h3>Mapping variables to other aesthetics</h3>
<p>Other aesthetics are mapped in the same way as x and y in the previous example.</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="Rgraphics.html#cb303-1"></a><span class="co"># map `Home_Value` to color and `Region` to shape </span></span>
<span id="cb303-2"><a href="Rgraphics.html#cb303-2"></a>p1 <span class="op">+</span></span>
<span id="cb303-3"><a href="Rgraphics.html#cb303-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> Home_Value, <span class="dt">shape =</span> Region))</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-167-1.png" width="672" /></p>
</div>
<div id="exercise-0-2" class="section level3">
<h3>Exercise 0</h3>
<p>The data for the next few exercises is available in the <code>dataSets/EconomistData.csv</code> file. Read it in with:</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="Rgraphics.html#cb304-1"></a>dat &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;dataSets/EconomistData.csv&quot;</span>)</span></code></pre></div>
<p>Original sources for these data are <a href="http://www.transparency.org/content/download/64476/1031428" class="uri">http://www.transparency.org/content/download/64476/1031428</a> and <a href="http://hdrstats.undp.org/en/indicators/display_cf_xls_indicator.cfm?indicator_id=103106&amp;lang=en" class="uri">http://hdrstats.undp.org/en/indicators/display_cf_xls_indicator.cfm?indicator_id=103106&amp;lang=en</a></p>
<p>These data consist of <em>Human Development Index</em> and <em>Corruption Perception Index</em> scores for several countries.</p>
<ol style="list-style-type: decimal">
<li>Create a scatter plot with <code>CPI</code> on the x axis and <code>HDI</code> on the y axis.</li>
</ol>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="Rgraphics.html#cb305-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Color the points in the previous plot blue.</li>
</ol>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="Rgraphics.html#cb306-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Map the color of the the points to <code>Region</code>.</li>
</ol>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="Rgraphics.html#cb307-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Keeping color mapped to <code>Region</code>, make the points bigger by setting size to 2</li>
</ol>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="Rgraphics.html#cb308-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>Keeping color mapped to <code>Region</code>, map the size of the points to <code>HDI_Rank</code></li>
</ol>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="Rgraphics.html#cb309-1"></a><span class="co">## </span></span></code></pre></div>
<details>
<summary><span style="color:red"><b>Click for Exercise 0 Solution</b></span></summary>
<div class="alert alert-danger">
<ol style="list-style-type: decimal">
<li>Create a scatter plot with <code>CPI</code> on the x axis and <code>HDI</code> on the y axis.</li>
</ol>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="Rgraphics.html#cb310-1"></a><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> CPI, <span class="dt">y =</span> HDI)) <span class="op">+</span></span>
<span id="cb310-2"><a href="Rgraphics.html#cb310-2"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-174-1.png" width="672" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Color the points in the previous plot blue.</li>
</ol>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="Rgraphics.html#cb311-1"></a><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> CPI, <span class="dt">y =</span> HDI)) <span class="op">+</span></span>
<span id="cb311-2"><a href="Rgraphics.html#cb311-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-175-1.png" width="672" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Map the color of the the points to <code>Region</code>.</li>
</ol>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="Rgraphics.html#cb312-1"></a><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> CPI, <span class="dt">y =</span> HDI)) <span class="op">+</span></span>
<span id="cb312-2"><a href="Rgraphics.html#cb312-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> Region))</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-176-1.png" width="672" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Keeping color mapped to <code>Region</code>, make the points bigger by setting size to 2.</li>
</ol>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="Rgraphics.html#cb313-1"></a><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> CPI, <span class="dt">y =</span> HDI)) <span class="op">+</span></span>
<span id="cb313-2"><a href="Rgraphics.html#cb313-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> Region), <span class="dt">size =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-177-1.png" width="672" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Keeping color mapped to <code>Region</code>, map the size of the points to <code>HDI_Rank</code>.</li>
</ol>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="Rgraphics.html#cb314-1"></a><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> CPI, <span class="dt">y =</span> HDI)) <span class="op">+</span></span>
<span id="cb314-2"><a href="Rgraphics.html#cb314-2"></a><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> Region, <span class="dt">size =</span>  HDI_Rank))</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-178-1.png" width="672" /></p>
</div>
</details>
</div>
</div>
<div id="statistical-transformations" class="section level2">
<h2>Statistical transformations</h2>
<div id="why-transform-data" class="section level3">
<h3>Why transform data?</h3>
<p>Some plot types (such as scatterplots) do not require transformations; each point is plotted at x and y coordinates equal to the original value. Other plots, such as boxplots, histograms, prediction lines etc. require statistical transformations:</p>
<ul>
<li>For a boxplot, the y values must be transformed to the median, quartiles, and 1.5 times the interquartile range.</li>
<li>For a smoother, the y values must be transformed into predicted mean values</li>
</ul>
</div>
<div id="setting-arguments" class="section level3">
<h3>Setting arguments</h3>
<p>Each <code>geom_</code> function has a default statistic that it is paired with and, likewise, each <code>stat_</code> function has a default geometic object that it is paired with. For example, the default statistic for <code>geom_histogram()</code> is “bin” (called by the <code>stat_bin()</code> function), while the default geometric object for <code>stat_bin()</code> is “bar” (called by the <code>geom_bar()</code> function). These defaults can be changed.</p>
<p>Arguments to <code>stat_</code> functions can be passed through <code>geom_</code> functions and vice versa. This can be slightly annoying, because if you are using a <code>geom_</code> function, in order to specify some arguments you may have to first determine which statistic the geometric object uses, then determine the arguments to that <code>stat_</code> function.</p>
<p>Let’s look at the arguments for the histogram geometric object (<code>geom_histogram()</code>):</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="Rgraphics.html#cb315-1"></a><span class="kw">args</span>(geom_histogram)</span></code></pre></div>
<pre><code>## function (mapping = NULL, data = NULL, stat = &quot;bin&quot;, position = &quot;stack&quot;, 
##     ..., binwidth = NULL, bins = NULL, na.rm = FALSE, orientation = NA, 
##     show.legend = NA, inherit.aes = TRUE) 
## NULL</code></pre>
<p>Notice that the third argument is <code>stat = "bin"</code>, which calls the <code>stat_bin()</code> function. This is how the histogram geom is, by default, paired with the bin statistic. The fifth argument is <code>...</code>, which allows us to pass certain arguments to <code>stat_bin()</code> through our call to <code>geom_histogram()</code>. Now let’s look at the arguments available through <code>stat_bin()</code>:</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="Rgraphics.html#cb317-1"></a><span class="kw">args</span>(stat_bin)</span></code></pre></div>
<pre><code>## function (mapping = NULL, data = NULL, geom = &quot;bar&quot;, position = &quot;stack&quot;, 
##     ..., binwidth = NULL, bins = NULL, center = NULL, boundary = NULL, 
##     breaks = NULL, closed = c(&quot;right&quot;, &quot;left&quot;), pad = FALSE, 
##     na.rm = FALSE, orientation = NA, show.legend = NA, inherit.aes = TRUE) 
## NULL</code></pre>
<p>The tenth argument is <code>breaks</code>, which allows us to supply a numeric vector of bin boundaries. Notice that this argument is <em>not</em> available in <code>geom_histogram()</code>, but we can still supply the argument and it will be passed to <code>stat_bin()</code> through the <code>...</code> argument.</p>
<p>For example, here is the default histogram of <code>Home_Value</code>:</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="Rgraphics.html#cb319-1"></a><span class="co"># histogram of `Home_Value`</span></span>
<span id="cb319-2"><a href="Rgraphics.html#cb319-2"></a>p2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(housing, <span class="kw">aes</span>(<span class="dt">x =</span> Home_Value))</span>
<span id="cb319-3"><a href="Rgraphics.html#cb319-3"></a>p2 <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>()</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-181-1.png" width="672" /></p>
<p>We can change the boundaries for the bins by passing the <code>breaks</code> argument through <code>geom_histogram()</code> to the <code>stat_bin()</code> function:</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="Rgraphics.html#cb320-1"></a><span class="co"># change bin boundaries for histogram</span></span>
<span id="cb320-2"><a href="Rgraphics.html#cb320-2"></a>p2 <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">875000</span>, <span class="dt">by =</span> <span class="dv">250</span>))</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-182-1.png" width="672" /></p>
<p>For reference, here is a list of geometric objects and their default statistics <a href="https://ggplot2.tidyverse.org/reference/" class="uri">https://ggplot2.tidyverse.org/reference/</a>.</p>
</div>
<div id="changing-the-transformation" class="section level3">
<h3>Changing the transformation</h3>
<p>Sometimes the default statistical transformation is not what you need. This is often the case with pre-summarized data. Let’s create a new variable <code>Home_Value_Mean</code> that is the mean of <code>Home_Value</code> for each <code>State</code>:</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="Rgraphics.html#cb321-1"></a><span class="co"># create new variable that is the mean of &#39;Home Value&#39; for each &#39;State&#39;</span></span>
<span id="cb321-2"><a href="Rgraphics.html#cb321-2"></a>housing_sum &lt;-<span class="st"> </span></span>
<span id="cb321-3"><a href="Rgraphics.html#cb321-3"></a><span class="st">  </span>housing <span class="op">%&gt;%</span></span>
<span id="cb321-4"><a href="Rgraphics.html#cb321-4"></a><span class="st">  </span><span class="kw">group_by</span>(State) <span class="op">%&gt;%</span></span>
<span id="cb321-5"><a href="Rgraphics.html#cb321-5"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">Home_Value_Mean =</span> <span class="kw">mean</span>(Home_Value)) <span class="op">%&gt;%</span></span>
<span id="cb321-6"><a href="Rgraphics.html#cb321-6"></a><span class="st">  </span><span class="kw">ungroup</span>()</span>
<span id="cb321-7"><a href="Rgraphics.html#cb321-7"></a></span>
<span id="cb321-8"><a href="Rgraphics.html#cb321-8"></a><span class="kw">head</span>(housing_sum)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   State Home_Value_Mean
##   &lt;chr&gt;           &lt;dbl&gt;
## 1 AK            147385.
## 2 AL             92545.
## 3 AR             82077.
## 4 AZ            140756.
## 5 CA            282808.
## 6 CO            158176.</code></pre>
<p>Now let’s try to create a bar chart using this pre-summarized data:</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="Rgraphics.html#cb323-1"></a><span class="co"># barchart using pre-summarized data</span></span>
<span id="cb323-2"><a href="Rgraphics.html#cb323-2"></a><span class="kw">ggplot</span>(housing_sum, <span class="kw">aes</span>(<span class="dt">x =</span> State, <span class="dt">y =</span> Home_Value_Mean)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb323-3"><a href="Rgraphics.html#cb323-3"></a><span class="st">  </span><span class="kw">geom_bar</span>()</span>
<span id="cb323-4"><a href="Rgraphics.html#cb323-4"></a></span>
<span id="cb323-5"><a href="Rgraphics.html#cb323-5"></a><span class="co">## Error: stat_count() must not be used with a y aesthetic.  </span></span></code></pre></div>
<p>What is the problem with the previous plot? Basically, we take binned and summarized data and ask <code>ggplot()</code> to bin and summarize it again (<code>geom_bar()</code> defaults to <code>stat = stat_count</code>). Obviously this will not work. We can fix it by telling <code>geom_bar()</code> to use a different statistical transformation function. The <code>identity</code> function returns the same output as the input.</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="Rgraphics.html#cb324-1"></a><span class="co"># change the statistical transformation function</span></span>
<span id="cb324-2"><a href="Rgraphics.html#cb324-2"></a><span class="kw">ggplot</span>(housing_sum, <span class="kw">aes</span>(<span class="dt">x =</span> State, <span class="dt">y =</span> Home_Value_Mean)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb324-3"><a href="Rgraphics.html#cb324-3"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-185-1.png" width="672" /></p>
</div>
<div id="exercise-1-2" class="section level3">
<h3>Exercise 1</h3>
<ol style="list-style-type: decimal">
<li>Re-create a scatter plot with <code>CPI</code> on the x axis and <code>HDI</code> on the y axis (as you did in the previous exercise).</li>
</ol>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="Rgraphics.html#cb325-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Overlay a smoothing line on top of the scatter plot using <code>geom_smooth()</code>.</li>
</ol>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="Rgraphics.html#cb326-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Make the smoothing line in <code>geom_smooth()</code> less smooth. Hint: see <code>?loess</code>.</li>
</ol>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="Rgraphics.html#cb327-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Change the smoothing line in <code>geom_smooth()</code> to use a linear model for the predictions. Hint: see <code>?stat_smooth</code>.</li>
</ol>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="Rgraphics.html#cb328-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>BONUS 1: Allow the smoothing line created in the last plot to vary across the levels of <code>Region</code>. Hint: map <code>Region</code> to the color and fill aesthetics.</li>
</ol>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="Rgraphics.html#cb329-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li>BONUS 2: Overlay a loess <code>(method = "loess")</code> smoothing line on top of the scatter plot using <code>geom_line()</code>. Hint: change the statistical transformation.</li>
</ol>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb330-1"><a href="Rgraphics.html#cb330-1"></a><span class="co">## </span></span></code></pre></div>
<details>
<summary><span style="color:red"><b>Click for Exercise 1 Solution</b></span></summary>
<div class="alert alert-danger">
<ol style="list-style-type: decimal">
<li>Re-create a scatter plot with <code>CPI</code> on the x axis and <code>HDI</code> on the y axis (as you did in the previous exercise).</li>
</ol>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="Rgraphics.html#cb331-1"></a><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> CPI, <span class="dt">y =</span> HDI)) <span class="op">+</span></span>
<span id="cb331-2"><a href="Rgraphics.html#cb331-2"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-192-1.png" width="672" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Overlay a smoothing line on top of the scatter plot using <code>geom_smooth()</code>.</li>
</ol>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="Rgraphics.html#cb332-1"></a><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> CPI, <span class="dt">y =</span> HDI)) <span class="op">+</span></span>
<span id="cb332-2"><a href="Rgraphics.html#cb332-2"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb332-3"><a href="Rgraphics.html#cb332-3"></a><span class="st">  </span><span class="kw">geom_smooth</span>()</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-193-1.png" width="672" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Make the smoothing line in <code>geom_smooth()</code> less smooth. Hint: see <code>?loess</code>.</li>
</ol>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="Rgraphics.html#cb333-1"></a><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> CPI, <span class="dt">y =</span> HDI)) <span class="op">+</span></span>
<span id="cb333-2"><a href="Rgraphics.html#cb333-2"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb333-3"><a href="Rgraphics.html#cb333-3"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">span =</span> <span class="fl">.4</span>)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-194-1.png" width="672" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Change the smoothing line in <code>geom_smooth()</code> to use a linear model for the predictions. Hint: see <code>?stat_smooth</code>.</li>
</ol>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="Rgraphics.html#cb334-1"></a><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> CPI, <span class="dt">y =</span> HDI)) <span class="op">+</span></span>
<span id="cb334-2"><a href="Rgraphics.html#cb334-2"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb334-3"><a href="Rgraphics.html#cb334-3"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-195-1.png" width="672" /></p>
<ol start="5" style="list-style-type: decimal">
<li>BONUS 1: Allow the smoothing line created in the last plot to vary across the levels of <code>Region</code>. Hint: map <code>Region</code> to the color and fill aesthetics.</li>
</ol>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="Rgraphics.html#cb335-1"></a><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> CPI, <span class="dt">y =</span> HDI, <span class="dt">color =</span> Region, <span class="dt">fill =</span> Region)) <span class="op">+</span></span>
<span id="cb335-2"><a href="Rgraphics.html#cb335-2"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb335-3"><a href="Rgraphics.html#cb335-3"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-196-1.png" width="672" /></p>
<ol start="6" style="list-style-type: decimal">
<li>BONUS 2: Overlay a loess <code>(method = "loess")</code> smoothing line on top of the scatter plot using <code>geom_line()</code>. Hint: change the statistical transformation.</li>
</ol>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="Rgraphics.html#cb336-1"></a><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> CPI, <span class="dt">y =</span> HDI)) <span class="op">+</span></span>
<span id="cb336-2"><a href="Rgraphics.html#cb336-2"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb336-3"><a href="Rgraphics.html#cb336-3"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">stat =</span> <span class="st">&quot;smooth&quot;</span>, <span class="dt">method =</span> <span class="st">&quot;loess&quot;</span>)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-197-1.png" width="672" /></p>
</div>
</details>
</div>
</div>
<div id="scales" class="section level2">
<h2>Scales</h2>
<div id="controlling-aesthetic-mapping" class="section level3">
<h3>Controlling aesthetic mapping</h3>
<p>Aesthetic mapping (i.e., with <code>aes()</code>) only says that a variable should be mapped to an aesthetic. It doesn’t say <em>how</em> that should happen. For example, when mapping a variable to <em>shape</em> with <code>aes(shape = x)</code> you don’t say <em>what</em> shapes should be used. Similarly, <code>aes(color = y)</code> doesn’t say <em>what</em> colors should be used. Also, <code>aes(size = z)</code> doesn’t say <em>what</em> sizes should be used. Describing what colors/shapes/sizes etc. to use is done by modifying the corresponding <em>scale</em>. In <code>ggplot2</code> scales include:</p>
<ul>
<li>position</li>
<li>color and fill</li>
<li>size</li>
<li>shape</li>
<li>line type</li>
</ul>
<p>Scales are modified with a series of functions using a <code>scale_&lt;aesthetic&gt;_&lt;type&gt;</code> naming scheme. Try typing <code>scale_&lt;tab&gt;</code> to see a list of scale modification functions.</p>
</div>
<div id="common-scale-arguments" class="section level3">
<h3>Common scale arguments</h3>
<p>The following arguments are common to most scales in <code>ggplot2</code>:</p>
<ul>
<li><strong>name:</strong> the axis or legend title</li>
<li><strong>limits:</strong> the minimum and maximum of the scale</li>
<li><strong>breaks:</strong> the points along the scale where labels should appear</li>
<li><strong>labels:</strong> the labels that appear at each break</li>
</ul>
<p>Specific scale functions may have additional arguments; for example, the <code>scale_color_continuous()</code> function has arguments <code>low</code> and <code>high</code> for setting the colors at the low and high end of the scale.</p>
</div>
<div id="scale-modification-examples" class="section level3">
<h3>Scale modification examples</h3>
<p>Start by constructing a dotplot showing the distribution of home values by <code>Date</code> and <code>State</code>.</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="Rgraphics.html#cb337-1"></a><span class="co"># base dotplot</span></span>
<span id="cb337-2"><a href="Rgraphics.html#cb337-2"></a>p3 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(housing, <span class="kw">aes</span>(<span class="dt">x =</span> State, <span class="dt">y =</span> Home_Price_Index)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb337-3"><a href="Rgraphics.html#cb337-3"></a><span class="st">    </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> Date), <span class="dt">alpha =</span> <span class="fl">0.5</span>, <span class="dt">size =</span> <span class="fl">1.5</span>,</span>
<span id="cb337-4"><a href="Rgraphics.html#cb337-4"></a>               <span class="dt">position =</span> <span class="kw">position_jitter</span>(<span class="dt">width =</span> <span class="fl">0.25</span>, <span class="dt">height =</span> <span class="dv">0</span>))</span></code></pre></div>
<p>Now modify the breaks and shorten the labels for the color scales:</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="Rgraphics.html#cb338-1"></a><span class="co"># modify color scale breaks and labels</span></span>
<span id="cb338-2"><a href="Rgraphics.html#cb338-2"></a>p3 <span class="op">+</span><span class="st"> </span></span>
<span id="cb338-3"><a href="Rgraphics.html#cb338-3"></a><span class="st">  </span><span class="kw">scale_color_continuous</span>(<span class="dt">name=</span><span class="st">&quot;&quot;</span>,</span>
<span id="cb338-4"><a href="Rgraphics.html#cb338-4"></a>                         <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">1976</span>, <span class="dv">1994</span>, <span class="dv">2013</span>),</span>
<span id="cb338-5"><a href="Rgraphics.html#cb338-5"></a>                         <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;&#39;76&quot;</span>, <span class="st">&quot;&#39;94&quot;</span>, <span class="st">&quot;&#39;13&quot;</span>))</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-199-1.png" width="672" /></p>
<p>Next change the low and high values to blue and red:</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="Rgraphics.html#cb339-1"></a><span class="co"># modify color scale low and high values</span></span>
<span id="cb339-2"><a href="Rgraphics.html#cb339-2"></a>p3 <span class="op">+</span></span>
<span id="cb339-3"><a href="Rgraphics.html#cb339-3"></a><span class="st">  </span><span class="kw">scale_color_continuous</span>(<span class="dt">name=</span><span class="st">&quot;&quot;</span>,</span>
<span id="cb339-4"><a href="Rgraphics.html#cb339-4"></a>                         <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">1976</span>, <span class="dv">1994</span>, <span class="dv">2013</span>),</span>
<span id="cb339-5"><a href="Rgraphics.html#cb339-5"></a>                         <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;&#39;76&quot;</span>, <span class="st">&quot;&#39;94&quot;</span>, <span class="st">&quot;&#39;13&quot;</span>),</span>
<span id="cb339-6"><a href="Rgraphics.html#cb339-6"></a>                         <span class="dt">low =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">high =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-200-1.png" width="672" /></p>
</div>
<div id="using-different-color-scales" class="section level3">
<h3>Using different color scales</h3>
<p><code>ggplot2</code> has a wide variety of color scales; here is an example using <code>scale_color_gradient2()</code> to interpolate between three different colors.</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="Rgraphics.html#cb340-1"></a><span class="co"># modify color scale to interpolate between three different colors</span></span>
<span id="cb340-2"><a href="Rgraphics.html#cb340-2"></a>p3 <span class="op">+</span></span>
<span id="cb340-3"><a href="Rgraphics.html#cb340-3"></a><span class="st">  </span><span class="kw">scale_color_gradient2</span>(<span class="dt">name=</span><span class="st">&quot;&quot;</span>,</span>
<span id="cb340-4"><a href="Rgraphics.html#cb340-4"></a>                        <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">1976</span>, <span class="dv">1994</span>, <span class="dv">2013</span>),</span>
<span id="cb340-5"><a href="Rgraphics.html#cb340-5"></a>                        <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;&#39;76&quot;</span>, <span class="st">&quot;&#39;94&quot;</span>, <span class="st">&quot;&#39;13&quot;</span>),</span>
<span id="cb340-6"><a href="Rgraphics.html#cb340-6"></a>                        <span class="dt">low =</span> <span class="st">&quot;blue&quot;</span>,</span>
<span id="cb340-7"><a href="Rgraphics.html#cb340-7"></a>                        <span class="dt">high =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb340-8"><a href="Rgraphics.html#cb340-8"></a>                        <span class="dt">mid =</span> <span class="st">&quot;gray60&quot;</span>,</span>
<span id="cb340-9"><a href="Rgraphics.html#cb340-9"></a>                        <span class="dt">midpoint =</span> <span class="dv">1994</span>)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-201-1.png" width="672" /></p>
</div>
<div id="available-scales" class="section level3">
<h3>Available scales</h3>
<p>Here’s a partial combination matrix of available scales:</p>
<table>
<thead>
<tr class="header">
<th align="left"><code>scale_</code></th>
<th align="left">Types</th>
<th align="left">Examples</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>scale_color_</code></td>
<td align="left"><code>identity</code></td>
<td align="left"><code>scale_fill_continuous()</code></td>
</tr>
<tr class="even">
<td align="left"><code>scale_fill_</code></td>
<td align="left"><code>manual</code></td>
<td align="left"><code>scale_color_discrete()</code></td>
</tr>
<tr class="odd">
<td align="left"><code>scale_size_</code></td>
<td align="left"><code>continuous</code></td>
<td align="left"><code>scale_size_manual()</code></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>discrete</code></td>
<td align="left"><code>scale_size_discrete()</code></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><code>scale_shape_</code></td>
<td align="left"><code>discrete</code></td>
<td align="left"><code>scale_shape_discrete()</code></td>
</tr>
<tr class="odd">
<td align="left"><code>scale_linetype_</code></td>
<td align="left"><code>identity</code></td>
<td align="left"><code>scale_shape_manual()</code></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>manual</code></td>
<td align="left"><code>scale_linetype_discrete()</code></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><code>scale_x_</code></td>
<td align="left"><code>continuous</code></td>
<td align="left"><code>scale_x_continuous()</code></td>
</tr>
<tr class="odd">
<td align="left"><code>scale_y_</code></td>
<td align="left"><code>discrete</code></td>
<td align="left"><code>scale_y_discrete()</code></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>reverse</code></td>
<td align="left"><code>scale_x_log()</code></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>log</code></td>
<td align="left"><code>scale_y_reverse()</code></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>date</code></td>
<td align="left"><code>scale_x_date()</code></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>datetime</code></td>
<td align="left"><code>scale_y_datetime()</code></td>
</tr>
</tbody>
</table>
<p>Note that in RStudio you can type <code>scale_</code> followed by <code>tab</code> to get the whole list of available scales. For a complete list of available scales see <a href="https://ggplot2.tidyverse.org/reference/" class="uri">https://ggplot2.tidyverse.org/reference/</a>.</p>
</div>
<div id="exercise-2-1" class="section level3">
<h3>Exercise 2</h3>
<ol style="list-style-type: decimal">
<li>Create a scatter plot with <code>CPI</code> on the x axis and <code>HDI</code> on the y axis. Color the points to indicate <code>Region</code>.</li>
</ol>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="Rgraphics.html#cb341-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Modify the x, y, and color scales so that they have more easily-understood names (e.g., spell out “Human development Index” instead of <code>HDI</code>). Hint: see <code>?scale_x_continous</code>, <code>?scale_y_continuous</code>, and <code>?scale_color_discrete</code>.</li>
</ol>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="Rgraphics.html#cb342-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Modify the color scale to use specific values of your choosing. Hint: see <code>?scale_color_manual</code>. NOTE: you can specify color by name (e.g., “blue”) or by “Hex value” — see <a href="https://www.color-hex.com/" class="uri">https://www.color-hex.com/</a>.</li>
</ol>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="Rgraphics.html#cb343-1"></a><span class="co">## </span></span></code></pre></div>
<details>
<summary><span style="color:red"><b>Click for Exercise 2 Solution</b></span></summary>
<div class="alert alert-danger">
<ol style="list-style-type: decimal">
<li>Create a scatter plot with <code>CPI</code> on the x axis and <code>HDI</code> on the y axis. Color the points to indicate <code>Region</code>.</li>
</ol>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="Rgraphics.html#cb344-1"></a><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> CPI, <span class="dt">y =</span> HDI, <span class="dt">color =</span> Region)) <span class="op">+</span></span>
<span id="cb344-2"><a href="Rgraphics.html#cb344-2"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-205-1.png" width="672" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Modify the x, y, and color scales so that they have more easily-understood names (e.g., spell out “Human development Index” instead of <code>HDI</code>). Hint: see <code>?scale_x_continous</code>, <code>?scale_y_continuous</code>, and <code>?scale_color_discrete</code>.</li>
</ol>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="Rgraphics.html#cb345-1"></a><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> CPI, <span class="dt">y =</span> HDI, <span class="dt">color =</span> Region)) <span class="op">+</span></span>
<span id="cb345-2"><a href="Rgraphics.html#cb345-2"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb345-3"><a href="Rgraphics.html#cb345-3"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Corruption Perception Index&quot;</span>) <span class="op">+</span></span>
<span id="cb345-4"><a href="Rgraphics.html#cb345-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Human Development Index&quot;</span>) <span class="op">+</span></span>
<span id="cb345-5"><a href="Rgraphics.html#cb345-5"></a><span class="st">  </span><span class="kw">scale_color_discrete</span>(<span class="dt">name =</span> <span class="st">&quot;Region of the world&quot;</span>)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-206-1.png" width="672" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Modify the color scale to use specific values of your choosing. Hint: see <code>?scale_color_manual</code>. NOTE: you can specify color by name (e.g., “blue”) or by “Hex value” — see <a href="https://www.color-hex.com/" class="uri">https://www.color-hex.com/</a>.</li>
</ol>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="Rgraphics.html#cb346-1"></a><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> CPI, <span class="dt">y =</span> HDI, <span class="dt">color =</span> Region)) <span class="op">+</span></span>
<span id="cb346-2"><a href="Rgraphics.html#cb346-2"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb346-3"><a href="Rgraphics.html#cb346-3"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Corruption Perception Index&quot;</span>) <span class="op">+</span></span>
<span id="cb346-4"><a href="Rgraphics.html#cb346-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Human Development Index&quot;</span>) <span class="op">+</span></span>
<span id="cb346-5"><a href="Rgraphics.html#cb346-5"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">name =</span> <span class="st">&quot;Region of the world&quot;</span>,</span>
<span id="cb346-6"><a href="Rgraphics.html#cb346-6"></a>                     <span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;grey&quot;</span>, <span class="st">&quot;brown&quot;</span>))</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-207-1.png" width="672" /></p>
</div>
</details>
</div>
</div>
<div id="faceting" class="section level2">
<h2>Faceting</h2>
<div id="what-is-faceting" class="section level3">
<h3>What is faceting?</h3>
<ul>
<li>Faceting is <code>ggplot2</code> parlance for <strong>creating individual graphs for subsets of data</strong></li>
<li><code>ggplot2</code> offers two functions for creating facets:
<ol style="list-style-type: decimal">
<li><code>facet_wrap()</code>: define subsets as the levels of a single grouping variable</li>
<li><code>facet_grid()</code>: define subsets as the crossing of two grouping variables</li>
</ol></li>
<li>Facets facilitate comparison among plots, not just of geoms within a plot</li>
</ul>
</div>
<div id="what-is-the-trend-in-housing-prices-in-each-state" class="section level3">
<h3>What is the trend in housing prices in each state?</h3>
<p>Start by using a technique we already know; map <code>State</code> to color:</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="Rgraphics.html#cb347-1"></a><span class="co"># map `State` to color</span></span>
<span id="cb347-2"><a href="Rgraphics.html#cb347-2"></a>p4 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(housing, <span class="kw">aes</span>(<span class="dt">x =</span> Date, <span class="dt">y =</span> Home_Value))</span>
<span id="cb347-3"><a href="Rgraphics.html#cb347-3"></a>p4 <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">color =</span> State))  </span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-208-1.png" width="672" /></p>
<p>There are two problems here; there are too many states to distinguish each one by color, and the lines obscure one another.</p>
</div>
<div id="faceting-to-the-rescue" class="section level3">
<h3>Faceting to the rescue</h3>
<p>We can remedy the deficiencies of the previous plot by faceting by <code>State</code> rather than mapping <code>State</code> to color.</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="Rgraphics.html#cb348-1"></a><span class="co"># facet by `State`</span></span>
<span id="cb348-2"><a href="Rgraphics.html#cb348-2"></a>p4 &lt;-<span class="st"> </span>p4 <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb348-3"><a href="Rgraphics.html#cb348-3"></a><span class="st">   </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>State, <span class="dt">ncol =</span> <span class="dv">10</span>)</span>
<span id="cb348-4"><a href="Rgraphics.html#cb348-4"></a>p4</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-209-1.png" width="672" /></p>
</div>
</div>
<div id="themes" class="section level2">
<h2>Themes</h2>
<div id="what-are-themes" class="section level3">
<h3>What are themes?</h3>
<p>The <code>ggplot2</code> theme system handles non-data plot elements such as:</p>
<ul>
<li>Axis label properties (e.g., font, size, color, etc.)</li>
<li>Plot background</li>
<li>Facet label background</li>
<li>Legend appearance</li>
</ul>
<p>Built-in themes include:</p>
<ul>
<li><code>theme_gray()</code> (default)</li>
<li><code>theme_bw()</code></li>
<li><code>theme_classic()</code></li>
</ul>
<p>Here are a couple of examples:</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="Rgraphics.html#cb349-1"></a><span class="co"># theme linedraw</span></span>
<span id="cb349-2"><a href="Rgraphics.html#cb349-2"></a>p4 <span class="op">+</span><span class="st"> </span><span class="kw">theme_linedraw</span>()</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-210-1.png" width="672" /></p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="Rgraphics.html#cb350-1"></a><span class="co"># theme light</span></span>
<span id="cb350-2"><a href="Rgraphics.html#cb350-2"></a>p4 <span class="op">+</span><span class="st"> </span><span class="kw">theme_light</span>()</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-211-1.png" width="672" /></p>
<p>You can see a list of available built-in themes here: <a href="https://ggplot2.tidyverse.org/reference/" class="uri">https://ggplot2.tidyverse.org/reference/</a>.</p>
</div>
<div id="overriding-theme-defaults" class="section level3">
<h3>Overriding theme defaults</h3>
<p>Specific theme elements can be overridden using <code>theme()</code>. For example:</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="Rgraphics.html#cb351-1"></a><span class="co"># theme(thing_to_modify = modifying_function(arg1, arg2))</span></span>
<span id="cb351-2"><a href="Rgraphics.html#cb351-2"></a></span>
<span id="cb351-3"><a href="Rgraphics.html#cb351-3"></a>p4 <span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb351-4"><a href="Rgraphics.html#cb351-4"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">text =</span> <span class="kw">element_text</span>(<span class="dt">color =</span> <span class="st">&quot;red&quot;</span>))  </span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-212-1.png" width="672" /></p>
<p>All theme options are documented in <code>?theme</code>. We can also see the existing default values using:</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="Rgraphics.html#cb352-1"></a><span class="kw">theme_get</span>()</span></code></pre></div>
</div>
<div id="creating-saving-new-themes" class="section level3">
<h3>Creating &amp; saving new themes</h3>
<p>You can create new themes, as in the following example:</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="Rgraphics.html#cb353-1"></a>theme_new &lt;-<span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb353-2"><a href="Rgraphics.html#cb353-2"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.background =</span> <span class="kw">element_rect</span>(<span class="dt">size =</span> <span class="dv">1</span>, <span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;black&quot;</span>),</span>
<span id="cb353-3"><a href="Rgraphics.html#cb353-3"></a>        <span class="dt">text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>, <span class="dt">color =</span> <span class="st">&quot;ivory&quot;</span>),</span>
<span id="cb353-4"><a href="Rgraphics.html#cb353-4"></a>        <span class="dt">axis.text.y =</span> <span class="kw">element_text</span>(<span class="dt">colour =</span> <span class="st">&quot;purple&quot;</span>),</span>
<span id="cb353-5"><a href="Rgraphics.html#cb353-5"></a>        <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">colour =</span> <span class="st">&quot;red&quot;</span>),</span>
<span id="cb353-6"><a href="Rgraphics.html#cb353-6"></a>        <span class="dt">panel.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;pink&quot;</span>),</span>
<span id="cb353-7"><a href="Rgraphics.html#cb353-7"></a>        <span class="dt">strip.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="kw">muted</span>(<span class="st">&quot;orange&quot;</span>)))</span>
<span id="cb353-8"><a href="Rgraphics.html#cb353-8"></a></span>
<span id="cb353-9"><a href="Rgraphics.html#cb353-9"></a>p4 <span class="op">+</span><span class="st"> </span>theme_new</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-214-1.png" width="672" /></p>
</div>
</div>
<div id="saving-plots" class="section level2">
<h2>Saving plots</h2>
<p>We can save a plot to either a vector (e.g., pdf, eps, ps, svg) or raster (e.g., jpg, png, tiff, bmp, wmf) graphics file using the <code>ggsave()</code> function:</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="Rgraphics.html#cb354-1"></a><span class="co"># save plot output to a file</span></span>
<span id="cb354-2"><a href="Rgraphics.html#cb354-2"></a><span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;myplot.pdf&quot;</span>, <span class="dt">plot =</span> p5, <span class="dt">device =</span> <span class="st">&quot;pdf&quot;</span>, </span>
<span id="cb354-3"><a href="Rgraphics.html#cb354-3"></a>       <span class="dt">height =</span> <span class="dv">6</span>, <span class="dt">width =</span> <span class="dv">6</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>)</span></code></pre></div>
</div>
<div id="the-1-faq" class="section level2">
<h2>The #1 FAQ</h2>
<div id="map-aesthetic-to-different-columns" class="section level3">
<h3>Map aesthetic to different columns</h3>
<p>The most frequently asked question goes something like this: <em>“I have two variables in my data.frame, and I’d like to plot them as separate points, with different color depending on which variable it is. How do I do that?”</em></p>
<p><strong>Wrong way</strong></p>
<p>Assigning, rather than mapping, the color aesthetic:</p>
<ol style="list-style-type: decimal">
<li>Produces verbose code when using many colors</li>
<li>Results in no legend being produced</li>
<li>Means you cannot change color scales</li>
</ol>
<p>To see this, let’s first calculate summary home and land value data:</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="Rgraphics.html#cb355-1"></a><span class="co"># get summary home and land value data</span></span>
<span id="cb355-2"><a href="Rgraphics.html#cb355-2"></a>housing_byyear &lt;-<span class="st"> </span></span>
<span id="cb355-3"><a href="Rgraphics.html#cb355-3"></a><span class="st">  </span>housing <span class="op">%&gt;%</span></span>
<span id="cb355-4"><a href="Rgraphics.html#cb355-4"></a><span class="st">  </span><span class="kw">group_by</span>(Date) <span class="op">%&gt;%</span></span>
<span id="cb355-5"><a href="Rgraphics.html#cb355-5"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">Home_Value_Mean =</span> <span class="kw">mean</span>(Home_Value),</span>
<span id="cb355-6"><a href="Rgraphics.html#cb355-6"></a>            <span class="dt">Land_Value_Mean =</span> <span class="kw">mean</span>(Land_Value)) <span class="op">%&gt;%</span></span>
<span id="cb355-7"><a href="Rgraphics.html#cb355-7"></a><span class="st">  </span><span class="kw">ungroup</span>()</span></code></pre></div>
<p>Now let’s assign the color aesthetic to the line geom for each variable:</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="Rgraphics.html#cb356-1"></a><span class="co"># assigning the color aesthetic to constants</span></span>
<span id="cb356-2"><a href="Rgraphics.html#cb356-2"></a><span class="kw">ggplot</span>(housing_byyear, <span class="kw">aes</span>(<span class="dt">x=</span>Date)) <span class="op">+</span></span>
<span id="cb356-3"><a href="Rgraphics.html#cb356-3"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y=</span>Home_Value_Mean), <span class="dt">color=</span><span class="st">&quot;red&quot;</span>) <span class="op">+</span></span>
<span id="cb356-4"><a href="Rgraphics.html#cb356-4"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y=</span>Land_Value_Mean), <span class="dt">color=</span><span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-217-1.png" width="672" /></p>
<p><strong>Right way</strong></p>
<p>To avoid these pitfalls, we need to <strong>map</strong> our data to the color aesthetic. We can do this by <strong>reshaping</strong> our data from <strong>wide format</strong> to <strong>long format</strong>. Here is the logic behind this process:</p>
<center>
<img src="R/Rgraphics/images/wide_vs_long.png" />
</center>
<p>Here’s the code that implements this transformation using <code>pivot_longer()</code>:</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="Rgraphics.html#cb357-1"></a><span class="co"># reshape data from wide to long</span></span>
<span id="cb357-2"><a href="Rgraphics.html#cb357-2"></a>home_land_byyear &lt;-<span class="st"> </span></span>
<span id="cb357-3"><a href="Rgraphics.html#cb357-3"></a><span class="st">    </span>housing_byyear <span class="op">%&gt;%</span></span>
<span id="cb357-4"><a href="Rgraphics.html#cb357-4"></a><span class="st">    </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span> <span class="kw">c</span>(Home_Value_Mean, Land_Value_Mean),</span>
<span id="cb357-5"><a href="Rgraphics.html#cb357-5"></a>                 <span class="dt">names_to =</span> <span class="st">&quot;type&quot;</span>,</span>
<span id="cb357-6"><a href="Rgraphics.html#cb357-6"></a>                 <span class="dt">values_to =</span> <span class="st">&quot;value&quot;</span>)</span></code></pre></div>
<p>Now we can map all our variables to the color aesthetic simultaneously, and <code>ggplot()</code> will automatically create a legend for us:</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="Rgraphics.html#cb358-1"></a><span class="co"># map data to the color aesthetic                  </span></span>
<span id="cb358-2"><a href="Rgraphics.html#cb358-2"></a><span class="kw">ggplot</span>(home_land_byyear, <span class="kw">aes</span>(<span class="dt">x =</span> Date, <span class="dt">y =</span> value, <span class="dt">color =</span> type)) <span class="op">+</span></span>
<span id="cb358-3"><a href="Rgraphics.html#cb358-3"></a><span class="st">  </span><span class="kw">geom_line</span>()</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-219-1.png" width="672" /></p>
</div>
<div id="exercise-3-2" class="section level3">
<h3>Exercise 3</h3>
<p>For this exercise, we’re going to use the built-in <code>midwest</code> dataset:</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="Rgraphics.html#cb359-1"></a><span class="kw">data</span>(<span class="st">&quot;midwest&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;ggplot2&quot;</span>)</span>
<span id="cb359-2"><a href="Rgraphics.html#cb359-2"></a><span class="kw">head</span>(midwest)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 28
##     PID county state  area poptotal popdensity popwhite popblack popamerindian
##   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;    &lt;int&gt;      &lt;dbl&gt;    &lt;int&gt;    &lt;int&gt;         &lt;int&gt;
## 1   561 ADAMS  IL    0.052    66090      1271.    63917     1702            98
## 2   562 ALEXA… IL    0.014    10626       759      7054     3496            19
## 3   563 BOND   IL    0.022    14991       681.    14477      429            35
## 4   564 BOONE  IL    0.017    30806      1812.    29344      127            46
## 5   565 BROWN  IL    0.018     5836       324.     5264      547            14
## 6   566 BUREAU IL    0.05     35688       714.    35157       50            65
## # … with 19 more variables: popasian &lt;int&gt;, popother &lt;int&gt;, percwhite &lt;dbl&gt;,
## #   percblack &lt;dbl&gt;, percamerindan &lt;dbl&gt;, percasian &lt;dbl&gt;, percother &lt;dbl&gt;,
## #   popadults &lt;int&gt;, perchsd &lt;dbl&gt;, percollege &lt;dbl&gt;, percprof &lt;dbl&gt;,
## #   poppovertyknown &lt;int&gt;, percpovertyknown &lt;dbl&gt;, percbelowpoverty &lt;dbl&gt;,
## #   percchildbelowpovert &lt;dbl&gt;, percadultpoverty &lt;dbl&gt;,
## #   percelderlypoverty &lt;dbl&gt;, inmetro &lt;int&gt;, category &lt;chr&gt;</code></pre>
<ol style="list-style-type: decimal">
<li>Create a scatter plot with <code>area</code> on the x axis and the log of <code>poptotal</code> on the y axis.</li>
</ol>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="Rgraphics.html#cb361-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Within the <code>geom_point()</code> call, map color to <code>state</code>, map size to the log of <code>popdensity</code>, and fix transparency (<code>alpha</code>) to 0.3.</li>
</ol>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="Rgraphics.html#cb362-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Add a smoother and turn off plotting the confidence interval. Hint: see the <code>se</code> argument to <code>geom_smooth()</code>.</li>
</ol>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="Rgraphics.html#cb363-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Facet the plot by <code>state</code>. Set the <code>scales</code> argument to <code>facet_wrap()</code> to allow separate ranges for the x-axis.</li>
</ol>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="Rgraphics.html#cb364-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>Change the default color scale to use the discrete <code>RColorBrewer</code> palette called <code>Set1</code>. Hint: see <code>?scale_color_brewer</code>.</li>
</ol>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="Rgraphics.html#cb365-1"></a><span class="co">## </span></span></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li>BONUS: Change the default theme to <code>theme_bw()</code> and modify it so that the axis title is colored blue in bold font face and the facet label background is filled in yellow. Hint: see <code>?theme</code> and especially <code>axis.title</code> and <code>strip.background</code>.</li>
</ol>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="Rgraphics.html#cb366-1"></a><span class="co">## </span></span></code></pre></div>
<details>
<summary><span style="color:red"><b>Click for Exercise 3 Solution</b></span></summary>
<div class="alert alert-danger">
<p>For this exercise, we’re going to use the built-in <code>midwest</code> dataset:</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="Rgraphics.html#cb367-1"></a><span class="kw">data</span>(<span class="st">&quot;midwest&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;ggplot2&quot;</span>)</span>
<span id="cb367-2"><a href="Rgraphics.html#cb367-2"></a><span class="kw">head</span>(midwest)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 28
##     PID county state  area poptotal popdensity popwhite popblack popamerindian
##   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;    &lt;int&gt;      &lt;dbl&gt;    &lt;int&gt;    &lt;int&gt;         &lt;int&gt;
## 1   561 ADAMS  IL    0.052    66090      1271.    63917     1702            98
## 2   562 ALEXA… IL    0.014    10626       759      7054     3496            19
## 3   563 BOND   IL    0.022    14991       681.    14477      429            35
## 4   564 BOONE  IL    0.017    30806      1812.    29344      127            46
## 5   565 BROWN  IL    0.018     5836       324.     5264      547            14
## 6   566 BUREAU IL    0.05     35688       714.    35157       50            65
## # … with 19 more variables: popasian &lt;int&gt;, popother &lt;int&gt;, percwhite &lt;dbl&gt;,
## #   percblack &lt;dbl&gt;, percamerindan &lt;dbl&gt;, percasian &lt;dbl&gt;, percother &lt;dbl&gt;,
## #   popadults &lt;int&gt;, perchsd &lt;dbl&gt;, percollege &lt;dbl&gt;, percprof &lt;dbl&gt;,
## #   poppovertyknown &lt;int&gt;, percpovertyknown &lt;dbl&gt;, percbelowpoverty &lt;dbl&gt;,
## #   percchildbelowpovert &lt;dbl&gt;, percadultpoverty &lt;dbl&gt;,
## #   percelderlypoverty &lt;dbl&gt;, inmetro &lt;int&gt;, category &lt;chr&gt;</code></pre>
<ol style="list-style-type: decimal">
<li>Create a scatter plot with <code>area</code> on the x axis and the log of <code>poptotal</code> on the y axis.</li>
</ol>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="Rgraphics.html#cb369-1"></a>p5 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(midwest, <span class="kw">aes</span>(<span class="dt">x =</span> area, <span class="dt">y =</span> <span class="kw">log</span>(poptotal))) </span>
<span id="cb369-2"><a href="Rgraphics.html#cb369-2"></a>p5 <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() </span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-228-1.png" width="672" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Within the <code>geom_point()</code> call, map color to <code>state</code>, map size to the log of <code>popdensity</code>, and fix transparency (<code>alpha</code>) to 0.3.</li>
</ol>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="Rgraphics.html#cb370-1"></a>p5 &lt;-<span class="st"> </span>p5 <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> state, <span class="dt">size =</span> <span class="kw">log</span>(popdensity)), <span class="dt">alpha =</span> <span class="fl">0.3</span>) </span>
<span id="cb370-2"><a href="Rgraphics.html#cb370-2"></a>p5</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-229-1.png" width="672" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Add a smoother and turn off plotting the confidence interval. Hint: see the <code>se</code> argument to <code>geom_smooth()</code>.</li>
</ol>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="Rgraphics.html#cb371-1"></a>p5 &lt;-<span class="st"> </span>p5 <span class="op">+</span><span class="st"> </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;loess&quot;</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>) </span>
<span id="cb371-2"><a href="Rgraphics.html#cb371-2"></a>p5</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-230-1.png" width="672" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Facet the plot by <code>state</code>. Set the <code>scales</code> argument to <code>facet_wrap()</code> to allow separate ranges for the x-axis.</li>
</ol>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb372-1"><a href="Rgraphics.html#cb372-1"></a>p5 &lt;-<span class="st"> </span>p5 <span class="op">+</span><span class="st"> </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>state, <span class="dt">scales =</span> <span class="st">&quot;free_x&quot;</span>)</span>
<span id="cb372-2"><a href="Rgraphics.html#cb372-2"></a>p5</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-231-1.png" width="672" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Change the default color scale to use the discrete <code>RColorBrewer</code> palette called <code>Set1</code>. Hint: see <code>?scale_color_brewer</code>.</li>
</ol>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="Rgraphics.html#cb373-1"></a>p5 &lt;-<span class="st"> </span>p5 <span class="op">+</span><span class="st"> </span><span class="kw">scale_color_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;Set1&quot;</span>)</span>
<span id="cb373-2"><a href="Rgraphics.html#cb373-2"></a>p5</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-232-1.png" width="672" /></p>
<ol start="6" style="list-style-type: decimal">
<li>BONUS: Change the default theme to <code>theme_bw()</code> and modify it so that the axis title is colored blue in bold font face and the facet label background is filled in yellow. Hint: see <code>?theme</code> and especially <code>axis.title</code> and <code>strip.background</code>.</li>
</ol>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="Rgraphics.html#cb374-1"></a>p5 &lt;-<span class="st"> </span>p5 <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb374-2"><a href="Rgraphics.html#cb374-2"></a><span class="st">    </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb374-3"><a href="Rgraphics.html#cb374-3"></a>          <span class="dt">strip.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;yellow&quot;</span>))</span>
<span id="cb374-4"><a href="Rgraphics.html#cb374-4"></a>p5</span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-233-1.png" width="672" /></p>
<p>Here’s the complete code for the Exercise 3 plot:</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="Rgraphics.html#cb375-1"></a><span class="kw">ggplot</span>(midwest, <span class="kw">aes</span>(<span class="dt">x =</span> area, <span class="dt">y =</span> <span class="kw">log</span>(poptotal))) <span class="op">+</span></span>
<span id="cb375-2"><a href="Rgraphics.html#cb375-2"></a><span class="st">    </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> state, <span class="dt">size =</span> <span class="kw">log</span>(popdensity)), <span class="dt">alpha =</span> <span class="fl">0.3</span>) <span class="op">+</span></span>
<span id="cb375-3"><a href="Rgraphics.html#cb375-3"></a><span class="st">    </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;loess&quot;</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb375-4"><a href="Rgraphics.html#cb375-4"></a><span class="st">    </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>state, <span class="dt">scales =</span> <span class="st">&quot;free_x&quot;</span>) <span class="op">+</span></span>
<span id="cb375-5"><a href="Rgraphics.html#cb375-5"></a><span class="st">    </span><span class="kw">scale_color_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;Set1&quot;</span>) <span class="op">+</span></span>
<span id="cb375-6"><a href="Rgraphics.html#cb375-6"></a><span class="st">    </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb375-7"><a href="Rgraphics.html#cb375-7"></a><span class="st">    </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb375-8"><a href="Rgraphics.html#cb375-8"></a>          <span class="dt">strip.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;yellow&quot;</span>))       </span></code></pre></div>
<p><img src="R/Rgraphics/figures/unnamed-chunk-234-1.png" width="672" /></p>
</div>
</details>
</div>
</div>
<div id="wrap-up-3" class="section level2">
<h2>Wrap-up</h2>
<div id="feedback-3" class="section level3">
<h3>Feedback</h3>
<p>These workshops are a work in progress, please provide any feedback to: <a href="mailto:help@iq.harvard.edu" class="email">help@iq.harvard.edu</a></p>
</div>
<div id="resources-4" class="section level3">
<h3>Resources</h3>
<ul>
<li>IQSS
<ul>
<li>Workshops: <a href="https://www.iq.harvard.edu/data-science-services/workshop-materials" class="uri">https://www.iq.harvard.edu/data-science-services/workshop-materials</a></li>
<li>Data Science Services: <a href="https://www.iq.harvard.edu/data-science-services" class="uri">https://www.iq.harvard.edu/data-science-services</a></li>
<li>Research Computing Environment: <a href="https://iqss.github.io/dss-rce/" class="uri">https://iqss.github.io/dss-rce/</a></li>
</ul></li>
<li>HBS
<ul>
<li>Research Computing Services workshops: <a href="https://training.rcs.hbs.org/workshops" class="uri">https://training.rcs.hbs.org/workshops</a></li>
<li>Other HBS RCS resources: <a href="https://training.rcs.hbs.org/workshop-materials" class="uri">https://training.rcs.hbs.org/workshop-materials</a></li>
<li>RCS consulting email: <a href="mailto:research@hbs.edu" class="uri">mailto:research@hbs.edu</a></li>
</ul></li>
<li>ggplot2
<ul>
<li>Reference: <a href="https://ggplot2.tidyverse.org/reference/" class="uri">https://ggplot2.tidyverse.org/reference/</a></li>
<li>Cheatsheets: <a href="https://rstudio.com/wp-content/uploads/2019/01/Cheatsheets_2019.pdf" class="uri">https://rstudio.com/wp-content/uploads/2019/01/Cheatsheets_2019.pdf</a></li>
<li>Examples: <a href="http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html" class="uri">http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html</a></li>
<li>Tutorial: <a href="https://uc-r.github.io/ggplot_intro" class="uri">https://uc-r.github.io/ggplot_intro</a></li>
<li>Mailing list: <a href="http://groups.google.com/group/ggplot2" class="uri">http://groups.google.com/group/ggplot2</a></li>
<li>Wiki: <a href="https://github.com/hadley/ggplot2/wiki" class="uri">https://github.com/hadley/ggplot2/wiki</a></li>
<li>Website: <a href="http://had.co.nz/ggplot2/" class="uri">http://had.co.nz/ggplot2/</a></li>
<li>StackOverflow: <a href="http://stackoverflow.com/questions/tagged/ggplot" class="uri">http://stackoverflow.com/questions/tagged/ggplot</a></li>
</ul></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Rmodels.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="RDataWrangling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/IQSS/dss-workshops/edit/master/R/Rgraphics/Rgraphics.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Data_Science_Workshops.pdf", "Data_Science_Workshops.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
